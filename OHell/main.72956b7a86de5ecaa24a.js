(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n("uXP2"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:o,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(i);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(o)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.e)(s.value,2),u=a[1],l=this.normalizeInstanceIdentifier(a[0]);try{var c=this.getOrInitializeService(l);u.resolve(c)}catch(h){}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===o?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7Hc7":function(t,e,n){"use strict";n.d(e,"b",function(){return d}),n.d(e,"a",function(){return f});let r=1;const i=(()=>Promise.resolve())(),s={};function o(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=r++;return s[e]=!0,i.then(()=>o(e)&&t()),e},clearImmediate(t){o(t)}};var u=n("3N8a");class l extends u.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var c=n("IjjT");class h extends c.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new h(l),f=d},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class l extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof l?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new c(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new c(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new l(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class c extends l{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),u=n("Lhse"),l=n("c2HN"),c=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(l.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(c.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return s});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),s=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let l=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=c(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=c(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function c(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.2.1","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),u=n("c2HN"),l=n("XoHu");const c=t=>{if(t&&"function"==typeof t[o.a])return c=t,t=>{const e=c[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(l.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,c}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return l}),n.d(e,"a",function(){return c});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class l extends i.a{constructor(t){super(t),this.destination=t}}let c=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new l(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends c{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return L}),n.d(e,"b",function(){return Ru}),n.d(e,"c",function(){return Tu}),n.d(e,"d",function(){return Ou}),n.d(e,"e",function(){return Cu}),n.d(e,"f",function(){return El}),n.d(e,"g",function(){return dl}),n.d(e,"h",function(){return Ta}),n.d(e,"i",function(){return zu}),n.d(e,"j",function(){return ta}),n.d(e,"k",function(){return Nu}),n.d(e,"l",function(){return ia}),n.d(e,"m",function(){return Or}),n.d(e,"n",function(){return eu}),n.d(e,"o",function(){return ls}),n.d(e,"p",function(){return b}),n.d(e,"q",function(){return N}),n.d(e,"r",function(){return Os}),n.d(e,"s",function(){return wa}),n.d(e,"t",function(){return Ea}),n.d(e,"u",function(){return ju}),n.d(e,"v",function(){return Ua}),n.d(e,"w",function(){return pl}),n.d(e,"x",function(){return Ma}),n.d(e,"y",function(){return al}),n.d(e,"z",function(){return $u}),n.d(e,"A",function(){return v}),n.d(e,"B",function(){return Pu}),n.d(e,"C",function(){return Au}),n.d(e,"D",function(){return ru}),n.d(e,"E",function(){return oa}),n.d(e,"F",function(){return sa}),n.d(e,"G",function(){return kr}),n.d(e,"H",function(){return ua}),n.d(e,"I",function(){return In}),n.d(e,"J",function(){return w}),n.d(e,"K",function(){return yl}),n.d(e,"L",function(){return Da}),n.d(e,"M",function(){return tl}),n.d(e,"N",function(){return W}),n.d(e,"O",function(){return ca}),n.d(e,"P",function(){return la}),n.d(e,"Q",function(){return Va}),n.d(e,"R",function(){return nt}),n.d(e,"S",function(){return ul}),n.d(e,"T",function(){return rn}),n.d(e,"U",function(){return q}),n.d(e,"V",function(){return Ut}),n.d(e,"W",function(){return nn}),n.d(e,"X",function(){return _l}),n.d(e,"Y",function(){return rl}),n.d(e,"Z",function(){return Du}),n.d(e,"ab",function(){return hs}),n.d(e,"bb",function(){return Vo}),n.d(e,"cb",function(){return Cn}),n.d(e,"db",function(){return ln}),n.d(e,"eb",function(){return We}),n.d(e,"fb",function(){return Qe}),n.d(e,"gb",function(){return Je}),n.d(e,"hb",function(){return Ze}),n.d(e,"ib",function(){return Ye}),n.d(e,"jb",function(){return Xe}),n.d(e,"kb",function(){return Lo}),n.d(e,"lb",function(){return vl}),n.d(e,"mb",function(){return Mo}),n.d(e,"nb",function(){return Uo}),n.d(e,"ob",function(){return Ke}),n.d(e,"pb",function(){return H}),n.d(e,"qb",function(){return js}),n.d(e,"rb",function(){return Js}),n.d(e,"sb",function(){return Xs}),n.d(e,"tb",function(){return No}),n.d(e,"ub",function(){return Bt}),n.d(e,"vb",function(){return E}),n.d(e,"wb",function(){return $e}),n.d(e,"xb",function(){return Ts}),n.d(e,"yb",function(){return jn}),n.d(e,"zb",function(){return Zo}),n.d(e,"Ab",function(){return mi}),n.d(e,"Bb",function(){return Ms}),n.d(e,"Cb",function(){return Ao}),n.d(e,"Db",function(){return go}),n.d(e,"Eb",function(){return yu}),n.d(e,"Fb",function(){return ft}),n.d(e,"Gb",function(){return _t}),n.d(e,"Hb",function(){return C}),n.d(e,"Ib",function(){return T}),n.d(e,"Jb",function(){return yt}),n.d(e,"Kb",function(){return wt}),n.d(e,"Lb",function(){return Bs}),n.d(e,"Mb",function(){return Ks}),n.d(e,"Nb",function(){return Ys}),n.d(e,"Ob",function(){return Qs}),n.d(e,"Pb",function(){return Ws}),n.d(e,"Qb",function(){return $s}),n.d(e,"Rb",function(){return Zs}),n.d(e,"Sb",function(){return wr}),n.d(e,"Tb",function(){return Po}),n.d(e,"Ub",function(){return Mt}),n.d(e,"Vb",function(){return Hs}),n.d(e,"Wb",function(){return xu}),n.d(e,"Xb",function(){return zs}),n.d(e,"Yb",function(){return to}),n.d(e,"Zb",function(){return _u}),n.d(e,"ac",function(){return ro}),n.d(e,"bc",function(){return oo}),n.d(e,"cc",function(){return so}),n.d(e,"dc",function(){return qs}),n.d(e,"ec",function(){return fu}),n.d(e,"fc",function(){return Vs}),n.d(e,"gc",function(){return fe}),n.d(e,"hc",function(){return kn}),n.d(e,"ic",function(){return bt}),n.d(e,"jc",function(){return bu}),n.d(e,"kc",function(){return pu}),n.d(e,"lc",function(){return mo}),n.d(e,"mc",function(){return Fs}),n.d(e,"nc",function(){return To}),n.d(e,"oc",function(){return Io}),n.d(e,"pc",function(){return ko}),n.d(e,"qc",function(){return mu});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("7o/Q");function u(){return function(t){return t.lift(new l(t))}}class l{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new c(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class c extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends s.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new f(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return u()(this)}}const d=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class f extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function m(t){return{toString:t}.toString()}const g="__parameters__";function y(t,e,n){return m(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(g)?t[g]:Object.defineProperty(t,g,{value:[]})[g];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const b=y("Inject",t=>({token:t})),v=y("Optional"),_=y("Self"),w=y("SkipSelf");function E(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(E).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function S(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}function x(t){for(let e in t)if(t[e]===x)return e;throw Error("Could not find renamed property on target object.")}function O(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function C(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function T(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function I(t){return k(t,P)||k(t,D)}function k(t,e){return t.hasOwnProperty(e)?t[e]:null}function A(t){return t&&(t.hasOwnProperty(R)||t.hasOwnProperty(j))?t[R]:null}const P=x({"\u0275prov":x}),R=x({"\u0275inj":x}),D=x({ngInjectableDef:x}),j=x({ngInjectorDef:x});class N{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=C({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const L=new N("AnalyzeForEntryComponents");var M=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({});const U="undefined"!=typeof globalThis&&globalThis,F="undefined"!=typeof window&&window,V="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,B="undefined"!=typeof global&&global,H=U||B||F||V,z=x({__forward_ref__:x});function q(t){return t.__forward_ref__=q,t.toString=function(){return E(this())},t}function G(t){return $(t)?t():t}function $(t){return"function"==typeof t&&t.hasOwnProperty(z)&&t.__forward_ref__===q}const W=Function;function K(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),K(r,e)):e!==t&&e.push(r)}return e}function Q(t,e){t.forEach(t=>Array.isArray(t)?Q(t,e):e(t))}function Y(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Z(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function X(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function J(t,e,n){let r=et(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function tt(t,e){const n=et(t,e);if(n>=0)return t[1|n]}function et(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}var nt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const rt={},it=[],st=x({"\u0275cmp":x}),ot=x({"\u0275dir":x}),at=x({"\u0275pipe":x}),ut=x({"\u0275mod":x}),lt=x({"\u0275loc":x}),ct=x({"\u0275fac":x}),ht=x({__NG_ELEMENT_ID__:x});let dt=0;function ft(t){return m(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===M.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||it,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||nt.Emulated,id:"c",styles:t.styles||it,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=dt++,n.inputs=vt(t.inputs,e),n.outputs=vt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(pt):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(mt):null,n})}function pt(t){return Et(t)||function(t){return t[ot]||null}(t)}function mt(t){return function(t){return t[at]||null}(t)}const gt={};function yt(t){const e={type:t.type,bootstrap:t.bootstrap||it,declarations:t.declarations||it,imports:t.imports||it,exports:t.exports||it,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&m(()=>{gt[t.id]=t.type}),e}function bt(t,e){return m(()=>{const n=St(t,!0);n.declarations=e.declarations||it,n.imports=e.imports||it,n.exports=e.exports||it})}function vt(t,e){if(null==t)return rt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const _t=ft;function wt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Et(t){return t[st]||null}function St(t,e){const n=t[ut]||null;if(!n&&!0===e)throw new Error(`Type ${E(t)} does not have '\u0275mod' property.`);return n}function xt(t){return"string"==typeof t?t:null==t?"":""+t}function Ot(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():xt(t)}var Ct=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let Tt;function It(t){const e=Tt;return Tt=t,e}function kt(t,e,n){const r=I(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&Ct.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${E(t)}]`)}const At={},Pt=/\n/gm,Rt="__source",Dt=x({provide:String,useValue:x});let jt=void 0;function Nt(t){const e=jt;return jt=t,e}function Lt(t,e=Ct.Default){if(void 0===jt)throw new Error("inject() must be called from an injection context");return null===jt?kt(t,void 0,e):jt.get(t,e&Ct.Optional?null:void 0,e)}function Mt(t,e=Ct.Default){return(Tt||Lt)(G(t),e)}const Ut=Mt;function Ft(t){const e=[];for(let n=0;n<t.length;n++){const r=G(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=Ct.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof v||"Optional"===i.ngMetadataName||i===v?n|=Ct.Optional:i instanceof w||"SkipSelf"===i.ngMetadataName||i===w?n|=Ct.SkipSelf:i instanceof _||"Self"===i.ngMetadataName||i===_?n|=Ct.Self:t=i instanceof b||i===b?i.token:i}e.push(Mt(t,n))}else e.push(Mt(r))}return e}let Vt=void 0;function Bt(t){Vt=t}const Ht=20,zt=10;function qt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Gt(t){return Array.isArray(t)&&!0===t[1]}function $t(t){return 0!=(8&t.flags)}function Wt(t){return 2==(2&t.flags)}function Kt(t){return 1==(1&t.flags)}function Qt(t){return null!==t.template}function Yt(t){return!!t.listen}const Zt={createRenderer:(t,e)=>void 0!==Vt?Vt:"undefined"!=typeof document?document:void 0};function Xt(t){for(;Array.isArray(t);)t=t[0];return t}function Jt(t,e){return Xt(e[t])}function te(t,e){return Xt(e[t.index])}function ee(t,e){return t.data[e]}function ne(t,e){const n=e[t];return qt(n)?n:n[0]}function re(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function ie(t){return 4==(4&t[2])}function se(t){return 128==(128&t[2])}function oe(t,e){return null==e?null:t[e]}function ae(t){t[18]=0}function ue(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const le={lFrame:Pe(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ce(){return le.bindingsEnabled}function he(){return le.lFrame.lView}function de(){return le.lFrame.tView}function fe(t){le.lFrame.contextLView=t}function pe(){let t=me();for(;null!==t&&64===t.type;)t=t.parent;return t}function me(){return le.lFrame.currentTNode}function ge(t,e){const n=le.lFrame;n.currentTNode=t,n.isParent=e}function ye(){return le.lFrame.isParent}function be(){le.lFrame.isParent=!1}function ve(){return le.isInCheckNoChangesMode}function _e(t){le.isInCheckNoChangesMode=t}function we(){return le.lFrame.bindingIndex++}function Ee(t){const e=le.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Se(t,e){const n=le.lFrame;n.bindingIndex=n.bindingRootIndex=t,xe(e)}function xe(t){le.lFrame.currentDirectiveIndex=t}function Oe(){return le.lFrame.currentQueryIndex}function Ce(t){le.lFrame.currentQueryIndex=t}function Te(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Ie(t,e,n){if(n&Ct.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&Ct.Host||(r=Te(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=le.lFrame=Ae();return r.currentTNode=e,r.lView=t,!0}function ke(t){const e=Ae(),n=t[1];le.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Ae(){const t=le.lFrame,e=null===t?null:t.child;return null===e?Pe(t):e}function Pe(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Re(){const t=le.lFrame;return le.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const De=Re;function je(){const t=Re();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ne(){return le.lFrame.selectedIndex}function Le(t){le.lFrame.selectedIndex=t}function Me(){const t=le.lFrame;return ee(t.tView,t.selectedIndex)}let Ue;function Fe(t){var e;return(null===(e=function(){if(void 0===Ue&&(Ue=null,H.trustedTypes))try{Ue=H.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Ue}())||void 0===e?void 0:e.createHTML(t))||t}class Ve{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class Be extends Ve{getTypeName(){return"HTML"}}class He extends Ve{getTypeName(){return"Style"}}class ze extends Ve{getTypeName(){return"Script"}}class qe extends Ve{getTypeName(){return"URL"}}class Ge extends Ve{getTypeName(){return"ResourceURL"}}function $e(t){return t instanceof Ve?t.changingThisBreaksApplicationSecurity:t}function We(t,e){const n=Ke(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function Ke(t){return t instanceof Ve&&t.getTypeName()||null}function Qe(t){return new Be(t)}function Ye(t){return new He(t)}function Ze(t){return new ze(t)}function Xe(t){return new qe(t)}function Je(t){return new Ge(t)}let tn=!0,en=!1;function nn(){return en=!0,tn}function rn(){if(en)throw new Error("Cannot enable prod mode after platform setup.");tn=!1}class sn{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Fe(t),"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class on{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Fe(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Fe(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const an=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,un=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ln(t){return(t=String(t)).match(an)||t.match(un)?t:(nn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function cn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function hn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const dn=cn("area,br,col,hr,img,wbr"),fn=cn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),pn=cn("rp,rt"),mn=hn(pn,fn),gn=hn(dn,hn(fn,cn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),hn(pn,cn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),mn),yn=cn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),bn=cn("srcset"),vn=hn(yn,bn,cn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),cn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),_n=cn("script,style,template");class wn{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!gn.hasOwnProperty(e))return this.sanitizedSomething=!0,!_n.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!vn.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;yn[s]&&(o=ln(o)),bn[s]&&(r=o,o=(r=String(r)).split(",").map(t=>ln(t.trim())).join(", ")),this.buf.push(" ",e,'="',xn(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();gn.hasOwnProperty(e)&&!dn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(xn(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const En=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Sn=/([^\#-~ |!])/g;function xn(t){return t.replace(/&/g,"&amp;").replace(En,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Sn,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let On;function Cn(t,e){let n=null;try{On=On||function(t){return function(){try{return!!(new window.DOMParser).parseFromString(Fe(""),"text/html")}catch(t){return!1}}()?new sn:new on(t)}(t);let r=e?String(e):"";n=On.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=On.getInertBodyElement(r)}while(r!==s);const o=new wn,a=o.sanitizeChildren(Tn(n)||n);return nn()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=Tn(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function Tn(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var In=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function kn(t){const e=function(){const t=he();return t&&t[12]}();return e?e.sanitize(In.URL,t)||"":We(t,"URL")?$e(t):ln(xt(t))}function An(t,e){return t.hasOwnProperty(ct)?t[ct]:null}class Pn extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function Rn(t,e){const n=e?" in "+e:"";throw new Pn("201",`No provider for ${Ot(t)} found${n}`)}class Dn{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function jn(){return Nn}function Nn(t){return t.type.prototype.ngOnChanges&&(t.setInput=Mn),Ln}function Ln(){const t=Un(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===rt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Mn(t,e,n,r){const i=Un(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:rt,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new Dn(u&&u.currentValue,e,o===rt),t[r]=e}function Un(t){return t.__ngSimpleChanges__||null}function Fn(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Vn(t,e,n){zn(t,e,3,n)}function Bn(t,e,n,r){(3&t[2])===n&&zn(t,e,n,r)}function Hn(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function zn(t,e,n,r){const i=null!=r?r:-1;let s=0;for(let o=void 0!==r?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=r&&s>=r)break}else e[o]<0&&(t[18]+=65536),(s<i||-1==i)&&(qn(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function qn(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}jn.ngInherit=!0;const Gn=-1;class $n{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Wn(t,e,n){const r=Yt(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Qn(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Kn(t){return 3===t||4===t||6===t}function Qn(t){return 64===t.charCodeAt(0)}function Yn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Zn(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Zn(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Xn(t){return t!==Gn}function Jn(t){return 32767&t}function tr(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let er=!0;function nr(t){const e=er;return er=t,e}let rr=0;function ir(t,e){const n=or(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,sr(r.data,t),sr(e,null),sr(r.blueprint,null));const i=ar(t,e),s=t.injectorIndex;if(Xn(i)){const t=Jn(i),n=tr(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function sr(t,e){t.push(0,0,0,0,0,0,0,0,e)}function or(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function ar(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Gn;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Gn}function ur(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ht)&&(r=n[ht]),null==r&&(r=n[ht]=rr++);const i=255&r,s=1<<i,o=64&i,a=32&i,u=e.data;128&i?o?a?u[t+7]|=s:u[t+6]|=s:a?u[t+5]|=s:u[t+4]|=s:o?a?u[t+3]|=s:u[t+2]|=s:a?u[t+1]|=s:u[t]|=s}(t,e,n)}function lr(t,e,n){if(n&Ct.Optional)return t;Rn(e,"NodeInjector")}function cr(t,e,n,r){if(n&Ct.Optional&&void 0===r&&(r=null),0==(n&(Ct.Self|Ct.Host))){const i=t[9],s=It(void 0);try{return i?i.get(e,r,n&Ct.Optional):kt(e,r,n&Ct.Optional)}finally{It(s)}}return lr(r,e,n)}function hr(t,e,n,r=Ct.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(ht)?t[ht]:void 0;return"number"==typeof e?e>=0?255&e:fr:e}(n);if("function"==typeof s){if(!Ie(e,t,r))return r&Ct.Host?lr(i,n,r):cr(e,n,r,i);try{const t=s();if(null!=t||r&Ct.Optional)return t;Rn(n)}finally{De()}}else if("number"==typeof s){let i=null,o=or(t,e),a=Gn,u=r&Ct.Host?e[16][6]:null;for((-1===o||r&Ct.SkipSelf)&&(a=-1===o?ar(t,e):e[o+8],a!==Gn&&br(r,!1)?(i=e[1],o=Jn(a),e=tr(a,e)):o=-1);-1!==o;){const t=e[1];if(yr(s,o,t.data)){const t=pr(o,e,n,i,r,u);if(t!==dr)return t}a=e[o+8],a!==Gn&&br(r,e[1].data[o+8]===u)&&yr(s,o,e)?(i=t,o=Jn(a),e=tr(a,e)):o=-1}}}return cr(e,n,r,i)}const dr={};function fr(){return new vr(pe(),he())}function pr(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=mr(a,o,n,null==r?Wt(a)&&er:r!=o&&0!=(3&a.type),i&Ct.Host&&s===a);return null!==u?gr(e,o,u,a):dr}function mr(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,c=i?a+l:t.directiveEnd;for(let h=r?a:a+l;h<c;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&Qt(t)&&t.type===n)return u}return null}function gr(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof $n){const o=i;o.resolving&&function(t,e){throw new Pn("200","Circular dependency in DI detected for "+t)}(Ot(s[n]));const a=nr(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?It(o.injectImpl):null;Ie(t,r,Ct.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=Nn(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&It(u),nr(a),o.resolving=!1,De()}}return i}function yr(t,e,n){const r=64&t,i=32&t;let s;return s=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(s&1<<t)}function br(t,e){return!(t&Ct.Self||t&Ct.Host&&e)}class vr{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return hr(this._tNode,this._lView,t,void 0,e)}}function _r(t){const e=t;if($(t))return()=>{const t=_r(G(e));return t?t():null};let n=An(e);if(null===n){const t=A(e);n=t&&t.factory}return n||null}function wr(t){return m(()=>{const e=t.prototype.constructor,n=e[ct]||_r(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[ct]||_r(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Er(t){return t.ngDebugContext}function Sr(t){return t.ngOriginalError}function xr(t,...e){t.error(...e)}class Or{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||xr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Er(t)?Er(t):this._findContext(Sr(t)):null}_findOriginalError(t){let e=Sr(t);for(;e&&Sr(e);)e=Sr(e);return e}}function Cr(t,e){t.__ngContext__=e}const Tr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(H))();function Ir(t){return t instanceof Function?t():t}var kr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Ar(t,e){return(void 0)(t,e)}function Pr(t){const e=t[3];return Gt(e)?e[3]:e}function Rr(t){return jr(t[13])}function Dr(t){return jr(t[4])}function jr(t){for(;null!==t&&!Gt(t);)t=t[4];return t}function Nr(t,e,n,r,i){if(null!=r){let s,o=!1;Gt(r)?s=r:qt(r)&&(o=!0,r=r[0]);const a=Xt(r);0===t&&null!==n?null==i?zr(e,n,a):Hr(e,n,a,i||null,!0):1===t&&null!==n?Hr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Gr(t,e);r&&function(t,e,n,r){Yt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==Xt(n)&&Nr(e,t,r,s,i);for(let o=zt;o<n.length;o++){const i=n[o];Xr(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Lr(t,e,n){return Yt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Mr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,ue(i,-1)),n.splice(r,1)}function Ur(t,e){if(t.length<=zt)return;const n=zt+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&Mr(s,r),e>0&&(t[n-1][4]=r[4]);const o=Z(t,zt+e);Xr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Fr(t,e){if(!(256&e[2])){const n=e[11];Yt(n)&&n.destroyNode&&Xr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Vr(t[1],t);for(;e;){let n=null;if(qt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)qt(e)&&Vr(e[1],e),e=e[3];null===e&&(e=t),qt(e)&&Vr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Vr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof $n)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],s="function"==typeof i?i(e):Xt(e[i]),o=t[n[r+2]],a=n[r+3];"boolean"==typeof a?s.removeEventListener(n[r],o,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e),1===e[1].type&&Yt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Gt(e[3])){n!==e[3]&&Mr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Br(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===nt.None||e===nt.Emulated)return null}return te(r,n)}(t,e.parent,n)}function Hr(t,e,n,r,i){Yt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function zr(t,e,n){Yt(t)?t.appendChild(e,n):e.appendChild(n)}function qr(t,e,n,r,i){null!==r?Hr(t,e,n,r,i):zr(t,e,n)}function Gr(t,e){return Yt(t)?t.parentNode(e):e.parentNode}function $r(t,e,n){return Wr(t,e,n)}let Wr=function(t,e,n){return 40&t.type?te(t,n):null};function Kr(t,e,n,r){const i=Br(t,r,e),s=e[11],o=$r(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)qr(s,i,n[a],o,!1);else qr(s,i,n,o,!1)}function Qr(t,e){if(null!==e){const n=e.type;if(3&n)return te(e,t);if(4&n)return Yr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Qr(t,n);{const n=t[e.index];return Gt(n)?Yr(-1,n):Xt(n)}}if(32&n)return Ar(e,t)()||Xt(t[e.index]);{const n=t[16],r=n[6],i=Pr(n),s=r.projection[e.projection];return null!=s?Qr(i,s):Qr(t,e.next)}}return null}function Yr(t,e){const n=zt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Qr(t,r)}return e[7]}function Zr(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Cr(Xt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Zr(t,e,n.child,r,i,s,!1),Nr(e,t,i,a,s);else if(32&u){const o=Ar(n,r);let u;for(;u=o();)Nr(e,t,i,u,s);Nr(e,t,i,a,s)}else 16&u?Jr(t,e,r,n,i,s):Nr(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Xr(t,e,n,r,i,s){Zr(n,r,t.firstChild,e,i,s,!1)}function Jr(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Nr(e,t,i,a[u],s);else Zr(t,e,a,o[3],i,s,!0)}function ti(t,e,n){Yt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ei(t,e,n){Yt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function ni(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const ri="ng-template";function ii(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==ni(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function si(t){return 4===t.type&&t.value!==ri}function oi(t,e,n){return e===(4!==t.type||n?t.value:ri)}function ai(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Kn(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!oi(t,u,n)||""===u&&1===e.length){if(ui(r))return!1;o=!0}}else{const l=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!ii(t.attrs,l,n)){if(ui(r))return!1;o=!0}continue}const c=li(8&r?"class":u,i,si(t),n);if(-1===c){if(ui(r))return!1;o=!0;continue}if(""!==l){let t;t=c>s?"":i[c+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==ni(e,l,0)||2&r&&l!==t){if(ui(r))return!1;o=!0}}}}else{if(!o&&!ui(r)&&!ui(u))return!1;if(o&&ui(u))continue;o=!1,r=u|1&r}}return ui(r)||o}function ui(t){return 0==(1&t)}function li(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ci(t,e,n=!1){for(let r=0;r<e.length;r++)if(ai(t,e[r],n))return!0;return!1}function hi(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function di(t,e){return t?":not("+e.trim()+")":e}function fi(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||ui(o)||(e+=di(s,i),i=""),r=o,s=s||!ui(r);n++}return""!==i&&(e+=di(s,i)),e}const pi={};function mi(t){gi(de(),he(),Ne()+t,ve())}function gi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Vn(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Bn(e,r,0,n)}Le(n)}function yi(t,e){return t<<17|e<<2}function bi(t){return t>>17&32767}function vi(t){return 2|t}function _i(t){return(131068&t)>>2}function wi(t,e){return-131069&t|e<<2}function Ei(t){return 1|t}function Si(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];Ce(i),n.contentQueries(2,e[s],s)}}}function xi(t,e,n,r,i,s,o,a,u,l){const c=e.blueprint.slice();return c[0]=i,c[2]=140|r,ae(c),c[3]=c[15]=t,c[8]=n,c[10]=o||t&&t[10],c[11]=a||t&&t[11],c[12]=u||t&&t[12]||null,c[9]=l||t&&t[9]||null,c[6]=s,c[16]=2==e.type?t[16]:c,c}function Oi(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=me(),o=ye(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,r,i),le.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=function(){const t=le.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return ge(s,!0),s}function Ci(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ti(t,e,n){ke(e);try{const r=t.viewQuery;null!==r&&rs(1,r,n);const i=t.template;null!==i&&Ai(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Si(t,e),t.staticViewQueries&&rs(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Xi(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,je()}}function Ii(t,e,n,r){const i=e[2];if(256==(256&i))return;ke(e);const s=ve();try{ae(e),le.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ai(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&Vn(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Bn(e,n,0,null),Hn(e,0)}if(function(t){for(let e=Rr(t);null!==e;e=Dr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&ue(r,1),n[2]|=1024}}}(e),function(t){for(let e=Rr(t);null!==e;e=Dr(e))for(let t=zt;t<e.length;t++){const n=e[t],r=n[1];se(n)&&Ii(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Si(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&Vn(e,n)}else{const n=t.contentHooks;null!==n&&Bn(e,n,1),Hn(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)Le(~r);else{const i=r,s=n[++t],o=n[++t];Se(s,i),o(2,e[i])}}}finally{Le(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Yi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&rs(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&Vn(e,n)}else{const n=t.viewHooks;null!==n&&Bn(e,n,2),Hn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ue(e[3],-1))}finally{je()}}function ki(t,e,n,r){const i=e[10],s=!ve(),o=ie(e);try{s&&!o&&i.begin&&i.begin(),o&&Ti(t,e,r),Ii(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Ai(t,e,n,r,i){const s=Ne();try{Le(-1),2&r&&e.length>Ht&&gi(t,e,Ht,ve()),n(r,i)}finally{Le(s)}}function Pi(t,e,n){if($t(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Ri(t,e,n){ce()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||ir(n,e),Cr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=Qt(r);s&&$i(e,n,r);const u=gr(e,t,a,n);Cr(u,e),null!==o&&Wi(0,a-i,u,r,0,o),s&&(ne(n.index,e)[8]=u)}}(t,e,n,te(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=le.lFrame.currentDirectiveIndex;try{Le(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];xe(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Bi(r,i)}}finally{Le(-1),xe(o)}}(t,e,n))}function Di(t,e,n=te){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function ji(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ni(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ni(t,e,n,r,i,s,o,a,u,l){const c=Ht+r,h=c+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:pi);return n}(c,h),f="function"==typeof l?l():l;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function Li(t,e,n,r){const i=ss(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function Mi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ui(t,e,n,r,i,s,o,a){const u=te(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(as(t,n,l,r,i),Wt(e)&&function(t,e){const n=ne(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,Yt(s)?s.setProperty(u,r,i):Qn(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Fi(t,e,n,r){let i=!1;if(ce()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];ci(n,o.selectors,!1)&&(i||(i=[]),ur(ir(n,e),t,o.type),Qt(o)?(Hi(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,qi(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=Ci(t,e,s.length,null);for(let i=0;i<s.length;i++){const l=s[i];n.mergedAttrs=Yn(n.mergedAttrs,l.hostAttrs),Gi(t,n,e,u,l),zi(u,l,o),null!==l.contentQueries&&(n.flags|=8),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=128);const c=l.type.prototype;!r&&(c.ngOnChanges||c.ngOnInit||c.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!c.ngOnChanges&&!c.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,l=null===i||si(e)?null:Ki(n,i);s.push(l),o=Mi(n,u,o),a=Mi(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Pn("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Yn(n.mergedAttrs,n.attrs),i}function Vi(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Bi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Hi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function zi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Qt(e)&&(n[""]=t)}}function qi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Gi(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=An(i.type)),o=new $n(s,Qt(i),null);t.blueprint[r]=o,n[r]=o,Vi(t,e,0,r,Ci(t,n,i.hostVars,pi),i)}function $i(t,e,n){const r=te(e,t),i=ji(n),s=t[10],o=Ji(t,xi(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function Wi(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Ki(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Qi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Yi(t,e){const n=ne(e,t);if(se(n)){const t=n[1];80&n[2]?Ii(t,n,t.template,n[8]):n[5]>0&&Zi(n)}}function Zi(t){for(let n=Rr(t);null!==n;n=Dr(n))for(let t=zt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Ii(t,e,t.template,e[8])}else e[5]>0&&Zi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=ne(e[n],t);se(r)&&r[5]>0&&Zi(r)}}function Xi(t,e){const n=ne(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Ti(r,n,n[8])}function Ji(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ts(t){for(;t;){t[2]|=64;const e=Pr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function es(t,e,n){const r=e[10];r.begin&&r.begin();try{Ii(t,e,t.template,n)}catch(i){throw os(e,i),i}finally{r.end&&r.end()}}function ns(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=re(n),i=r[1];ki(i,r,i.template,n)}}(t[8])}function rs(t,e,n){Ce(0),e(t,n)}const is=(()=>Promise.resolve(null))();function ss(t){return t[7]||(t[7]=[])}function os(t,e){const n=t[9],r=n?n.get(Or,null):null;r&&r.handleError(e)}function as(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],l=t.data[o];null!==l.setInput?l.setInput(u,i,r,a):u[a]=i}}function us(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=S(i,t):2==s&&(r=S(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const ls=new N("INJECTOR",-1);class cs{get(t,e=At){if(e===At){const e=new Error(`NullInjectorError: No provider for ${E(t)}!`);throw e.name="NullInjectorError",e}return e}}const hs=new N("Set Injector scope."),ds={},fs={},ps=[];let ms=void 0;function gs(){return void 0===ms&&(ms=new cs),ms}function ys(t,e=null,n=null,r){return new bs(t,n,e||gs(),r)}class bs{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&Q(e,n=>this.processProvider(n,t,e)),Q([t],t=>this.processInjectorType(t,[],i)),this.records.set(ls,ws(void 0,this));const s=this.records.get(hs);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:E(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=At,n=Ct.Default){this.assertNotDestroyed();const r=Nt(this);try{if(!(n&Ct.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof N)&&I(t);e=n&&this.injectableDefInScope(n)?ws(vs(t),ds):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&Ct.Self?gs():this.parent).get(t,e=n&Ct.Optional&&e===At?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(E(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[Rt]&&i.unshift(e[Rt]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=E(e);if(Array.isArray(e))i=e.map(E).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):E(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Pt,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{Nt(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(E(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=G(t)))return!1;let r=A(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=A(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{Q(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];Q(r,t=>this.processProvider(t,n,r||ps))}}this.injectorDefTypes.add(s),this.records.set(s,ws(r.factory,ds));const a=r.providers;if(null!=a&&!o){const e=t;Q(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Ss(t=G(t))?t:G(t&&t.provide);const i=function(t,e,n){return Es(t)?ws(void 0,t.useValue):ws(_s(t),ds)}(t);if(Ss(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=ws(void 0,ds,!0),e.factory=()=>Ft(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===ds&&(e.value=fs,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function vs(t){const e=I(t),n=null!==e?e.factory:An(t);if(null!==n)return n;const r=A(t);if(null!==r)return r.factory;if(t instanceof N)throw new Error(`Token ${E(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=X(e,"?");throw new Error(`Can't resolve all parameters for ${E(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[P]||t[D]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function _s(t,e,n){let r=void 0;if(Ss(t)){const e=G(t);return An(e)||vs(e)}if(Es(t))r=()=>G(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Ft(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Mt(G(t.useExisting));else{const e=G(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return An(e)||vs(e);r=()=>new e(...Ft(t.deps))}var i;return r}function ws(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Es(t){return null!==t&&"object"==typeof t&&Dt in t}function Ss(t){return"function"==typeof t}const xs=function(t,e,n){return function(t,e=null,n=null,r){const i=ys(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Os=(()=>{class t{static create(t,e){return Array.isArray(t)?xs(t,e,""):xs(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=At,t.NULL=new cs,t.\u0275prov=C({token:t,providedIn:"any",factory:()=>Mt(ls)}),t.__NG_ELEMENT_ID__=-1,t})();function Cs(t,e){Fn(re(t)[1],pe())}function Ts(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Qt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Is(t.inputs),e.declaredInputs=Is(t.declaredInputs),e.outputs=Is(t.outputs);const n=i.hostBindings;n&&Ps(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&ks(t,s),o&&As(t,o),O(t.inputs,i.inputs),O(t.declaredInputs,i.declaredInputs),O(t.outputs,i.outputs),Qt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Ts&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Yn(i.hostAttrs,n=Yn(n,i.hostAttrs))}}(r)}function Is(t){return t===rt?{}:t===it?[]:t}function ks(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function As(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Ps(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Rs=null;function Ds(){if(!Rs){const t=H.Symbol;if(t&&t.iterator)Rs=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Rs=n)}}}return Rs}function js(t){return!!Ns(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ds()in t)}function Ns(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ls(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ms(t,e,n,r){const i=he();return Ls(i,we(),e)&&(de(),function(t,e,n,r,i,s){const o=te(t,e);!function(t,e,n,r,i,s,o){if(null==s)Yt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?xt(s):o(s,r||"",i);Yt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}(Me(),i,t,e,n,r)),Ms}function Us(t,e,n,r){return Ls(t,we(),n)?e+xt(n)+r:pi}function Fs(t,e,n,r,i,s,o,a){const u=he(),l=de(),c=t+Ht,h=l.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const l=e.consts,c=Oi(e,t,4,o||null,oe(l,a));Fi(e,n,c,oe(l,u)),Fn(e,c);const h=c.tViews=Ni(2,c,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,c),h.queries=e.queries.embeddedTView(c)),c}(c,l,u,e,n,r,i,s,o):l.data[c];ge(h,!1);const d=u[11].createComment("");Kr(l,u,d,h),Cr(d,u),Ji(u,u[c]=Qi(d,u,d,h)),Kt(h)&&Ri(l,u,h),null!=o&&Di(u,h,a)}function Vs(t){return function(t,e){return t[e]}(le.lFrame.contextLView,Ht+t)}function Bs(t,e=Ct.Default){const n=he();return null===n?Mt(t,e):hr(pe(),n,G(t),e)}function Hs(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Kn(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(pe(),t)}function zs(){throw new Error("invalid")}function qs(t,e,n){const r=he();return Ls(r,we(),e)&&Ui(de(),Me(),r,t,e,r[11],n,!1),qs}function Gs(t,e,n,r,i){const s=i?"class":"style";as(t,n,e.inputs[s],s,r)}function $s(t,e,n,r){const i=he(),s=de(),o=Ht+t,a=i[11],u=i[o]=Lr(a,e,le.lFrame.currentNamespace),l=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=Oi(e,t,2,i,oe(a,s));return Fi(e,n,u,oe(a,o)),null!==u.attrs&&us(u,u.attrs,!1),null!==u.mergedAttrs&&us(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];ge(l,!0);const c=l.mergedAttrs;null!==c&&Wn(a,u,c);const h=l.classes;null!==h&&ei(a,u,h);const d=l.styles;null!==d&&ti(a,u,d),64!=(64&l.flags)&&Kr(s,i,u,l),0===le.lFrame.elementDepthCount&&Cr(u,i),le.lFrame.elementDepthCount++,Kt(l)&&(Ri(s,i,l),Pi(s,l,i)),null!==r&&Di(i,l)}function Ws(){let t=pe();ye()?be():(t=t.parent,ge(t,!1));const e=t;le.lFrame.elementDepthCount--;const n=de();n.firstCreatePass&&(Fn(n,t),$t(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Gs(n,e,he(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Gs(n,e,he(),e.stylesWithoutHost,!1)}function Ks(t,e,n,r){$s(t,e,n,r),Ws()}function Qs(t,e,n){const r=he(),i=de(),s=t+Ht,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=oe(s,r),a=Oi(e,t,8,"ng-container",o);return null!==o&&us(a,o,!0),Fi(e,n,a,oe(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];ge(o,!0);const a=r[s]=r[11].createComment("");Kr(i,r,a,o),Cr(a,r),Kt(o)&&(Ri(i,r,o),Pi(i,o,r)),null!=n&&Di(r,o)}function Ys(){let t=pe();const e=de();ye()?be():(t=t.parent,ge(t,!1)),e.firstCreatePass&&(Fn(e,t),$t(t)&&e.queries.elementEnd(t))}function Zs(){return he()}function Xs(t){return!!t&&"function"==typeof t.then}function Js(t){return!!t&&"function"==typeof t.subscribe}function to(t,e,n=!1,r){const i=he(),s=de(),o=pe();return function(t,e,n,r,i,s,o=!1,a){const u=Kt(r),l=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),c=ss(e);let h=!0;if(3&r.type){const d=te(r,e),f=a?a(d):rt,p=f.target||d,m=c.length,g=a?t=>a(Xt(t[r.index])).target:r.index;if(Yt(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=no(r,e,s,!1);const t=n.listen(f.name||p,i,s);c.push(s,t),l&&l.push(i,g,m,m+1)}}else s=no(r,e,s,!0),p.addEventListener(i,s,o),c.push(s),l&&l.push(i,g,m,o)}const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=c.length;c.push(s,t),l&&l.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,n,r),to}function eo(t,e,n){try{return!1!==e(n)}catch(r){return os(t,r),!1}}function no(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?ne(t.index,e):e;0==(32&e[2])&&ts(o);let a=eo(e,n,s),u=i.__ngNextListenerFn__;for(;u;)a=eo(e,u,s)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function ro(t=1){return function(t){return(le.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,le.lFrame.contextLView))[8]}(t)}function io(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?ci(t,s,!0):hi(r,s))return i}else n=i}return n}function so(t){const e=he()[16][6];if(!e.projection){const n=e.projection=X(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?io(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function oo(t,e=0,n){const r=he(),i=de(),s=Oi(i,Ht+t,16,null,n||null);null===s.projection&&(s.projection=e),be(),64!=(64&s.flags)&&function(t,e,n){Jr(e[11],0,e,n,Br(t,n,e),$r(n.parent||e[6],n,e))}(i,r,s)}const ao=[];function uo(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?bi(s):_i(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];lo(t[a],e)&&(u=!0,t[a+1]=r?Ei(n):vi(n)),a=r?bi(n):_i(n)}u&&(t[n+1]=r?vi(s):Ei(s))}function lo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&et(t,e)>=0}const co={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ho(t){return t.substring(co.key,co.keyEnd)}function fo(t,e){const n=co.textEnd;return n===e?-1:(e=co.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,co.key=e,n),po(t,e,n))}function po(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function mo(t,e,n){return bo(t,e,n,!1),mo}function go(t,e){return bo(t,e,null,!0),go}function yo(t,e){for(let n=function(t){return function(t){co.key=0,co.keyEnd=0,co.value=0,co.valueEnd=0,co.textEnd=t.length}(t),fo(t,po(t,0,co.textEnd))}(e);n>=0;n=fo(e,n))J(t,ho(e),!0)}function bo(t,e,n,r){const i=he(),s=de(),o=Ee(2);s.firstUpdatePass&&_o(s,t,o,r),e!==pi&&Ls(i,o,e)&&So(s,s.data[Ne()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=E($e(t)))),t}(e,n),r,o)}function vo(t,e){return e>=t.expandoStartIndex}function _o(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Ne()],o=vo(t,n);Co(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=le.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Eo(n=wo(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=wo(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==_i(r))return t[bi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=wo(null,t,e,n[1],r),n=Eo(n,e.attrs,r),function(t,e,n,r){t[bi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Eo(r,t[s].hostAttrs,n);return Eo(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=bi(o),u=_i(o);t[r]=n;let l,c=!1;if(Array.isArray(n)){const t=n;l=t[1],(null===l||et(t,l)>0)&&(c=!0)}else l=n;if(i)if(0!==u){const e=bi(t[a+1]);t[r+1]=yi(e,a),0!==e&&(t[e+1]=wi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=yi(a,0),0!==a&&(t[a+1]=wi(t[a+1],r)),a=r;else t[r+1]=yi(u,0),0===a?a=r:t[u+1]=wi(t[u+1],r),u=r;c&&(t[r+1]=vi(t[r+1])),uo(t,l,r,!0),uo(t,l,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&et(s,e)>=0&&(n[r+1]=Ei(n[r+1]))}(e,l,t,r,s),o=yi(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function wo(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Eo(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Eo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),J(t,o,!!n||e[++s]))}return void 0===t?null:t}function So(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,l=u[a+1];Oo(1==(1&l)?xo(u,e,n,i,_i(l),o):void 0)||(Oo(s)||2==(2&l)&&(s=xo(u,null,n,i,a,o)),function(t,e,n,r,i){const s=Yt(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:kr.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=kr.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Jt(Ne(),n),i,s))}function xo(t,e,n,r,i,s){const o=null===e;let a=void 0;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,l=null===u;let c=n[i+1];c===pi&&(c=l?ao:void 0);let h=l?tt(c,r):u===r?c:void 0;if(s&&!Oo(h)&&(h=tt(e,r)),Oo(h)&&(a=h,o))return a;const d=t[i+1];i=o?bi(d):_i(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=tt(t,r))}return a}function Oo(t){return void 0!==t}function Co(t,e){return 0!=(t.flags&(e?16:32))}function To(t,e=""){const n=he(),r=de(),i=t+Ht,s=r.firstCreatePass?Oi(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return Yt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Kr(r,n,o,s),ge(s,!1)}function Io(t){return ko("",t,""),Io}function ko(t,e,n){const r=he(),i=Us(r,t,e,n);return i!==pi&&function(t,e,n){const r=Jt(e,t);!function(t,e,n){Yt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,Ne(),i),ko}function Ao(t,e,n){!function(t,e,n,r){const i=de(),s=Ee(2);i.firstUpdatePass&&_o(i,null,s,r);const o=he();if(n!==pi&&Ls(o,s,n)){const a=i.data[Ne()];if(Co(a,r)&&!vo(i,s)){let t=a.classesWithoutHost;null!==t&&(n=S(t,n||"")),Gs(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===pi&&(i=ao);let u=0,l=0,c=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==c||null!==h;){const o=u<i.length?i[u+1]:void 0,d=l<s.length?s[l+1]:void 0;let f=null,p=void 0;c===h?(u+=2,l+=2,o!==d&&(f=h,p=d)):null===h||null!==c&&c<h?(u+=2,f=c):(l+=2,f=h,p=d),null!==f&&So(t,e,n,r,f,p,true,a),c=u<i.length?i[u]:null,h=l<s.length?s[l]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return ao;const r=[],i=$e(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,s)}}(J,yo,Us(he(),t,e,n),!0)}function Po(t,e,n){const r=he();return Ls(r,we(),e)&&Ui(de(),Me(),r,t,e,r[11],n,!0),Po}const Ro=void 0;var Do=["en",[["a","p"],["AM","PM"],Ro],[["AM","PM"],Ro,Ro],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ro,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ro,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ro,"{1} 'at' {0}",Ro],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let jo={};function No(t,e,n){"string"!=typeof e&&(n=e,e=t[Vo.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),jo[e]=t,n&&(jo[e][Vo.ExtraData]=n)}function Lo(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Fo(e);if(n)return n;const r=e.split("-")[0];if(n=Fo(r),n)return n;if("en"===r)return Do;throw new Error(`Missing locale data for the locale "${t}".`)}function Mo(t){return Lo(t)[Vo.CurrencyCode]||null}function Uo(t){return Lo(t)[Vo.PluralCase]}function Fo(t){return t in jo||(jo[t]=H.ng&&H.ng.common&&H.ng.common.locales&&H.ng.common.locales[t]),jo[t]}var Vo=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Bo="en-US";let Ho=Bo;function zo(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Ho=t.toLowerCase().replace(/_/g,"-"))}function qo(t,e,n,r,i){if(t=G(t),Array.isArray(t))for(let s=0;s<t.length;s++)qo(t[s],e,n,r,i);else{const s=de(),o=he();let a=Ss(t)?t:G(t.provide),u=_s(t);const l=pe(),c=1048575&l.providerIndexes,h=l.directiveStart,d=l.providerIndexes>>20;if(Ss(t)||!t.multi){const r=new $n(u,i,Bs),f=Wo(a,e,i?c:c+d,h);-1===f?(ur(ir(l,o),s,a),Go(s,t,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=Wo(a,e,c+d,h),p=Wo(a,e,c,c+d),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){ur(ir(l,o),s,a);const c=function(t,e,n,r,i){const s=new $n(t,n,Bs);return s.multi=[],s.index=e,s.componentProviders=0,$o(s,i,r&&!n),s}(i?Qo:Ko,n.length,i,r,u);!i&&g&&(n[p].providerFactory=c),Go(s,t,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(c),o.push(c)}else Go(s,t,f>-1?f:p,$o(n[i?p:f],u,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function Go(t,e,n,r){const i=Ss(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function $o(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Wo(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Ko(t,e,n,r){return Yo(this.multi,[])}function Qo(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=gr(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),Yo(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],Yo(i,s);return s}function Yo(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Zo(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=de();if(r.firstCreatePass){const i=Qt(t);qo(n,r.data,r.blueprint,i,!0),qo(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Xo{}class Jo{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${E(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let ta=(()=>{class t{}return t.NULL=new Jo,t})();function ea(...t){}function na(t,e){return new ia(te(t,e))}const ra=function(){return na(pe(),he())};let ia=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=ra,t})();class sa{}let oa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>aa(),t})();const aa=function(){const t=he(),e=ne(pe().index,t);return function(t){return t[11]}(qt(e)?e:t)};let ua=(()=>{class t{}return t.\u0275prov=C({token:t,providedIn:"root",factory:()=>null}),t})();class la{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ca=new la("11.0.2");class ha{constructor(){}supports(t){return js(t)}create(t){return new fa(t)}}const da=(t,e)=>e;class fa{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||da}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<ya(n,r,i)?e:n,o=ya(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!js(t))throw new Error(`Error trying to diff '${E(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ds()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new pa(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ga),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ga),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class pa{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ma{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ga{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new ma,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ya(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ba{constructor(){}supports(t){return t instanceof Map||Ns(t)}create(){return new va}}class va{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ns(t)))throw new Error(`Error trying to diff '${E(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new _a(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class _a{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let wa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new w,new v]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=C({token:t,providedIn:"root",factory:()=>new t([new ha])}),t})(),Ea=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new w,new v]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=C({token:t,providedIn:"root",factory:()=>new t([new ba])}),t})();function Sa(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Xt(s)),Gt(s))for(let t=zt;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&Sa(e[1],e,n,r)}const o=n.type;if(8&o)Sa(t,e,n.child,r);else if(32&o){const t=Ar(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=Pr(t);Sa(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class xa{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return Sa(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Fr(this._lView[1],this._lView)}onDestroy(t){Li(this._lView[1],this._lView,null,t)}markForCheck(){ts(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){es(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){_e(!0);try{es(t,e,n)}finally{_e(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Xr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Oa extends xa{constructor(t){super(t),this._view=t}detectChanges(){ns(this._view)}checkNoChanges(){!function(t){_e(!0);try{ns(t)}finally{_e(!1)}}(this._view)}get context(){return null}}const Ca=Ia;let Ta=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ca,t.__ChangeDetectorRef__=!0,t})();function Ia(t=!1){return function(t,e,n){if(!n&&Wt(t)){const n=ne(t.index,e);return new xa(n,n)}return 47&t.type?new xa(e[16],e):null}(pe(),he(),t)}const ka=[new ba],Aa=new wa([new ha]),Pa=new Ea(ka),Ra=function(){return La(pe(),he())};let Da=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ra,t})();const ja=Da,Na=class extends ja{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=xi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Ti(e,n,t),new xa(n)}};function La(t,e){return 4&t.type?new Na(e,t,na(t,e)):null}class Ma{}class Ua{}const Fa=function(){return Ga(pe(),he())};let Va=(()=>{class t{}return t.__NG_ELEMENT_ID__=Fa,t})();const Ba=Va,Ha=class extends Ba{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return na(this._hostTNode,this._hostLView)}get injector(){return new vr(this._hostTNode,this._hostLView)}get parentInjector(){const t=ar(this._hostTNode,this._hostLView);if(Xn(t)){const e=tr(t,this._hostLView),n=Jn(t);return new vr(e[1].data[n+8],e)}return new vr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=za(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-zt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(Ma,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(Gt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Ha(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=zt+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-zt?(e[4]=n[i],Y(n,zt+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=Yr(i,s),a=n[11],u=Gr(a,s[7]);return null!==u&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,Xr(t,r,n,1,i,s)}(r,s[6],a,n,u,o),t.attachToViewContainerRef(this),Y(qa(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=za(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Ur(this._lContainer,e);n&&(Z(qa(this._lContainer),e),Fr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Ur(this._lContainer,e);return n&&null!=Z(qa(this._lContainer),e)?new xa(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function za(t){return t[8]}function qa(t){return t[8]||(t[8]=[])}function Ga(t,e){let n;const r=e[t.index];if(Gt(r))n=r;else{let i;if(8&t.type)i=Xt(r);else{const n=e[11];i=n.createComment("");const r=te(t,e);Hr(n,Gr(n,r),i,function(t,e){return Yt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Qi(r,e,i,t),Ji(e,n)}return new Ha(n,t,e)}const $a={};class Wa extends ta{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Et(t);return new Ya(e,this.ngModule)}}function Ka(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Qa=new N("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Tr});class Ya extends Xo{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(fi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ka(this.componentDef.inputs)}get outputs(){return Ka(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,$a,i);return s!==$a||r===$a?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(sa,Zt),o=i.get(ua,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",l=n?function(t,e,n){if(Yt(t))return t.selectRootElement(e,n===nt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Lr(s.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),c=this.componentDef.onPush?576:528,h={components:[],scheduler:Tr,clean:is,playerHandler:null,flags:0},d=Ni(0,null,null,1,0,null,null,null,null,null),f=xi(null,d,h,c,null,null,s,a,o,i);let p,m;ke(f);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=Oi(o,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(us(a,u,!0),null!==t&&(Wn(i,t,u),null!==a.classes&&ei(i,t,a.classes),null!==a.styles&&ti(i,t,a.styles)));const l=r.createRenderer(t,e),c=xi(n,ji(e),null,e.onPush?64:16,n[20],a,r,l,null,null);return o.firstCreatePass&&(ur(ir(a,n),o,e.type),Hi(o,a),qi(a,n.length,1)),Ji(n,c),n[20]=c}(l,this.componentDef,f,s,a);if(l)if(n)Wn(a,l,["ng-version",ca.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!ui(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Wn(a,l,t),e&&e.length>0&&ei(a,l,e.join(" "))}if(m=ee(d,Ht),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=pe();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Gi(t,r,e,Ci(t,e,1,null),n));const i=gr(e,t,r.directiveStart,r);Cr(i,e);const s=te(r,e);return s&&Cr(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=pe();e.contentQueries(1,o,t.directiveStart)}const a=pe();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Le(a.index),Vi(n[1],a,0,a.directiveStart,a.directiveEnd,e),Bi(e,o)),o}(t,this.componentDef,f,h,[Cs]),Ti(d,f,null)}finally{je()}return new Za(this.componentType,p,na(m,f),f,m)}}class Za extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Oa(r),this.componentType=t}get injector(){return new vr(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const Xa=new Map;class Ja extends Ma{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Wa(this);const n=St(t),r=t[lt]||null;r&&zo(r),this._bootstrapComponents=Ir(n.bootstrap),this._r3Injector=ys(t,e,[{provide:Ma,useValue:this},{provide:ta,useValue:this.componentFactoryResolver}],E(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Os.THROW_IF_NOT_FOUND,n=Ct.Default){return t===Os||t===Ma||t===ls?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class tu extends Ua{constructor(t){super(),this.moduleType=t,null!==St(t)&&function(t){const e=new Set;!function t(n){const r=St(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${E(e)} vs ${E(e.name)}`)}(i,Xa.get(i),n),Xa.set(i,n));const s=Ir(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new Ja(this.moduleType,t)}}const eu=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}};function nu(){return this._results[Ds()]()}class ru{constructor(){this.dirty=!0,this._results=[],this.changes=new eu,this.length=0;const t=Ds(),e=ru.prototype;e[t]||(e[t]=nu)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=K(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class iu{constructor(t){this.queryList=t,this.matches=null}clone(){return new iu(this.queryList)}setDirty(){this.queryList.setDirty()}}class su{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new su(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Su(t,e).matches&&this.queries[e].setDirty()}}class ou{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class au{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new au(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class uu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new uu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,lu(e,i)),this.matchTNodeWithReadOption(t,e,mr(e,t,i,!1,!1))}else n===Da?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,mr(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ia||r===Va||r===Da&&4&e.type)this.addMatch(e.index,-2);else{const n=mr(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function lu(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function cu(t,e,n,r){return-1===n?function(t,e){return 11&t.type?na(t,e):4&t.type?La(t,e):null}(e,t):-2===n?function(t,e,n){return n===ia?na(e,t):n===Da?La(e,t):n===Va?Ga(e,t):void 0}(t,e,r):gr(t,t[1],n,e)}function hu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:cu(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function du(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=hu(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=zt;t<o.length;t++){const e=o[t];e[17]===e[3]&&du(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];du(n[1],n,i,r)}}}}}return r}function fu(t){const e=he(),n=de(),r=Oe();Ce(r+1);const i=Su(n,r);if(t.dirty&&ie(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?du(n,e,r,[]):hu(n,e,i,r);t.reset(s),t.notifyOnChanges()}return!0}return!1}function pu(t,e,n){gu(de(),he(),t,e,n,!0)}function mu(t,e,n){gu(de(),he(),t,e,n,!1)}function gu(t,e,n,r,i,s){t.firstCreatePass&&(Eu(t,new ou(n,r,s,i),-1),s&&(t.staticViewQueries=!0)),wu(t,e)}function yu(t,e,n,r){vu(de(),he(),e,n,r,!1,pe(),t)}function bu(t,e,n,r){vu(de(),he(),e,n,r,!0,pe(),t)}function vu(t,e,n,r,i,s,o,a){t.firstCreatePass&&(Eu(t,new ou(n,r,s,i),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a),s&&(t.staticContentQueries=!0)),wu(t,e)}function _u(){return t=he(),e=Oe(),t[19].queries[e].queryList;var t,e}function wu(t,e){const n=new ru;Li(t,e,n,n.destroy),null===e[19]&&(e[19]=new su),e[19].queries.push(new iu(n))}function Eu(t,e,n){null===t.queries&&(t.queries=new au),t.queries.track(new uu(e,n))}function Su(t,e){return t.queries.getByIndex(e)}function xu(t=Ct.Default){const e=Ia(!0);if(null!=e||t&Ct.Optional)return e;Rn("ChangeDetectorRef")}const Ou=new N("Application Initializer");let Cu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=ea,this.reject=ea,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Xs(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Mt(Ou,8))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();const Tu=new N("AppId"),Iu={provide:Tu,useFactory:function(){return`${ku()}${ku()}${ku()}`},deps:[]};function ku(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Au=new N("Platform Initializer"),Pu=new N("Platform ID"),Ru=new N("appBootstrapListener");let Du=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();const ju=new N("LocaleId"),Nu=new N("DefaultCurrencyCode");class Lu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Mu=function(t){return new tu(t)},Uu=Mu,Fu=function(t){return Promise.resolve(Mu(t))},Vu=function(t){const e=Mu(t),n=Ir(St(t).declarations).reduce((t,e)=>{const n=Et(e);return n&&t.push(new Ya(n)),t},[]);return new Lu(e,n)},Bu=Vu,Hu=function(t){return Promise.resolve(Vu(t))};let zu=(()=>{class t{constructor(){this.compileModuleSync=Uu,this.compileModuleAsync=Fu,this.compileModuleAndAllComponentsSync=Bu,this.compileModuleAndAllComponentsAsync=Hu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();const qu=(()=>Promise.resolve(0))();function Gu(t){"undefined"==typeof Zone?qu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class $u{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new eu(!1),this.onMicrotaskEmpty=new eu(!1),this.onStable=new eu(!1),this.onError=new eu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=H.requestAnimationFrame,e=H.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(H,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Yu(t),Qu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Yu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,s,o,a)=>{try{return Zu(t),n.invokeTask(i,s,o,a)}finally{e&&"eventTask"===s.type&&e(),Xu(t)}},onInvoke:(e,n,r,i,s,o,a)=>{try{return Zu(t),e.invoke(r,i,s,o,a)}finally{Xu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Yu(t),Qu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!$u.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if($u.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Ku,Wu,Wu);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Wu(){}const Ku={};function Qu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Yu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Zu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Xu(t){t._nesting--,Qu(t)}class Ju{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new eu,this.onMicrotaskEmpty=new eu,this.onStable=new eu,this.onError=new eu}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let tl=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$u.assertNotInAngularZone(),Gu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Gu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Mt($u))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})(),el=(()=>{class t{constructor(){this._applications=new Map,sl.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return sl.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();class nl{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function rl(t){sl=t}let il,sl=new nl;const ol=new N("AllowMultipleToken");class al{constructor(t,e){this.name=t,this.token=e}}function ul(t,e,n=[]){const r="Platform: "+e,i=new N(r);return(e=[])=>{let s=ll();if(!s||s.injector.get(ol,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:hs,useValue:"platform"});!function(t){if(il&&!il.destroyed&&!il.injector.get(ol,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");il=t.get(cl);const e=t.get(Au,null);e&&e.forEach(t=>t())}(Os.create({providers:t,name:r}))}return function(t){const e=ll();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function ll(){return il&&!il.destroyed?il:null}let cl=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Ju:("zone.js"===t?void 0:t)||new $u({enableLongStackTrace:nn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:$u,useValue:n}];return n.run(()=>{const e=Os.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(Or,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>fl(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const r=n();return Xs(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(Cu);return t.runInitializers(),t.donePromise.then(()=>(zo(i.injector.get(ju,Bo)||Bo),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=hl({},e);return function(t,e,n){const r=new tu(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(dl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${E(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Mt(Os))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();function hl(t,e){return Array.isArray(e)?e.reduce(hl,t):Object.assign(Object.assign({},t),e)}let dl=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=nn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),c=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{$u.assertNotInAngularZone(),Gu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{$u.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(l,c.pipe(t=>{return u()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,d);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Xo?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Ma),i=n.create(Os.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const s=i.injector.get(tl,null);return s&&i.injector.get(el).registerApplication(i.location.nativeElement,s),this._loadComponent(i),nn()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;fl(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ru,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),fl(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Mt($u),Mt(Du),Mt(Os),Mt(Or),Mt(ta),Mt(Cu))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();function fl(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class pl{}class ml{}const gl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let yl=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||gl}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>bl(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>bl(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Mt(zu),Mt(ml,8))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();function bl(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const vl=function(t){return null},_l=ul(null,"core",[{provide:Pu,useValue:"unknown"},{provide:cl,deps:[Os]},{provide:el,deps:[]},{provide:Du,deps:[]}]),wl=[{provide:dl,useClass:dl,deps:[$u,Du,Os,Or,ta,Cu]},{provide:Qa,deps:[$u],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Cu,useClass:Cu,deps:[[new v,Ou]]},{provide:zu,useClass:zu,deps:[]},Iu,{provide:wa,useFactory:function(){return Aa},deps:[]},{provide:Ea,useFactory:function(){return Pa},deps:[]},{provide:ju,useFactory:function(t){return zo(t=t||"undefined"!=typeof $localize&&$localize.locale||Bo),t},deps:[[new b(ju),new v,new w]]},{provide:Nu,useValue:"USD"}];let El=(()=>{class t{constructor(t){}}return t.\u0275mod=yt({type:t}),t.\u0275inj=T({factory:function(e){return new(e||t)(Mt(dl))},providers:wl}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("EY2u"),s=n("LRne"),o=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new l(t,e))}}class l{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new c(t,this.scheduler,this.delay))}}class c extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(c.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return f});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,l=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),c=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=l[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=c,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function d(t){s.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return g}),n.d(e,"d",function(){return _}),n.d(e,"e",function(){return w}),n.d(e,"f",function(){return i}),n.d(e,"g",function(){return s}),n.d(e,"h",function(){return a}),n.d(e,"i",function(){return c}),n.d(e,"j",function(){return h}),n.d(e,"k",function(){return f}),n.d(e,"l",function(){return p}),n.d(e,"m",function(){return u}),n.d(e,"n",function(){return l}),n.d(e,"o",function(){return d}),n.d(e,"p",function(){return m});var r=n("uXP2");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function l(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function c(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function d(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function f(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m(){return a().indexOf("MSAppHost/")>=0}var g=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,y.prototype.create),s}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?b(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new g(i,a,r);return u},t}();function b(t,e){return t.replace(v,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var v=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new E(t,e);return n.subscribe.bind(n)}var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=S),void 0===r.error&&(r.error=S),void 0===r.complete&&(r.complete=S);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function S(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:l,_subscriptions:c}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(l)){a&&(this._unsubscribe=void 0);try{l.call(this)}catch(h){e=h instanceof o?u(h.errors):[h]}}if(Object(r.a)(c)){let t=-1,n=c.length;for(;++t<n;){const n=c[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return C}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return x}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return g}),n.d(e,"j",function(){return E});var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),l=n("Jgta");function c(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",c,{},c,c)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(m.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},b=new u.q("angularfire2.app.options"),v=new u.q("angularfire2.app.nameOrConfig"),_=new u.P("6.1.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=l.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>l.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&S("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const E=()=>{S("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},S=(t,...e)=>{Object(u.W)()&&"undefined"!=typeof console&&console[t](...e)};function x(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&S("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const O={provide:class{},useFactory:w,deps:[b,u.z,[new u.A,v]]};let C=(()=>{class t{constructor(t){l.a.registerVersion("angularfire",_.full,t.toString()),l.a.registerVersion("angular",u.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:b,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275mod=u.Jb({type:t}),t.\u0275inj=u.Ib({factory:function(e){return new(e||t)(u.Ub(u.B))},providers:[O]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("7Hc7"),s=n("Y7HM");class o extends r.a{constructor(t,e=0,n=i.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(s.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.a)}static create(t,e=0,n=i.a){return new o(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(o.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new u(t,e))}}class u{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new o(e,this.delay,this.scheduler).subscribe(t)}}},uXP2:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"e",function(){return l}),n.d(e,"f",function(){return c}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function c(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(l(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,s=n("uXP2"),o=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),l=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),c=new o.b("app","Firebase",l),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),m=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.f)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return u},"PUBLIC"));try{for(var l=Object(s.h)(this.firebase_.INTERNAL.components.values()),c=l.next();!c.done;c=l.next())this._addComponent(c.value)}catch(h){r={error:h}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=d),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=d);var a=s.name;if("string"!=typeof a||!a)throw c.create("bad-app-name",{appName:String(a)});if(Object(o.d)(e,a))throw c.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&o&&u.push("and"),o&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}l(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw c.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:l,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||d,!Object(o.d)(e,t))throw c.create("no-app",{appName:t});return e[t]}function l(a){var u,l,h=a.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw c.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(o.g)(d,a.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var f=Object(s.h)(Object.keys(e)),m=f.next();!m.done;m=f.next())e[m.value]._addComponent(a)}catch(g){u={error:g}}finally{try{m&&!m.done&&(l=f.return)&&l.call(f)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(m);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.g)(e,t)},createSubscribe:o.e,ErrorFactory:o.b,deepExtend:o.g}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.i)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.n)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var _=g;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.13",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyC71XHEHPaCpMJGuKu3ixWRR0ujeau7Z0M",authDomain:"ohell-d310b.firebaseapp.com",projectId:"ohell-d310b",storageBucket:"ohell-d310b.appspot.com",messagingSenderId:"895101991430",appId:"1:895101991430:web:3cbee8ab3f920994c62187"};let s=null;function o(){return s}const a=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:l,token:t,providedIn:"platform"}),t})();function l(){return Object(r.Ub)(h)}const c=new r.q("Location Initialized");let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){d()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){d()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(a))},t.\u0275prov=Object(r.Hb)({factory:f,token:t,providedIn:"platform"}),t})();function d(){return!!window.history.pushState}function f(){return new h(Object(r.Ub)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function m(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:b,token:t,providedIn:"root"}),t})();function b(t){const e=Object(r.Ub)(a).location;return new _(Object(r.Ub)(u),e&&e.origin||"")}const v=new r.q("appBaseHref");let _=(()=>{class t extends y{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(u),r.Ub(v,8))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(u),r.Ub(v,8))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),E=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=m(x(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,x(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(y),r.Ub(u))},t.normalizeQueryParams=g,t.joinWithSlash=p,t.stripTrailingSlash=m,t.\u0275prov=Object(r.Hb)({factory:S,token:t,providedIn:"root"}),t})();function S(){return new E(Object(r.Ub)(y),Object(r.Ub)(u))}function x(t){return t.replace(/\/index.html$/,"")}var O=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const C=r.nb;class T{}let I=(()=>{class t extends T{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(C(e||this.locale)(t)){case O.Zero:return"zero";case O.One:return"one";case O.Two:return"two";case O.Few:return"few";case O.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.u))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),k=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.qb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.vb)(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.s),r.Lb(r.t),r.Lb(r.l),r.Lb(r.E))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class A{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let P=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.W)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new A(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new R(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new R(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.Q),r.Lb(r.L),r.Lb(r.s))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class R{constructor(t,e){this.record=t,this.view=e}}let D=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new j,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){N("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){N("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.Q),r.Lb(r.L))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class j{constructor(){this.$implicit=null,this.ngIf=null}}function N(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.vb)(e)}'.`)}class L{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let M=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),U=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new L(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.Q),r.Lb(r.L),r.Lb(M,1))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),F=(()=>{class t{constructor(t,e,n){n._addDefault(new L(t,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.Q),r.Lb(r.L),r.Lb(M,1))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngSwitchDefault",""]]}),t})(),V=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[{provide:T,useClass:I}]}),t})();function B(t){return"browser"===t}function H(t){return"server"===t}let z=(()=>{class t{}return t.\u0275prov=Object(r.Hb)({token:t,providedIn:"root",factory:()=>new q(Object(r.Ub)(a),window,Object(r.Ub)(r.m))}),t})();class q{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=G(this.window.history)||G(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function G(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class $ extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new $,s||(s=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=K||(K=document.querySelector("base"),K)?K.getAttribute("href"):null;return null==e?null:(n=e,W||(W=document.createElement("a")),W.setAttribute("href",n),"/"===W.pathname.charAt(0)?W.pathname:"/"+W.pathname);var n}resetBaseElement(){K=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let W,K=null;const Q=new r.q("TRANSITION_ID"),Y=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Q,a,r.r],multi:!0}];class Z{static init(){Object(r.Y)(new Z)}addToWindow(t){r.pb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.pb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.pb.getAllAngularRootElements=()=>t.getAllRootElements(),r.pb.frameworkStabilizers||(r.pb.frameworkStabilizers=[]),r.pb.frameworkStabilizers.push(t=>{const e=r.pb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const X=new r.q("EventManagerPlugins");let J=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(X),r.Ub(r.z))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class tt{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let et=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),nt=(()=>{class t extends et{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(a))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const rt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},it=/%COMP%/g;function st(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?st(t,i,n):(i=i.replace(it,t),n.push(i))}return n}function ot(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let at=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new ut(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new lt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.R.ShadowDom:return new ct(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=st(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(J),r.Ub(nt),r.Ub(r.c))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class ut{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(rt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=rt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=rt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.G.DashCase|r.G.Important)?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ot(n)):this.eventManager.addEventListener(t,e,ot(n))}}class lt extends ut{constructor(t,e,n,r){super(t),this.component=n;const i=st(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(it,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(it,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class ct extends ut{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=st(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ht=(()=>{class t extends tt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(a))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const dt=["alt","control","meta","shift"],ft={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},mt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let gt=(()=>{class t extends tt{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(dt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&pt.hasOwnProperty(e)&&(e=pt[e]))}return ft[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),dt.forEach(r=>{r!=n&&(0,mt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(a))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const yt=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){$.makeCurrent(),Z.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.ub)(document),document},deps:[]}],bt=Object(r.S)(r.X,"browser",yt),vt=[[],{provide:r.ab,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:X,useClass:ht,multi:!0,deps:[a,r.z,r.B]},{provide:X,useClass:gt,multi:!0,deps:[a]},[],{provide:at,useClass:at,deps:[J,nt,r.c]},{provide:r.F,useExisting:at},{provide:et,useExisting:nt},{provide:nt,useClass:nt,deps:[a]},{provide:r.M,useClass:r.M,deps:[r.z]},{provide:J,useClass:J,deps:[X,r.z]},[]];let _t=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:Q,useExisting:r.c},Y]}}}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)(r.Ub(t,12))},providers:vt,imports:[V,r.f]}),t})();"undefined"!=typeof window&&window;var wt=n("HDdC"),Et=n("DH7j"),St=n("lJxs"),xt=n("XoHu"),Ot=n("Cfvw");function Ct(t,e){return new wt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=Object(Ot.a)(t[a]);let l=!1;n.add(u.subscribe({next:t=>{l||(l=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&l||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Tt=new r.q("NgValueAccessor"),It={provide:Tt,useExisting:Object(r.U)(()=>kt),multi:!0};let kt=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Yb("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.zb([It])]}),t})();const At={provide:Tt,useExisting:Object(r.U)(()=>Rt),multi:!0},Pt=new r.q("CompositionEventMode");let Rt=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l),r.Lb(Pt,8))},t.\u0275dir=r.Gb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Yb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.zb([At])]}),t})();function Dt(t){return null==t||0===t.length}function jt(t){return null!=t&&"number"==typeof t.length}const Nt=new r.q("NgValidators"),Lt=new r.q("NgAsyncValidators"),Mt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ut{static min(t){return e=>{if(Dt(e.value)||Dt(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Dt(e.value)||Dt(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Dt(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Dt(t.value)||Mt.test(t.value)?null:{email:!0}}static minLength(t){return e=>Dt(e.value)||!jt(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>jt(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Ut.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Dt(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Ft);return 0==e.length?null:function(t){return Bt(Ht(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Ft);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(Et.a)(e))return Ct(e,null);if(Object(xt.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Ct(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Ct(t=1===t.length&&Object(Et.a)(t[0])?t[0]:t,null).pipe(Object(St.a)(t=>e(...t)))}return Ct(t,null)}(Ht(t,e).map(Vt)).pipe(Object(St.a)(Bt))}}}function Ft(t){return null!=t}function Vt(t){const e=Object(r.sb)(t)?Object(Ot.a)(t):t;return Object(r.rb)(e),e}function Bt(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Ht(t,e){return e.map(e=>e(t))}function zt(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function qt(t){return null!=t?Ut.compose(zt(t)):null}function Gt(t){return null!=t?Ut.composeAsync(zt(t)):null}function $t(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Wt(t){return t._rawValidators}function Kt(t){return t._rawAsyncValidators}let Qt=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=qt(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Gt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t}),t})(),Yt=(()=>{class t extends Qt{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Zt(e||t)},t.\u0275dir=r.Gb({type:t,features:[r.xb]}),t})();const Zt=r.Sb(Yt);class Xt extends Qt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Jt{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let te=(()=>{class t extends Jt{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Xt,2))},t.\u0275dir=r.Gb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Db("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.xb]}),t})(),ee=(()=>{class t extends Jt{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Yt,2))},t.\u0275dir=r.Gb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Db("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.xb]}),t})();const ne={provide:Tt,useExisting:Object(r.U)(()=>re),multi:!0};let re=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Yb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.zb([ne])]}),t})();const ie={provide:Tt,useExisting:Object(r.U)(()=>oe),multi:!0};let se=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),oe=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Xt),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l),r.Lb(se),r.Lb(r.r))},t.\u0275dir=r.Gb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Yb("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.zb([ie])]}),t})();const ae={provide:Tt,useExisting:Object(r.U)(()=>ue),multi:!0};let ue=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Yb("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.zb([ae])]}),t})();const le={provide:Tt,useExisting:Object(r.U)(()=>ce),multi:!0};let ce=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Yb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.zb([le])]}),t})();const he={provide:Tt,useExisting:Object(r.U)(()=>de),multi:!0};let de=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Yb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.zb([he])]}),t})();function fe(t,e){me(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&ye(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&ye(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function pe(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function me(t,e,n){const r=Wt(t);null!==e.validator?t.setValidators($t(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=Kt(t);if(null!==e.asyncValidator?t.setAsyncValidators($t(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();pe(e._rawValidators,n),pe(e._rawAsyncValidators,n)}}function ge(t,e,n){if(null!==t){if(null!==e.validator){const n=Wt(t);Array.isArray(n)&&n.length>0&&t.setValidators(n.filter(t=>t!==e.validator))}if(null!==e.asyncValidator){const n=Kt(t);Array.isArray(n)&&n.length>0&&t.setAsyncValidators(n.filter(t=>t!==e.asyncValidator))}}if(n){const t=()=>{};pe(e._rawValidators,t),pe(e._rawAsyncValidators,t)}}function ye(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function be(t,e){me(t,e,!1)}const ve=[kt,ue,re,ce,de,oe];function _e(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function we(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ee="VALID",Se="INVALID",xe="PENDING",Oe="DISABLED";function Ce(t){return(Ae(t)?t.validators:t)||null}function Te(t){return Array.isArray(t)?qt(t):t||null}function Ie(t,e){return(Ae(e)?e.asyncValidators:t)||null}function ke(t){return Array.isArray(t)?Gt(t):t||null}function Ae(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Pe{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Te(this._rawValidators),this._composedAsyncValidatorFn=ke(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ee}get invalid(){return this.status===Se}get pending(){return this.status==xe}get disabled(){return this.status===Oe}get enabled(){return this.status!==Oe}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Te(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=ke(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=xe,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Oe,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ee,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Ee&&this.status!==xe||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Oe:Ee}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=xe,this._hasOwnPendingAsyncValidator=!0;const e=Vt(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof De?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof je&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?Oe:this.errors?Se:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xe)?xe:this._anyControlsHaveStatus(Se)?Se:Ee}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ae(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Re extends Pe{constructor(t=null,e,n){super(Ce(e),Ie(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){we(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){we(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class De extends Pe{constructor(t,e,n){super(Ce(e),Ie(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Re?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class je extends Pe{constructor(t,e,n){super(Ce(e),Ie(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Re?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Ne={provide:Yt,useExisting:Object(r.U)(()=>Me)},Le=(()=>Promise.resolve(null))();let Me=(()=>{class t extends Yt{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new De({},qt(t),Gt(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Le.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),fe(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Le.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),we(this._directives,t)})}addFormGroup(t){Le.then(()=>{const e=this._findContainer(t.path),n=new De({});be(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Le.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Le.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,_e(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Nt,10),r.Lb(Lt,10))},t.\u0275dir=r.Gb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Yb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.zb([Ne]),r.xb]}),t})(),Ue=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Fe=new r.q("NgModelWithFormControlWarning"),Ve={provide:Yt,useExisting:Object(r.U)(()=>Be)};let Be=(()=>{class t extends Yt{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return fe(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){we(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);be(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);be(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,_e(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){const n=()=>{};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),ge(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}(t.control||null,t),e&&fe(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){me(this.form,this,!1),this._oldForm&&ge(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Nt,10),r.Lb(Lt,10))},t.\u0275dir=r.Gb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Yb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.zb([Ve]),r.xb,r.yb]}),t})();const He={provide:Xt,useExisting:Object(r.U)(()=>ze)};let ze=(()=>{class t extends Xt{constructor(t,e,n,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===Rt?n=t:(e=t,ve.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}set isDisabled(t){}ngOnChanges(e){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(e,this.viewModel)&&(function(t,e,n,i){Object(r.W)()&&"never"!==i&&((null!==i&&"once"!==i||e._ngModelWarningSentOnce)&&("always"!==i||n._ngModelWarningSent)||(e._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}(0,t,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Yt,13),r.Lb(Nt,10),r.Lb(Lt,10),r.Lb(Tt,10),r.Lb(Fe,8))},t.\u0275dir=r.Gb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.zb([He]),r.xb,r.yb]}),t._ngModelWarningSentOnce=!1,t})(),qe=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)}}),t})(),Ge=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,s=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,s=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new De(n,{asyncValidators:i,updateOn:s,validators:r})}control(t,e,n){return new Re(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new je(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof Re||t instanceof De||t instanceof je?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),$e=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[se],imports:[qe]}),t})(),We=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Fe,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[Ge,se],imports:[qe]}),t})();var Ke=n("7o/Q"),Qe=n("D0XW");function Ye(t,e=Qe.a){return n=>n.lift(new Ze(t,e))}class Ze{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new Xe(t,this.dueTime,this.scheduler))}}class Xe extends Ke.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Je,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Je(t){t.debouncedNext()}function tn(t,e){return n=>n.lift(new en(t,e))}class en{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new nn(t,this.compare,this.keySelector))}}class nn extends Ke.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}function rn(t){return null!=t&&""+t!="false"}function sn(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function on(t){return Array.isArray(t)?t:[t]}function an(t){return null==t?"":"string"==typeof t?t:t+"px"}function un(t){return t instanceof r.l?t.nativeElement:t}var ln=n("XNiG"),cn=n("LRne"),hn=n("n6bG");function dn(t,e,n,r){return Object(hn.a)(n)&&(r=n,n=void 0),r?dn(t,e,n).pipe(Object(St.a)(t=>Object(Et.a)(t)?r(...t):r(t))):new wt.a(r=>{fn(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function fn(t,e,n,r,i){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),s=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),s=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),s=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)fn(t[s],e,n,r,i)}r.add(s)}var pn=n("VRyK"),mn=n("3N8a");class gn extends mn.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}var yn=n("IjjT");class bn extends yn.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const vn=new bn(gn);n("7Hc7");var _n=n("quSY"),wn=n("zx2A");class En{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Sn(t,this.durationSelector))}}class Sn extends wn.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=Object(wn.c)(n,new wn.a(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var xn=n("Y7HM"),On=n("z+Ro");function Cn(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function Tn(t,e=Qe.a){return n=()=>function(t=0,e,n){let r=-1;return Object(xn.a)(e)?r=Number(e)<1?1:Number(e):Object(On.a)(e)&&(n=e),Object(On.a)(n)||(n=Qe.a),new wt.a(e=>{const i=Object(xn.a)(t)?t:+t-n.now();return n.schedule(Cn,i,{index:0,period:r,subscriber:e})})}(t,e),function(t){return t.lift(new En(n))};var n}function In(t,e){return function(n){return n.lift(new kn(t,e))}}class kn{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new An(t,this.predicate,this.thisArg))}}class An extends Ke.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function Pn(t){return e=>e.lift(new Rn(t))}class Rn{constructor(t){this.notifier=t}call(t,e){const n=new Dn(t),r=Object(wn.c)(this.notifier,new wn.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class Dn extends wn.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}var jn=n("bHdf");function Nn(){return Object(jn.a)(1)}function Ln(...t){return Nn()(Object(cn.a)(...t))}function Mn(...t){const e=t[t.length-1];return Object(On.a)(e)?(t.pop(),n=>Ln(t,n,e)):e=>Ln(t,e)}function Un(){return t=>t.lift(new Fn)}class Fn{call(t,e){return e.subscribe(new Vn(t))}}class Vn extends Ke.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function Bn(t,e){return"function"==typeof e?n=>n.pipe(Bn((n,r)=>Object(Ot.a)(t(n,r)).pipe(Object(St.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Hn(t))}class Hn{constructor(t){this.project=t}call(t,e){return e.subscribe(new zn(t,this.project))}}class zn extends wn.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new wn.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(wn.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}var qn=n("qgXg"),Gn=n("pxpQ"),$n=n("9ppp"),Wn=n("Ylt2");class Kn extends ln.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Qn(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new $n.a;if(this.isStopped||this.hasError?s=_n.a.EMPTY:(this.observers.push(t),s=new Wn.a(this,t)),r&&t.add(t=new Gn.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||qn.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class Qn{constructor(t,e){this.time=t,this.value=e}}function Yn(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(l){let c;o++,!i||a?(a=!1,i=new Kn(t,e,r),c=i.subscribe(this),s=l.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,s=void 0,i.complete()}})):c=i.subscribe(this),this.add(()=>{o--,c.unsubscribe(),s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}let Zn;try{Zn="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(PP){Zn=!1}let Xn,Jn=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?B(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Zn)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.B,8))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(r.B,8))},token:t,providedIn:"root"}),t})(),tr=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)}}),t})();const er=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function nr(){if(Xn)return Xn;if("object"!=typeof document||!document)return Xn=new Set(er),Xn;let t=document.createElement("input");return Xn=new Set(er.filter(e=>(t.setAttribute("type",e),t.type===e))),Xn}let rr,ir;function sr(t){return function(){if(null==rr&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>rr=!0}))}finally{rr=rr||!1}return rr}()?t:!!t.capture}const or=new r.q("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.V)(a)}});let ar=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.n,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(or,8))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(or,8))},token:t,providedIn:"root"}),t})(),ur=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)}}),t})();class lr{constructor(t=!1,e,n=!0){this._multiple=t,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new ln.a,e&&e.length&&(t?e.forEach(t=>this._markSelected(t)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){if(t.length>1&&!this._multiple)throw Error("Cannot pass multiple values into SelectionModel with single-value mode.")}}let cr=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new ln.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new wt.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(Tn(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(cn.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(In(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollableContainsElement(t,e){let n=e.nativeElement,r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>dn(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.z),r.Ub(Jn),r.Ub(a,8))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(r.z),Object(r.Ub)(Jn),Object(r.Ub)(a,8))},token:t,providedIn:"root"}),t})(),hr=(()=>{class t{constructor(t,e,n){this._platform=t,this._document=n,e.runOutsideAngular(()=>{const e=this._getWindow();this._change=t.isBrowser?Object(pn.a)(dn(e,"resize"),dn(e,"orientationchange")):Object(cn.a)(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._getDocument(),e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Tn(t)):this._change}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Jn),r.Ub(r.z),r.Ub(a,8))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(Jn),Object(r.Ub)(r.z),Object(r.Ub)(a,8))},token:t,providedIn:"root"}),t})(),dr=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)}}),t})(),fr=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[ur,tr,dr],ur,dr]}),t})();function pr(t){const{subscriber:e,counter:n,period:r}=t;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}const mr=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var gr=n("EY2u");function yr(t){return e=>0===t?Object(gr.b)():e.lift(new br(t))}class br{constructor(t){if(this.total=t,this.total<0)throw new mr}call(t,e){return e.subscribe(new vr(t,this.total))}}class vr extends Ke.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}var _r=n("vkgz");function wr(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Er(t,e){const n=e?"":"none";wr(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function Sr(t){const e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function xr(t,e){return t.getPropertyValue(e).split(",").map(t=>t.trim())}function Or(t){const e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function Cr(t,e,n){const{top:r,bottom:i,left:s,right:o}=t;return n>=r&&n<=i&&e>=s&&e<=o}function Tr(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function Ir(t,e,n,r){const{top:i,right:s,bottom:o,left:a,width:u,height:l}=t,c=u*e,h=l*e;return r>i-h&&r<o+h&&n>a-c&&n<s+c}class kr{constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:Or(t)})})}handleScroll(t){const e=t.target,n=this.positions.get(e);if(!n)return null;const r=e===this._document?e.documentElement:e,i=n.scrollPosition;let s,o;if(e===this._document){const t=this._viewportRuler.getViewportScrollPosition();s=t.top,o=t.left}else s=e.scrollTop,o=e.scrollLeft;const a=i.top-s,u=i.left-o;return this.positions.forEach((t,n)=>{t.clientRect&&e!==n&&r.contains(n)&&Tr(t.clientRect,a,u)}),i.top=s,i.left=o,{top:a,left:u}}}const Ar=sr({passive:!0}),Pr=sr({passive:!1});class Rr{constructor(t,e,n,r,i,s){this._config=e,this._document=n,this._ngZone=r,this._viewportRuler=i,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new ln.a,this._pointerMoveSubscription=_n.a.EMPTY,this._pointerUpSubscription=_n.a.EMPTY,this._scrollSubscription=_n.a.EMPTY,this._resizeSubscription=_n.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new ln.a,this.started=new ln.a,this.released=new ln.a,this.ended=new ln.a,this.entered=new ln.a,this.exited=new ln.a,this.dropped=new ln.a,this.moved=this._moveEvents.asObservable(),this._pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){const e=this._handles.find(e=>{const n=t.target;return!!n&&(n===e||e.contains(n))});!e||this._disabledHandles.has(e)||this.disabled||this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)},this._pointerMove=t=>{t.preventDefault();const e=this._getPointerPositionOnPage(t);if(!this._hasStartedDragging){if(Math.abs(e.x-this._pickupPositionOnPage.x)+Math.abs(e.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){if(!(Date.now()>=this._dragStartTime+this._getDragStartDelay(t)))return void this._endDragSequence(t);this._dropContainer&&this._dropContainer.isDragging()||(this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(t)))}return}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()));const n=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._updatePointerDirectionDelta(n),this._dropContainer)this._updateActiveDropContainer(n);else{const t=this._activeTransform;t.x=n.x-this._pickupPositionOnPage.x+this._passiveTransform.x,t.y=n.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(t.x,t.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${t.x} ${t.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:n,event:t,distance:this._getDragDistance(n),delta:this._pointerDirectionDelta})})},this._pointerUp=t=>{this._endDragSequence(t)},this.withRootElement(t),this._parentPositions=new kr(n,i),s.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=rn(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions())}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){return this._handles=t.map(t=>un(t)),this._handles.forEach(t=>Er(t,!1)),this._toggleNativeDragInteractions(),this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=un(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,Pr),e.addEventListener("touchstart",this._pointerDown,Ar)}),this._initialTransform=void 0,this._rootElement=e),this}withBoundaryElement(t){return this._boundaryElement=t?un(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&Lr(this._rootElement),Lr(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._placeholderTemplate=this._previewTemplate=this._anchor=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){this._handles.indexOf(t)>-1&&this._disabledHandles.add(t)}enableHandle(t){this._disabledHandles.delete(t)}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}_sortFromLastPointerPosition(){const t=this._pointerPositionAtLastDirectionChange;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t))}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&Lr(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&Lr(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(this._getPointerPositionOnPage(t))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}_startDragSequence(t){this.started.next({source:this}),Mr(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const t=this._rootElement,r=t.parentNode,i=this._preview=this._createPreviewElement(),s=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment("");r.insertBefore(o,t),t.style.display="none",this._document.body.appendChild(r.replaceChild(s,t)),(n=this._document,n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement||n.body).appendChild(i),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this._initialContainer=this._initialIndex=void 0;var n;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){e.stopPropagation();const n=this.isDragging(),r=Mr(e),i=!r&&0!==e.button,s=this._rootElement,o=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),n||i||o)return;this._handles.length&&(this._rootElementTapHighlight=s.style.webkitTapHighlightColor,s.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{this._updateOnScroll(t)}),this._boundaryElement&&(this._boundaryRect=Or(this._boundaryElement));const a=this._previewTemplate;this._pickupPositionInElement=a&&a.template&&!a.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const u=this._pickupPositionOnPage=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:u.x,y:u.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){this._rootElement.style.display="",this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(()=>{const e=this._dropContainer,n=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),i=this._getDragDistance(this._getPointerPositionOnPage(t)),s=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:i}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:i}),e.drop(this,n,this._initialContainer,s,i,this._initialIndex),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e}){let n=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!n&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(n=this._initialContainer),n&&n!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=n,this._dropContainer.enter(this,t,e,n===this._initialContainer&&n.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:n,currentIndex:n.getItemIndex(this)})}),this._dropContainer._startScrollingIfNecessary(t,e),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._preview.style.transform=Dr(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y)}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,n=t?t.template:null;let r;if(n&&t){const e=t.matchSize?this._rootElement.getBoundingClientRect():null,i=t.viewContainer.createEmbeddedView(n,t.context);i.detectChanges(),r=Ur(i,this._document),this._previewRef=i,t.matchSize?Fr(r,e):r.style.transform=Dr(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const t=this._rootElement;r=jr(t),Fr(r,t.getBoundingClientRect())}return wr(r.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:""+(this._config.zIndex||1e3)}),Er(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(t=>r.classList.add(t)):r.classList.add(e)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=Dr(t.left,t.top);const e=function(t){const e=getComputedStyle(t),n=xr(e,"transition-property"),r=n.find(t=>"transform"===t||"all"===t);if(!r)return 0;const i=n.indexOf(r),s=xr(e,"transition-duration"),o=xr(e,"transition-delay");return Sr(s[i])+Sr(o[i])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{const n=e=>{(!e||e.target===this._preview&&"transform"===e.propertyName)&&(this._preview.removeEventListener("transitionend",n),t(),clearTimeout(r))},r=setTimeout(n,1.5*e);this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let n;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),n=Ur(this._placeholderRef,this._document)):n=jr(this._rootElement),n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(t,e){const n=this._rootElement.getBoundingClientRect(),r=t===this._rootElement?null:t,i=r?r.getBoundingClientRect():n,s=Mr(e)?e.targetTouches[0]:e,o=this._getViewportScrollPosition();return{x:i.left-n.left+(s.pageX-i.left-o.left),y:i.top-n.top+(s.pageY-i.top-o.top)}}_getPointerPositionOnPage(t){const e=Mr(t)?t.touches[0]||t.changedTouches[0]:t,n=this._getViewportScrollPosition();return{x:e.pageX-n.left,y:e.pageY-n.top}}_getConstrainedPointerPosition(t){const e=this.constrainPosition?this.constrainPosition(t,this):t,n=this._dropContainer?this._dropContainer.lockAxis:null;if("x"===this.lockAxis||"x"===n?e.y=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==n||(e.x=this._pickupPositionOnPage.x),this._boundaryRect){const{x:t,y:n}=this._pickupPositionInElement,r=this._boundaryRect,i=this._previewRect,s=r.top+n,o=r.bottom-(i.height-n);e.x=Nr(e.x,r.left+t,r.right-(i.width-t)),e.y=Nr(e.y,s,o)}return e}_updatePointerDirectionDelta(t){const{x:e,y:n}=t,r=this._pointerDirectionDelta,i=this._pointerPositionAtLastDirectionChange,s=Math.abs(e-i.x),o=Math.abs(n-i.y);return s>this._config.pointerDirectionChangeThreshold&&(r.x=e>i.x?1:-1,i.x=e),o>this._config.pointerDirectionChangeThreshold&&(r.y=n>i.y?1:-1,i.y=n),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Er(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,Pr),t.removeEventListener("touchstart",this._pointerDown,Ar)}_applyRootElementTransform(t,e){const n=Dr(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const n=this._boundaryElement.getBoundingClientRect(),r=this._rootElement.getBoundingClientRect();if(0===n.width&&0===n.height||0===r.width&&0===r.height)return;const i=n.left-r.left,s=r.right-n.right,o=n.top-r.top,a=r.bottom-n.bottom;n.width>r.width?(i>0&&(t+=i),s>0&&(t-=s)):t=0,n.height>r.height?(o>0&&(e+=o),a>0&&(e-=a)):e=0,t===this._passiveTransform.x&&e===this._passiveTransform.y||this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:Mr(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);this._boundaryRect&&e&&Tr(this._boundaryRect,e.top,e.left)}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}}function Dr(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function jr(t){const e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),r=t.querySelectorAll("canvas");e.removeAttribute("id");for(let i=0;i<n.length;i++)n[i].removeAttribute("id");if(r.length){const t=e.querySelectorAll("canvas");for(let e=0;e<r.length;e++){const n=t[e].getContext("2d");n&&n.drawImage(r[e],0,0)}}return e}function Nr(t,e,n){return Math.max(e,Math.min(n,t))}function Lr(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Mr(t){return"t"===t.type[0]}function Ur(t,e){const n=t.rootNodes;if(1===n.length&&n[0].nodeType===e.ELEMENT_NODE)return n[0];const r=e.createElement("div");return n.forEach(t=>r.appendChild(t)),r}function Fr(t,e){t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.transform=Dr(e.left,e.top)}function Vr(t,e,n){const r=Br(e,t.length-1),i=Br(n,t.length-1);if(r===i)return;const s=t[r],o=i<r?-1:1;for(let a=r;a!==i;a+=o)t[a]=t[a+o];t[i]=s}function Br(t,e){return Math.max(0,Math.min(e,t))}class Hr{constructor(t,e,n,r,i){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=i,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=()=>!0,this.beforeStarted=new ln.a,this.entered=new ln.a,this.exited=new ln.a,this.dropped=new ln.a,this.sorted=new ln.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=_n.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new ln.a,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(t=0,e=Qe.a){return(!Object(xn.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=Qe.a),new wt.a(n=>(n.add(e.schedule(pr,t,{subscriber:n,counter:0,period:t})),n))}(0,vn).pipe(Pn(this._stopScrollTimers)).subscribe(()=>{const t=this._scrollNode;1===this._verticalScrollDirection?qr(t,-2):2===this._verticalScrollDirection&&qr(t,2),1===this._horizontalScrollDirection?Gr(t,-2):2===this._horizontalScrollDirection&&Gr(t,2)})},this.element=un(t),this._document=n,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new kr(n,i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){const t=un(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._siblings.forEach(t=>t._startReceiving(this)),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}enter(t,e,n,r){let i;this.start(),null==r?(i=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===i&&(i=this._getItemIndexFromPointerPosition(t,e,n))):i=r;const s=this._activeDraggables,o=s.indexOf(t),a=t.getPlaceholderElement();let u=s[i];if(u===t&&(u=s[i+1]),o>-1&&s.splice(o,1),u&&!this._dragDropRegistry.isDragging(u)){const e=u.getRootElement();e.parentElement.insertBefore(a,e),s.splice(i,0,t)}else{const r=un(this.element);this._shouldEnterAsFirstChild(e,n)?(r.insertBefore(a,s[0].getRootElement()),s.unshift(t)):(r.appendChild(a),s.push(t))}a.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,n,r,i,s){this._reset(),null==s&&(s=n.getItemIndex(t)),this.dropped.next({item:t,currentIndex:e,previousIndex:s,container:this,previousContainer:n,isPointerOverContainer:r,distance:i})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(e.filter(t=>t.isDragging()).every(e=>-1===t.indexOf(e))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=un(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?zr("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,e=>e.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,n,r){if(this.sortingDisabled||!Ir(this._clientRect,.05,e,n))return;const i=this._itemPositions,s=this._getItemIndexFromPointerPosition(t,e,n,r);if(-1===s&&i.length>0)return;const o="horizontal"===this._orientation,a=zr(i,e=>e.drag===t),u=i[s],l=i[a].clientRect,c=u.clientRect,h=a>s?1:-1;this._previousSwap.drag=u.drag,this._previousSwap.delta=o?r.x:r.y;const d=this._getItemOffsetPx(l,c,h),f=this._getSiblingOffsetPx(a,i,h),p=i.slice();Vr(i,a,s),this.sorted.next({previousIndex:a,currentIndex:s,container:this,item:t}),i.forEach((e,n)=>{if(p[n]===e)return;const r=e.drag===t,i=r?d:f,s=r?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=i,o?(s.style.transform=`translate3d(${Math.round(e.offset)}px, 0, 0)`,Tr(e.clientRect,0,i)):(s.style.transform=`translate3d(0, ${Math.round(e.offset)}px, 0)`,Tr(e.clientRect,i,0))})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let n,r=0,i=0;if(this._parentPositions.positions.forEach((s,o)=>{o!==this._document&&s.clientRect&&!n&&Ir(s.clientRect,.05,t,e)&&([r,i]=function(t,e,n,r){const i=$r(e,r),s=Wr(e,n);let o=0,a=0;if(i){const e=t.scrollTop;1===i?e>0&&(o=1):t.scrollHeight-e>t.clientHeight&&(o=2)}if(s){const e=t.scrollLeft;1===s?e>0&&(a=1):t.scrollWidth-e>t.clientWidth&&(a=2)}return[o,a]}(o,s.clientRect,t,e),(r||i)&&(n=o))}),!r&&!i){const{width:s,height:o}=this._viewportRuler.getViewportSize(),a={width:s,height:o,top:0,right:s,bottom:o,left:0};r=$r(a,e),i=Wr(a,t),n=window}!n||r===this._verticalScrollDirection&&i===this._horizontalScrollDirection&&n===this._scrollNode||(this._verticalScrollDirection=r,this._horizontalScrollDirection=i,this._scrollNode=n,(r||i)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_cacheParentPositions(){const t=un(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const e=t.getVisibleElement();return{drag:t,offset:0,clientRect:Or(e)}}).sort((e,n)=>t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top)}_reset(){this._isDragging=!1;const t=un(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{const e=t.getRootElement();e&&(e.style.transform="")}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,n){const r="horizontal"===this._orientation,i=e[t].clientRect,s=e[t+-1*n];let o=i[r?"width":"height"]*n;if(s){const t=r?"left":"top",e=r?"right":"bottom";-1===n?o-=s.clientRect[t]-i[e]:o+=i[t]-s.clientRect[e]}return o}_getItemOffsetPx(t,e,n){const r="horizontal"===this._orientation;let i=r?e.left-t.left:e.top-t.top;return-1===n&&(i+=r?e.width-t.width:e.height-t.height),i}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,r="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){const i=n[n.length-1].clientRect;return r?t>=i.right:e>=i.bottom}{const i=n[0].clientRect;return r?t<=i.left:e<=i.top}}_getItemIndexFromPointerPosition(t,e,n,r){const i="horizontal"===this._orientation;return zr(this._itemPositions,({drag:s,clientRect:o},a,u)=>{if(s===t)return u.length<2;if(r){const t=i?r.x:r.y;if(s===this._previousSwap.drag&&t===this._previousSwap.delta)return!1}return i?e>=Math.floor(o.left)&&e<Math.floor(o.right):n>=Math.floor(o.top)&&n<Math.floor(o.bottom)})}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return Cr(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,n){return this._siblings.find(r=>r._canReceive(t,e,n))}_canReceive(t,e,n){if(!Cr(this._clientRect,e,n)||!this.enterPredicate(t,this))return!1;const r=this._getShadowRoot().elementFromPoint(e,n);if(!r)return!1;const i=un(this.element);return r===i||i.contains(r)}_startReceiving(t){const e=this._activeSiblings;e.has(t)||(e.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:t})=>{Tr(t,e.top,e.left)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=function(t){if(function(){if(null==ir){const t="undefined"!=typeof document?document.head:null;ir=!(!t||!t.createShadowRoot&&!t.attachShadow)}return ir}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(un(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}}function zr(t,e){for(let n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function qr(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function Gr(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function $r(t,e){const{top:n,bottom:r,height:i}=t,s=.05*i;return e>=n-s&&e<=n+s?1:e>=r-s&&e<=r+s?2:0}function Wr(t,e){const{left:n,right:r,width:i}=t,s=.05*i;return e>=n-s&&e<=n+s?1:e>=r-s&&e<=r+s?2:0}const Kr=sr({passive:!1,capture:!0});let Qr=(()=>{class t{constructor(t,e){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new ln.a,this.pointerUp=new ln.a,this.scroll=new ln.a,this._preventDefaultWhileDragging=t=>{this._activeDragInstances.size&&t.preventDefault()},this._document=e}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._preventDefaultWhileDragging,Kr)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._preventDefaultWhileDragging,Kr)}startDragging(t,e){if(!this._activeDragInstances.has(t)&&(this._activeDragInstances.add(t),1===this._activeDragInstances.size)){const t=e.type.startsWith("touch"),n=t?"touchend":"mouseup";this._globalListeners.set(t?"touchmove":"mousemove",{handler:t=>this.pointerMove.next(t),options:Kr}).set(n,{handler:t=>this.pointerUp.next(t),options:!0}).set("scroll",{handler:t=>this.scroll.next(t),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Kr}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((t,e)=>{this._document.addEventListener(e,t.handler,t.options)})})}}stopDragging(t){this._activeDragInstances.delete(t),0===this._activeDragInstances.size&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances.has(t)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,e)=>{this._document.removeEventListener(e,t.handler,t.options)}),this._globalListeners.clear()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.z),r.Ub(a))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(r.z),Object(r.Ub)(a))},token:t,providedIn:"root"}),t})();const Yr={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Zr=(()=>{class t{constructor(t,e,n,r){this._document=t,this._ngZone=e,this._viewportRuler=n,this._dragDropRegistry=r}createDrag(t,e=Yr){return new Rr(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new Hr(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(a),r.Ub(r.z),r.Ub(hr),r.Ub(Qr))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(a),Object(r.Ub)(r.z),Object(r.Ub)(hr),Object(r.Ub)(Qr))},token:t,providedIn:"root"}),t})();const Xr=new r.q("CDK_DRAG_PARENT");let Jr=(()=>{class t{constructor(t,e){this.element=t,this._stateChanges=new ln.a,this._disabled=!1,this._parentDrag=e,Er(t.nativeElement,!1)}get disabled(){return this._disabled}set disabled(t){this._disabled=rn(t),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(Xr,8))},t.\u0275dir=r.Gb({type:t,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]}}),t})(),ti=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.L))},t.\u0275dir=r.Gb({type:t,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"}}),t})(),ei=(()=>{class t{constructor(t){this.templateRef=t,this._matchSize=!1}get matchSize(){return this._matchSize}set matchSize(t){this._matchSize=rn(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.L))},t.\u0275dir=r.Gb({type:t,selectors:[["ng-template","cdkDragPreview",""]],inputs:{matchSize:"matchSize",data:"data"}}),t})();const ni=new r.q("CDK_DRAG_CONFIG"),ri=new r.q("CDK_DROP_LIST");let ii=(()=>{class t{constructor(t,e,n,i,s,o,a,u,l){this.element=t,this.dropContainer=e,this._document=n,this._ngZone=i,this._viewContainerRef=s,this._dir=a,this._changeDetectorRef=l,this._destroyed=new ln.a,this.started=new r.n,this.released=new r.n,this.ended=new r.n,this.entered=new r.n,this.exited=new r.n,this.dropped=new r.n,this.moved=new wt.a(t=>{const e=this._dragRef.moved.pipe(Object(St.a)(t=>({source:this,pointerPosition:t.pointerPosition,event:t.event,delta:t.delta,distance:t.distance}))).subscribe(t);return()=>{e.unsubscribe()}}),this._dragRef=u.createDrag(t,{dragStartThreshold:o&&null!=o.dragStartThreshold?o.dragStartThreshold:5,pointerDirectionChangeThreshold:o&&null!=o.pointerDirectionChangeThreshold?o.pointerDirectionChangeThreshold:5,zIndex:null==o?void 0:o.zIndex}),this._dragRef.data=this,o&&this._assignDefaults(o),e&&(this._dragRef._withDropContainer(e._dropListRef),e.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=rn(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.onStable.asObservable().pipe(yr(1),Pn(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._handles.changes.pipe(Mn(this._handles),Object(_r.a)(t=>{const e=t.filter(t=>t._parentDrag===this).map(t=>t.element);this._dragRef.withHandles(e)}),Bn(t=>Object(pn.a)(...t.map(t=>t._stateChanges.pipe(Mn(t))))),Pn(this._destroyed)).subscribe(t=>{const e=this._dragRef,n=t.element.nativeElement;t.disabled?e.disableHandle(n):e.enableHandle(n)}),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})}ngOnChanges(t){const e=t.rootElementSelector,n=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}_updateRootElement(){const t=this.element.nativeElement,e=this.rootElementSelector?si(t,this.rootElementSelector):t;if(e&&e.nodeType!==this._document.ELEMENT_NODE)throw Error(`cdkDrag must be attached to an element node. Currently attached to "${e.nodeName}".`);this._dragRef.withRootElement(e||t)}_getBoundaryElement(){const t=this.boundaryElement;if(!t)return null;if("string"==typeof t)return si(this.element.nativeElement,t);const e=un(t);if(Object(r.W)()&&!e.contains(this.element.nativeElement))throw Error("Draggable element is not inside of the node passed into cdkDragBoundary.");return e}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const e=this._dir,n=this.dragStartDelay,r=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,i=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof n&&n?n:sn(n),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(i),e&&t.withDirection(e.value)}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(t=>{this.ended.emit({source:this,distance:t.distance}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:t.container.data,item:this,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:t.container.data,item:this})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:this,distance:t.distance})})}_assignDefaults(t){const{lockAxis:e,dragStartDelay:n,constrainPosition:r,previewClass:i,boundaryElement:s,draggingDisabled:o,rootElementSelector:a}=t;this.disabled=null!=o&&o,this.dragStartDelay=n||0,e&&(this.lockAxis=e),r&&(this.constrainPosition=r),i&&(this.previewClass=i),s&&(this.boundaryElement=s),a&&(this.rootElementSelector=a)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(ri,12),r.Lb(a),r.Lb(r.z),r.Lb(r.Q),r.Lb(ni,8),r.Lb(ar,8),r.Lb(Zr),r.Lb(r.h))},t.\u0275dir=r.Gb({type:t,selectors:[["","cdkDrag",""]],contentQueries:function(t,e,n){if(1&t&&(r.Eb(n,ei,!0),r.Eb(n,ti,!0),r.Eb(n,Jr,!0)),2&t){let t;r.ec(t=r.Zb())&&(e._previewTemplate=t.first),r.ec(t=r.Zb())&&(e._placeholderTemplate=t.first),r.ec(t=r.Zb())&&(e._handles=t)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,e){2&t&&r.Db("cdk-drag-disabled",e.disabled)("cdk-drag-dragging",e._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[r.zb([{provide:Xr,useExisting:t}]),r.yb]}),t})();function si(t,e){let n=t.parentElement;for(;n;){if(n.matches?n.matches(e):n.msMatchesSelector(e))return n;n=n.parentElement}return null}let oi=(()=>{class t{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=rn(t)}ngOnDestroy(){this._items.clear()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"]}),t})(),ai=0,ui=(()=>{class t{constructor(e,n,i,s,o,a,u){this.element=e,this._changeDetectorRef=i,this._dir=s,this._group=o,this._scrollDispatcher=a,this._destroyed=new ln.a,this.connectedTo=[],this.id="cdk-drop-list-"+ai++,this.enterPredicate=()=>!0,this.dropped=new r.n,this.entered=new r.n,this.exited=new r.n,this.sorted=new r.n,this._unsortedItems=new Set,this._dropListRef=n.createDropList(e),this._dropListRef.data=this,u&&this._assignDefaults(u),this._dropListRef.enterPredicate=(t,e)=>this.enterPredicate(t.data,e.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),o&&o._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=rn(t)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,e)=>t._dragRef.getVisibleElement().compareDocumentPosition(e._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=t._dropLists.indexOf(this);e>-1&&t._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}start(){this._dropListRef.start()}drop(t,e,n,r){this._dropListRef.drop(t._dragRef,e,n._dropListRef,r,{x:0,y:0})}enter(t,e,n){this._dropListRef.enter(t._dragRef,e,n)}exit(t){this._dropListRef.exit(t._dragRef)}getItemIndex(t){return this._dropListRef.getItemIndex(t._dragRef)}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(Mn(this._dir.value),Pn(this._destroyed)).subscribe(t=>e.withDirection(t)),e.beforeStarted.subscribe(()=>{const n=on(this.connectedTo).map(e=>"string"==typeof e?t._dropLists.find(t=>t.id===e):e);if(this._group&&this._group._items.forEach(t=>{-1===n.indexOf(t)&&n.push(t)}),!this._scrollableParentsResolved&&this._scrollDispatcher){const t=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(t=>t.getElementRef().nativeElement);this._dropListRef.withScrollableParents(t),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=rn(this.sortingDisabled),e.autoScrollDisabled=rn(this.autoScrollDisabled),e.connectedTo(n.filter(t=>t&&t!==this).map(t=>t._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(t=>{this.entered.emit({container:this,item:t.item.data,currentIndex:t.currentIndex})}),t.exited.subscribe(t=>{this.exited.emit({container:this,item:t.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(t=>{this.sorted.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,container:this,item:t.item.data})}),t.dropped.subscribe(t=>{this.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,item:t.item.data,isPointerOverContainer:t.isPointerOverContainer,distance:t.distance}),this._changeDetectorRef.markForCheck()})}_assignDefaults(t){const{lockAxis:e,draggingDisabled:n,sortingDisabled:r,listAutoScrollDisabled:i,listOrientation:s}=t;this.disabled=null!=n&&n,this.sortingDisabled=null!=r&&r,this.autoScrollDisabled=null!=i&&i,this.orientation=s||"vertical",e&&(this.lockAxis=e)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(Zr),r.Lb(r.h),r.Lb(ar,8),r.Lb(oi,12),r.Lb(cr),r.Lb(ni,8))},t.\u0275dir=r.Gb({type:t,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Tb("id",e.id),r.Db("cdk-drop-list-disabled",e.disabled)("cdk-drop-list-dragging",e._dropListRef.isDragging())("cdk-drop-list-receiving",e._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[r.zb([{provide:oi,useValue:void 0},{provide:ri,useExisting:t}])]}),t._dropLists=[],t})(),li=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[Zr],imports:[dr]}),t})();function ci(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new hi(t,e,n))}}class hi{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new di(t,this.accumulator,this.seed,this.hasSeed))}}class di extends Ke.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}var fi=n("spgP"),pi=n("Jgta"),mi=n("zIRd"),gi=n("q/0M"),yi=n("qOnz"),bi=function(t,e){return(bi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function vi(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var _i,wi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ei=Ei||{},Si=wi||self;function xi(){}function Oi(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ci(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Ti="closure_uid_"+(1e9*Math.random()>>>0),Ii=0;function ki(t,e,n){return t.call.apply(t.bind,arguments)}function Ai(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Pi(t,e,n){return(Pi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ki:Ai).apply(null,arguments)}function Ri(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Di(){return Date.now()}function ji(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function Ni(){this.j=this.j,this.i=this.i}Ni.prototype.j=!1,Ni.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Ti)&&t[Ti]||(t[Ti]=++Ii)}(this)},Ni.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Li=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Mi=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function Ui(t){return Array.prototype.concat.apply([],arguments)}function Fi(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Vi(t){return/^[\s\xa0]*$/.test(t)}var Bi,Hi=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function zi(t,e){return-1!=t.indexOf(e)}function qi(t,e){return t<e?-1:t>e?1:0}t:{var Gi=Si.navigator;if(Gi){var $i=Gi.userAgent;if($i){Bi=$i;break t}}Bi=""}function Wi(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Ki(t){var e={};for(var n in t)e[n]=t[n];return e}var Qi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Yi(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<Qi.length;s++)n=Qi[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Zi(t){return Zi[" "](t),t}Zi[" "]=xi;var Xi,Ji,ts=zi(Bi,"Opera"),es=zi(Bi,"Trident")||zi(Bi,"MSIE"),ns=zi(Bi,"Edge"),rs=ns||es,is=zi(Bi,"Gecko")&&!(zi(Bi.toLowerCase(),"webkit")&&!zi(Bi,"Edge"))&&!(zi(Bi,"Trident")||zi(Bi,"MSIE"))&&!zi(Bi,"Edge"),ss=zi(Bi.toLowerCase(),"webkit")&&!zi(Bi,"Edge");function os(){var t=Si.document;return t?t.documentMode:void 0}t:{var as="",us=(Ji=Bi,is?/rv:([^\);]+)(\)|;)/.exec(Ji):ns?/Edge\/([\d\.]+)/.exec(Ji):es?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ji):ss?/WebKit\/(\S+)/.exec(Ji):ts?/(?:Version)[ \/]?(\S+)/.exec(Ji):void 0);if(us&&(as=us?us[1]:""),es){var ls=os();if(null!=ls&&ls>parseFloat(as)){Xi=String(ls);break t}}Xi=as}var cs={};function hs(t){return function(t,e){var n=cs;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Hi(String(Xi)).split("."),r=Hi(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=qi(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||qi(0==o[2].length,0==a[2].length)||qi(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var ds=Si.document&&es&&(os()||parseInt(Xi,10))||void 0,fs=!es||9<=Number(ds),ps=es&&!hs("9"),ms=function(){if(!Si.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Si.addEventListener("test",xi,e),Si.removeEventListener("test",xi,e)}catch(n){}return t}();function gs(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function ys(t,e){if(gs.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(is){t:{try{Zi(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:bs[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}gs.prototype.b=function(){this.defaultPrevented=!0},ji(ys,gs);var bs={2:"touch",3:"pen",4:"mouse"};ys.prototype.b=function(){ys.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ps)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var vs="closure_listenable_"+(1e6*Math.random()|0),_s=0;function ws(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++_s,this.Y=this.Z=!1}function Es(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Ss(t){this.src=t,this.a={},this.b=0}function xs(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=Li(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Es(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Os(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}Ss.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=Os(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new ws(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var Cs="closure_lm_"+(1e6*Math.random()|0),Ts={};function Is(t,e,n,r,i){if(r&&r.once)return As(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Is(t,e[s],n,r,i);return null}return n=Us(n),t&&t[vs]?t.va(e,n,Ci(r)?!!r.capture:!!r,i):ks(t,e,n,!1,r,i)}function ks(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Ci(i)?!!i.capture:!!i;if(o&&!fs)return null;var a=Ls(t);if(a||(t[Cs]=a=new Ss(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=Ns,e=fs?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ms||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ds(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function As(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)As(t,e[s],n,r,i);return null}return n=Us(n),t&&t[vs]?t.wa(e,n,Ci(r)?!!r.capture:!!r,i):ks(t,e,n,!0,r,i)}function Ps(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Ps(t,e[s],n,r,i);else r=Ci(r)?!!r.capture:!!r,n=Us(n),t&&t[vs]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Os(s=t.a[e],n,r,i))&&(Es(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=Ls(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Os(e,n,r,i)),(n=-1<t?e[t]:null)&&Rs(n))}function Rs(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[vs])xs(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ds(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ls(e))?(xs(n,t),0==n.b&&(n.src=null,e[Cs]=null)):Es(t)}}}function Ds(t){return t in Ts?Ts[t]:Ts[t]="on"+t}function js(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Rs(t),n.call(r,e)}function Ns(t,e){if(t.Y)return!0;if(!fs){if(!e)t:{e=["window","event"];for(var n=Si,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return js(t,e=new ys(e,this))}return js(t,new ys(e,this))}function Ls(t){return(t=t[Cs])instanceof Ss?t:null}var Ms="__closure_events_fn_"+(1e9*Math.random()>>>0);function Us(t){return"function"==typeof t?t:(t[Ms]||(t[Ms]=function(e){return t.handleEvent(e)}),t[Ms])}function Fs(){Ni.call(this),this.c=new Ss(this),this.J=this,this.C=null}function Vs(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new gs(e,t);else if(e instanceof gs)e.target=e.target||t;else{var i=e;Yi(e=new gs(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=Bs(o,r,!0,e)&&i}if(i=Bs(o=e.a=t,r,!0,e)&&i,i=Bs(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Bs(o=e.a=n[s],r,!1,e)&&i}function Bs(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,u=o.ca||o.src;o.Z&&xs(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}ji(Fs,Ni),Fs.prototype[vs]=!0,(_i=Fs.prototype).addEventListener=function(t,e,n,r){Is(this,t,e,n,r)},_i.removeEventListener=function(t,e,n,r){Ps(this,t,e,n,r)},_i.G=function(){if(Fs.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Es(n[r]);delete e.a[t],e.b--}}this.C=null},_i.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},_i.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Hs=Si.JSON.stringify;function zs(){this.b=this.a=null}var qs,Gs=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Ws},function(t){t.reset()});function $s(){var t=Zs,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ws(){this.next=this.b=this.a=null}function Ks(t){Si.setTimeout(function(){throw t},0)}function Qs(t,e){qs||function(){var t=Si.Promise.resolve(void 0);qs=function(){t.then(Xs)}}(),Ys||(qs(),Ys=!0),Zs.add(t,e)}zs.prototype.add=function(t,e){var n=Gs.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ws.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ws.prototype.reset=function(){this.next=this.b=this.a=null};var Ys=!1,Zs=new zs;function Xs(){for(var t;t=$s();){try{t.a.call(t.b)}catch(n){Ks(n)}var e=Gs;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Ys=!1}function Js(t,e){Fs.call(this),this.b=t||1,this.a=e||Si,this.f=Pi(this.Za,this),this.g=Di()}function to(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function eo(t,e,n){if("function"==typeof t)n&&(t=Pi(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Pi(t.handleEvent,t)}return 2147483647<Number(e)?-1:Si.setTimeout(t,e||0)}function no(t){t.a=eo(function(){t.a=null,t.c&&(t.c=!1,no(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}ji(Js,Fs),(_i=Js.prototype).aa=!1,_i.M=null,_i.Za=function(){if(this.aa){var t=Di()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Vs(this,"tick"),this.aa&&(to(this),this.start()))}},_i.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Di())},_i.G=function(){Js.X.G.call(this),to(this),delete this.a};var ro=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}bi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:no(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Si.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Ni);function io(t){Ni.call(this),this.b=t,this.a={}}ji(io,Ni);var so=[];function oo(t,e,n,r){Array.isArray(n)||(n&&(so[0]=n.toString()),n=so);for(var i=0;i<n.length;i++){var s=Is(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function ao(t){Wi(t.a,function(t,e){this.a.hasOwnProperty(e)&&Rs(t)},t),t.a={}}function uo(){this.a=!0}function lo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Hs(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}io.prototype.G=function(){io.X.G.call(this),ao(this)},io.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},uo.prototype.info=function(){};var co={},ho=null;function fo(){return ho=ho||new Fs}function po(t){gs.call(this,co.Fa,t)}function mo(t){var e=fo();Vs(e,new po(e,t))}function go(t,e){gs.call(this,co.STAT_EVENT,t),this.stat=e}function yo(t){var e=fo();Vs(e,new go(e,t))}function bo(t){gs.call(this,co.Ga,t)}function vo(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Si.setTimeout(function(){t()},e)}co.Fa="serverreachability",ji(po,gs),co.STAT_EVENT="statevent",ji(go,gs),co.Ga="timingevent",ji(bo,gs);var _o={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},wo={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Eo(){}function So(){}Eo.prototype.a=null;var xo,Oo={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Co(){gs.call(this,"d")}function To(){gs.call(this,"c")}function Io(){}function ko(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new io(this),this.P=Ao,this.R=new Js(t=rs?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}ji(Co,gs),ji(To,gs),ji(Io,Eo),xo=new Io;var Ao=45e3,Po={},Ro={};function Do(t,e,n){t.H=1,t.i=ea(Qo(e)),t.j=n,t.I=!0,jo(t,null)}function jo(t,e){t.u=Di(),Mo(t),t.l=Qo(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),pa(n.b,"t",r),t.D=0,t.a=uu(t.g,t.g.C?e:null),0<t.O&&(t.F=new ro(Pi(t.Ca,t,t.a),t.O)),oo(t.J,t.a,"readystatechange",t.Xa),e=t.B?Ki(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),mo(1),function(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.S,t.j)}function No(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Lo(t,n);if(i==Ro){4==e&&(t.h=4,yo(14),r=!1),lo(t.c,t.f,null,"[Incomplete Response]");break}if(i==Po){t.h=4,yo(15),lo(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}lo(t.c,t.f,i,null),Ho(t,i)}4==e&&0==n.length&&(t.h=1,yo(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),tu(e),e.F=!0,yo(11))):(lo(t.c,t.f,n,"[Invalid Chunked Response]"),Bo(t),Vo(t))}function Lo(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Ro:(n=Number(e.substring(n,r)),isNaN(n)?Po:(r+=1)+n>e.length?Ro:(e=e.substr(r,n),t.D=r+n,e))}function Mo(t){t.T=Di()+t.P,Uo(t,t.P)}function Uo(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=vo(Pi(t.Va,t),e)}function Fo(t){t.o&&(Si.clearTimeout(t.o),t.o=null)}function Vo(t){0==t.g.v||t.A||ru(t.g,t)}function Bo(t){Fo(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,to(t.R),ao(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Ho(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||wa(n.b,t)))if(n.I=t.N,!t.C&&wa(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Wy){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;nu(n),Ga(n)}Ja(n),yo(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=vo(Pi(n.Sa,n),6e3));if(1>=_a(n.b)&&n.ea){try{n.ea()}catch(Wy){}n.ea=void 0}}else su(n,11)}else if((t.C||n.a==t)&&nu(n),!Vi(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var l=t.a;if(l){var c=l.a?l.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=u.b;!h.a&&(zi(c,"spdy")||zi(c,"quic")||zi(c,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Ea(h,h.b),h.b=null))}if(u.A){var d=l.a?l.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(u.na=d,ta(u.B,u.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Di()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((u=n).la=au(u,u.C?u.ga:null,u.fa),f.C){Sa(u.b,f);var p=f,m=u.D;m&&p.setTimeout(m),p.o&&(Fo(p),Mo(p)),u.a=f}else Xa(u);0<n.g.length&&Ka(n)}else"stop"!=i[0]&&"close"!=i[0]||su(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?su(n,7):qa(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);mo(4)}catch(Wy){}}function zo(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Oi(t)||"string"==typeof t)Mi(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Oi(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Oi(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function qo(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof qo)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Go(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];$o(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)$o(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function $o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(_i=ko.prototype).setTimeout=function(t){this.P=t},_i.Xa=function(t){t=t.target;var e=this.F;e&&3==Va(t)?e.f():this.Ca(t)},_i.Ca=function(t){try{if(t==this.a)t:{var e=Va(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!rs&&!this.a.$())){this.A||4!=e||7==n||mo(8==n||0>=r?3:2),Fo(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vi(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.h=3,yo(12),Bo(this),Vo(this);break t}lo(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ho(this,u)}this.I?(No(this,e,s),rs&&this.b&&3==e&&(oo(this.J,this.R,"tick",this.Wa),this.R.start())):(lo(this.c,this.f,s,null),Ho(this,s)),4==e&&Bo(this),this.b&&!this.A&&(4==e?ru(this.g,this):(this.b=!1,Mo(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,yo(12)):(this.h=0,yo(13)),Bo(this),Vo(this)}}}catch(l){}},_i.Wa=function(){if(this.a){var t=Va(this.a),e=this.a.$();this.D<e.length&&(Fo(this),No(this,t,e),this.b&&4!=t&&Mo(this))}},_i.cancel=function(){this.A=!0,Bo(this)},_i.Va=function(){this.o=null;var t=Di();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(mo(3),yo(17)),Bo(this),this.h=2,Vo(this)):Uo(this,this.T-t)},(_i=qo.prototype).K=function(){Go(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},_i.L=function(){return Go(this),this.a.concat()},_i.get=function(t,e){return $o(this.b,t)?this.b[t]:e},_i.set=function(t,e){$o(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},_i.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var Wo=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ko(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ko){this.a=void 0!==e?e:t.a,Yo(this,t.f),this.j=t.j,Zo(this,t.c),Xo(this,t.h),this.g=t.g,e=t.b;var n=new ca;n.c=e.c,e.a&&(n.a=new qo(e.a),n.b=e.b),Jo(this,n),this.i=t.i}else t&&(n=String(t).match(Wo))?(this.a=!!e,Yo(this,n[1]||"",!0),this.j=na(n[2]||""),Zo(this,n[3]||"",!0),Xo(this,n[4]),this.g=na(n[5]||"",!0),Jo(this,n[6]||"",!0),this.i=na(n[7]||"")):(this.a=!!e,this.b=new ca(null,this.a))}function Qo(t){return new Ko(t)}function Yo(t,e,n){t.f=n?na(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Zo(t,e,n){t.c=n?na(e,!0):e}function Xo(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Jo(t,e,n){e instanceof ca?(t.b=e,function(t,e){e&&!t.f&&(ha(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(da(this,e),pa(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=ra(e,ua)),t.b=new ca(e,t.a))}function ta(t,e,n){t.b.set(e,n)}function ea(t){return ta(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Di()).toString(36)),t}function na(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ra(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ia),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ia(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ko.prototype.toString=function(){var t=[],e=this.f;e&&t.push(ra(e,sa,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(ra(e,sa,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(ra(n,"/"==n.charAt(0)?aa:oa,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",ra(n,la)),t.join("")};var sa=/[#\/\?@]/g,oa=/[#\?:]/g,aa=/[#\?]/g,ua=/[#\?@]/g,la=/#/g;function ca(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function ha(t){t.a||(t.a=new qo,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function da(t,e){ha(t),e=ma(t,e),$o(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,$o((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Go(t)))}function fa(t,e){return ha(t),e=ma(t,e),$o(t.a.b,e)}function pa(t,e,n){da(t,e),0<n.length&&(t.c=null,t.a.set(ma(t,e),Fi(n)),t.b+=n.length)}function ma(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(_i=ca.prototype).add=function(t,e){ha(this),this.c=null,t=ma(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},_i.forEach=function(t,e){ha(this),this.a.forEach(function(n,r){Mi(n,function(n){t.call(e,n,r,this)},this)},this)},_i.L=function(){ha(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},_i.K=function(t){ha(this);var e=[];if("string"==typeof t)fa(this,t)&&(e=Ui(e,this.a.get(ma(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Ui(e,t[n])}return e},_i.set=function(t,e){return ha(this),this.c=null,fa(this,t=ma(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},_i.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},_i.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var ga=function(){return function(t,e){this.b=t,this.a=e}}();function ya(t){this.g=t||ba,t=Si.PerformanceNavigationTiming?0<(t=Si.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Si.ia&&Si.ia.ya&&Si.ia.ya()&&Si.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var ba=10;function va(t){return!!t.b||!!t.a&&t.a.size>=t.f}function _a(t){return t.b?1:t.a?t.a.size:0}function wa(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Ea(t,e){t.a?t.a.add(e):t.b=e}function Sa(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function xa(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=vi(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Fi(t.c)}function Oa(){}function Ca(){this.a=new Oa}function Ta(t,e,n){var r=n||"";try{zo(t,function(t,n){var i=t;Ci(t)&&(i=Hs(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(jb){throw e.push(r+"type="+encodeURIComponent("_badmap")),jb}}function Ia(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}ya.prototype.cancel=function(){var t,e;if(this.c=xa(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=vi(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Oa.prototype.stringify=function(t){return Si.JSON.stringify(t,void 0)},Oa.prototype.parse=function(t){return Si.JSON.parse(t,void 0)};var ka=Si.JSON.parse;function Aa(t){Fs.call(this),this.headers=new qo,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Pa,this.D=this.F=!1}ji(Aa,Fs);var Pa="",Ra=/^https?$/i,Da=["POST","PUT"];function ja(t){return"content-type"==t.toLowerCase()}function Na(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,La(t),Ua(t)}function La(t){t.u||(t.u=!0,Vs(t,"complete"),Vs(t,"error"))}function Ma(t){if(t.b&&void 0!==Ei&&(!t.s[1]||4!=Va(t)||2!=t.W()))if(t.l&&4==Va(t))eo(t.za,0,t);else if(Vs(t,"readystatechange"),4==Va(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(Wo)[1]||null;if(!s&&Si.self&&Si.self.location){var o=Si.self.location.protocol;s=o.substr(0,o.length-1)}i=!Ra.test(s?s.toLowerCase():"")}e=i}if(e)Vs(t,"complete"),Vs(t,"success");else{t.h=6;try{var a=2<Va(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",La(t)}}finally{Ua(t)}}}function Ua(t,e){if(t.a){Fa(t);var n=t.a,r=t.s[0]?xi:null;t.a=null,t.s=null,e||Vs(t,"ready");try{n.onreadystatechange=r}catch(jb){}}}function Fa(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Si.clearTimeout(t.m),t.m=null)}function Va(t){return t.a?t.a.readyState:0}function Ba(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Wi(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ta(t,e,n))}function Ha(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function za(t){this.pa=0,this.g=[],this.c=new uo,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Ha("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Ha("baseRetryDelayMs",5e3,t),this.Ra=Ha("retryDelaySeedMs",1e4,t),this.Ma=Ha("forwardChannelMaxRetries",2,t),this.ma=Ha("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new ya(t&&t.concurrentRequestLimit),this.ka=new Ca,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function qa(t){if($a(t),3==t.v){var e=t.R++,n=Qo(t.B);ta(n,"SID",t.J),ta(n,"RID",e),ta(n,"TYPE","terminate"),Ya(t,n),(e=new ko(t,t.c,e,void 0)).H=2,e.i=ea(Qo(n)),n=!1,Si.navigator&&Si.navigator.sendBeacon&&(n=Si.navigator.sendBeacon(e.i.toString(),"")),!n&&Si.Image&&((new Image).src=e.i,n=!0),n||(e.a=uu(e.g,null),e.a.ba(e.i)),e.u=Di(),Mo(e)}ou(t)}function Ga(t){t.a&&(tu(t),t.a.cancel(),t.a=null)}function $a(t){Ga(t),t.j&&(Si.clearTimeout(t.j),t.j=null),nu(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Si.clearTimeout(t.h),t.h=null)}function Wa(t,e){t.g.push(new ga(t.Oa++,e)),3==t.v&&Ka(t)}function Ka(t){va(t.b)||t.h||(t.h=!0,Qs(t.Ba,t),t.u=0)}function Qa(t,e){var n;n=e?e.f:t.R++;var r=Qo(t.B);ta(r,"SID",t.J),ta(r,"RID",n),ta(r,"AID",t.P),Ya(t,r),t.i&&t.l&&Ba(r,t.i,t.l),n=new ko(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Za(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Ea(t.b,n),Do(n,r,e)}function Ya(t,e){t.f&&zo({},function(t,n){ta(e,n,t)})}function Za(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Pi(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var l=i[u].b,c=i[u].a;if(0>(l-=s))s=Math.max(0,i[u].b-100),a=!1;else try{Ta(c,o,"req"+l+"_")}catch(qu){r&&r(c)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Xa(t){t.a||t.j||(t.T=1,Qs(t.Aa,t),t.o=0)}function Ja(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=vo(Pi(t.Aa,t),iu(t,t.o)),t.o++,0))}function tu(t){null!=t.s&&(Si.clearTimeout(t.s),t.s=null)}function eu(t){t.a=new ko(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Qo(t.la);ta(e,"RID","rpc"),ta(e,"SID",t.J),ta(e,"CI",t.H?"0":"1"),ta(e,"AID",t.P),Ya(t,e),ta(e,"TYPE","xmlhttp"),t.i&&t.l&&Ba(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=ea(Qo(e)),n.j=null,n.I=!0,jo(n,t)}function nu(t){null!=t.m&&(Si.clearTimeout(t.m),t.m=null)}function ru(t,e){var n=null;if(t.a==e){nu(t),tu(t),t.a=null;var r=2}else{if(!wa(t.b,e))return;n=e.s,Sa(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Di()-e.u;var i=t.u;Vs(r=fo(),new bo(r,n,e,i)),Ka(t)}else Xa(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(_a(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=vo(Pi(t.Ba,t,e),iu(t,t.u)),t.u++,0)))}(t,e)||2==r&&Ja(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:su(t,5);break;case 4:su(t,10);break;case 3:su(t,6);break;default:su(t,2)}}function iu(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function su(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Pi(t.Ya,t);n||(n=new Ko("//www.google.com/images/cleardot.gif"),Si.location&&"http"==Si.location.protocol||Yo(n,"https"),ea(n)),function(t,e){var n=new uo;if(Si.Image){var r=new Image;r.onload=Ri(Ia,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ri(Ia,n,r,"TestLoadImage: error",!1,e),r.onabort=Ri(Ia,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ri(Ia,n,r,"TestLoadImage: timeout",!1,e),Si.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else yo(2);t.v=0,t.f&&t.f.ra(e),ou(t),$a(t)}function ou(t){t.v=0,t.I=-1,t.f&&(0==xa(t.b).length&&0==t.g.length||(t.b.c.length=0,Fi(t.g),t.g.length=0),t.f.qa())}function au(t,e,n){var r=function(t){return t instanceof Ko?Qo(t):new Ko(t,void 0)}(n);if(""!=r.c)e&&Zo(r,e+"."+r.c),Xo(r,r.h);else{var i=Si.location;r=function(t,e,n,r){var i=new Ko(null,void 0);return t&&Yo(i,t),e&&Zo(i,e),n&&Xo(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Wi(t.V,function(t,e){ta(r,e,t)}),n=t.na,(e=t.A)&&n&&ta(r,e,n),ta(r,"VER",t.ha),Ya(t,r),r}function uu(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Aa(t.Na)).F=t.C,e}function lu(){}function cu(){if(es&&!(10<=Number(ds)))throw Error("Environmental error: no available transport.")}function hu(t,e){Fs.call(this),this.a=new za(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Vi(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Vi(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new pu(this)}function du(t){Co.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function fu(){To.call(this),this.status=1}function pu(t){this.a=t}(_i=Aa.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:xo),this.a.onreadystatechange=Pi(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void Na(this,s)}t=n||"";var i=new qo(this.headers);r&&zo(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=ja,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Si.FormData&&t instanceof Si.FormData,!(0<=Li(Da,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Fa(this),0<this.o&&((this.D=function(t){return es&&hs(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Pi(this.xa,this)):this.m=eo(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){Na(this,s)}},_i.xa=function(){void 0!==Ei&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Vs(this,"timeout"),this.abort(8))},_i.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Vs(this,"complete"),Vs(this,"abort"),Ua(this))},_i.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Ua(this,!0)),Aa.X.G.call(this)},_i.za=function(){this.j||(this.A||this.l||this.g?Ma(this):this.Ua())},_i.Ua=function(){Ma(this)},_i.W=function(){try{return 2<Va(this)?this.a.status:-1}catch(Ji){return-1}},_i.$=function(){try{return this.a?this.a.responseText:""}catch(Ji){return""}},_i.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ka(e)}},_i.ua=function(){return this.h},_i.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(_i=za.prototype).ha=8,_i.v=1,_i.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new ko(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Yi(r=Ki(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Za(this,n,e),ta(i=Qo(this.B),"RID",t),ta(i,"CVER",22),this.A&&ta(i,"X-HTTP-Session-Id",this.A),Ya(this,i),this.i&&r&&Ba(i,this.i,r),Ea(this.b,n),this.Ia&&ta(i,"TYPE","init"),this.da?(ta(i,"$req",e),ta(i,"SID","null"),n.U=!0,Do(n,i,null)):Do(n,i,e),this.v=2}}else 3==this.v&&(t?Qa(this,t):0==this.g.length||va(this.b)||Qa(this))},_i.Aa=function(){if(this.j=null,eu(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=vo(Pi(this.Ta,this),t)}},_i.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,yo(10),Ga(this),eu(this))},_i.Sa=function(){null!=this.m&&(this.m=null,Ga(this),Ja(this),yo(19))},_i.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),yo(2)):(this.c.info("Failed to ping google.com"),yo(1))},(_i=lu.prototype).ta=function(){},_i.sa=function(){},_i.ra=function(){},_i.qa=function(){},_i.Ja=function(){},cu.prototype.a=function(t,e){return new hu(t,e)},ji(hu,Fs),hu.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;yo(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=au(t,null,t.fa),Ka(t)},hu.prototype.close=function(){qa(this.a)},hu.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Wa(this.a,e)}else this.l?((e={}).__data__=Hs(t),Wa(this.a,e)):Wa(this.a,t)},hu.prototype.G=function(){this.a.f=null,delete this.f,qa(this.a),delete this.a,hu.X.G.call(this)},ji(du,Co),ji(fu,To),ji(pu,lu),pu.prototype.ta=function(){Vs(this.a,"a")},pu.prototype.sa=function(t){Vs(this.a,new du(t))},pu.prototype.ra=function(t){Vs(this.a,new fu(t))},pu.prototype.qa=function(){Vs(this.a,"b")},cu.prototype.createWebChannel=cu.prototype.a,hu.prototype.send=hu.prototype.h,hu.prototype.open=hu.prototype.g,hu.prototype.close=hu.prototype.close,_o.NO_ERROR=0,_o.TIMEOUT=8,_o.HTTP_ERROR=6,wo.COMPLETE="complete",So.EventType=Oo,Oo.OPEN="a",Oo.CLOSE="b",Oo.ERROR="c",Oo.MESSAGE="d",Fs.prototype.listen=Fs.prototype.va,Aa.prototype.listenOnce=Aa.prototype.wa,Aa.prototype.getLastError=Aa.prototype.Qa,Aa.prototype.getLastErrorCode=Aa.prototype.ua,Aa.prototype.getStatus=Aa.prototype.W,Aa.prototype.getResponseJson=Aa.prototype.Pa,Aa.prototype.getResponseText=Aa.prototype.$,Aa.prototype.send=Aa.prototype.ba;var mu=_o,gu=wo,yu=co,bu=So,vu=Aa,_u=n("uXP2"),wu=new gi.b("@firebase/firestore");function Eu(){return wu.logLevel}function Su(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(wu.logLevel<=gi.a.DEBUG){var r=e.map(Cu);wu.debug.apply(wu,Object(_u.g)(["Firestore (8.2.1): "+t],r))}}function xu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(wu.logLevel<=gi.a.ERROR){var r=e.map(Cu);wu.error.apply(wu,Object(_u.g)(["Firestore (8.2.1): "+t],r))}}function Ou(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(wu.logLevel<=gi.a.WARN){var r=e.map(Cu);wu.warn.apply(wu,Object(_u.g)(["Firestore (8.2.1): "+t],r))}}function Cu(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(jb){return t}}function Tu(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.1) INTERNAL ASSERTION FAILED: "+t;throw xu(e),new Error(e)}function Iu(t,e){t||Tu()}function ku(t,e){return t}function Au(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Pu=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Au(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Ru(t,e){return t<e?-1:t>e?1:0}function Du(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function ju(t){return t+"\0"}var Nu=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return Ru(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();Nu.h=new Nu("");var Lu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Mu=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(_u.c)(e,t),e}(Error),Uu=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(Nu.fromBase64String(e))}catch(e){throw new Mu(Lu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Nu.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),Fu=function(t){this._=t};function Vu(){if("undefined"==typeof Uint8Array)throw new Mu(Lu.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Bu(){if("undefined"==typeof atob)throw new Mu(Lu.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Hu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(_u.c)(e,t),e.fromBase64String=function(t){return Bu(),new e(Uu.fromBase64String(t))},e.fromUint8Array=function(t){return Vu(),new e(Uu.fromUint8Array(t))},e.prototype.toBase64=function(){return Bu(),this._.toBase64()},e.prototype.toUint8Array=function(){return Vu(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Fu),zu=function(t,e,n,r,i,s){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=s},qu=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Gu=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Gu.UNAUTHENTICATED=new Gu(null),Gu.P=new Gu("google-credentials-uid"),Gu.g=new Gu("first-party-uid");var $u=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},Wu=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(Gu.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),Ku=function(){function t(t){var e=this;this.C=null,this.currentUser=Gu.UNAUTHENTICATED,this.N=!1,this.F=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.F++,e.currentUser=e.O(),e.N=!0,e.p&&e.p(e.currentUser)},this.F=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then(function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.F,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.F!==e?(Su("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Iu("string"==typeof n.accessToken),new $u(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.O=function(){var t=this.auth&&this.auth.getUid();return Iu(null===t||"string"==typeof t),new Gu(t)},t}(),Qu=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=Gu.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Yu=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new Qu(this.k,this.M))},t.prototype.S=function(t){t(Gu.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),Zu=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();Zu.U=-1;var Xu=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Mu(Lu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Mu(Lu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Mu(Lu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Mu(Lu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?Ru(this.nanoseconds,t.nanoseconds):Ru(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Ju=function(){function t(t){this.timestamp=t}return t.W=function(e){return new t(e)},t.min=function(){return new t(new Xu(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.j=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),tl=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Tu(),void 0===n?n=t.length-e:n>t.length-e&&Tu(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return this.Y(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),el=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(_u.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new Mu(Lu.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.at=function(){return new e([])},e}(tl),nl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,rl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(_u.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return nl.test(t)},e.prototype.ot=function(){return this.rt().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new Mu(Lu.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Mu(Lu.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Mu(Lu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Mu(Lu.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(tl),il=function(){function t(t){this.path=t}return t.ft=function(e){return new t(el.ct(e))},t.dt=function(e){return new t(el.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===el.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return el.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new el(e.slice()))},t}();function sl(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ol(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function al(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ul=function(){function t(t){this.fields=t,t.sort(rl.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return Du(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),ll=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cl(t){if(Iu(!!t),"string"==typeof t){var e=0,n=ll.exec(t);if(Iu(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:hl(t.seconds),nanos:hl(t.nanos)}}function hl(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function dl(t){return"string"==typeof t?Nu.fromBase64String(t):Nu.fromUint8Array(t)}function fl(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function pl(t){var e=t.mapValue.fields.__previous_value__;return fl(e)?pl(e):e}function ml(t){var e=cl(t.mapValue.fields.__local_write_time__.timestampValue);return new Xu(e.seconds,e.nanos)}function gl(t){return null==t}function yl(t){return 0===t&&1/t==-1/0}function bl(t){return"number"==typeof t&&Number.isInteger(t)&&!yl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function vl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fl(t)?4:10:Tu()}function _l(t,e){var n=vl(t);if(n!==vl(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ml(t).isEqual(ml(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=cl(t.timestampValue),r=cl(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return dl(t.bytesValue).isEqual(dl(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return hl(t.geoPointValue.latitude)===hl(e.geoPointValue.latitude)&&hl(t.geoPointValue.longitude)===hl(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return hl(t.integerValue)===hl(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=hl(t.doubleValue),r=hl(e.doubleValue);return n===r?yl(n)===yl(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Du(t.arrayValue.values||[],e.arrayValue.values||[],_l);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(sl(n)!==sl(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!_l(n[i],r[i])))return!1;return!0}(t,e);default:return Tu()}}function wl(t,e){return void 0!==(t.values||[]).find(function(t){return _l(t,e)})}function El(t,e){var n=vl(t),r=vl(e);if(n!==r)return Ru(n,r);switch(n){case 0:return 0;case 1:return Ru(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=hl(t.integerValue||t.doubleValue),r=hl(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Sl(t.timestampValue,e.timestampValue);case 4:return Sl(ml(t),ml(e));case 5:return Ru(t.stringValue,e.stringValue);case 6:return function(t,e){var n=dl(t),r=dl(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=Ru(n[i],r[i]);if(0!==s)return s}return Ru(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Ru(hl(t.latitude),hl(e.latitude));return 0!==n?n:Ru(hl(t.longitude),hl(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=El(n[i],r[i]);if(s)return s}return Ru(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=Ru(r[o],s[o]);if(0!==a)return a;var u=El(n[r[o]],i[s[o]]);if(0!==u)return u}return Ru(r.length,s.length)}(t.mapValue,e.mapValue);default:throw Tu()}}function Sl(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ru(t,e);var n=cl(t),r=cl(e),i=Ru(n.seconds,r.seconds);return 0!==i?i:Ru(n.nanos,r.nanos)}function xl(t){return Ol(t)}function Ol(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=cl(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?dl(t.bytesValue).toBase64():"referenceValue"in t?il.dt(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Ol(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+Ol(t.fields[s])}return e+"}"}(t.mapValue):Tu();var e}function Cl(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function Tl(t){return!!t&&"integerValue"in t}function Il(t){return!!t&&"arrayValue"in t}function kl(t){return!!t&&"nullValue"in t}function Al(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pl(t){return!!t&&"mapValue"in t}var Rl=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Pl(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return _l(this.proto,t.proto)},t}(),Dl=function(){function t(t){void 0===t&&(t=Rl.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===vl(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(rl.at(),this.Rt);return null!=t?new Rl(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),s=Pl(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var o=n.gt(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)}),r?{mapValue:{fields:s}}:null},t}();function jl(t){var e=[];return ol(t.fields||{},function(t,n){var r=new rl([t]);if(Pl(n)){var i=jl(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new ul(e)}var Nl=function(t,e){this.key=t,this.version=e},Ll=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).Vt=r,s.bt=!!i.bt,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return Object(_u.c)(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Nl),Ml=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(_u.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Nl),Ul=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(_u.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Nl),Fl=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.St=null};function Vl(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new Fl(t,e,n,r,i,s,o)}function Bl(t){var e=ku(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.ot()+t.op.toString()+xl(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.ot()+t.dir}(t)}).join(","),gl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=tc(e.startAt)),e.endAt&&(n+="|ub:",n+=tc(e.endAt)),e.St=n}return e.St}function Hl(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!nc(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!_l(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ic(t.startAt,e.startAt)&&ic(t.endAt,e.endAt)}function zl(t){return il.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var ql=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(_u.c)(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new Gl(t,n,r):"array-contains"===n?new Ql(t,r):"in"===n?new Yl(t,r):"not-in"===n?new Zl(t,r):"array-contains-any"===n?new Xl(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new $l(t,n):new Wl(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(El(e,this.value)):null!==e&&vl(this.value)===vl(e)&&this.Ct(El(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Tu()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Gl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=il.dt(r.referenceValue),i}return Object(_u.c)(e,t),e.prototype.matches=function(t){var e=il.J(t.key,this.key);return this.Ct(e)},e}(ql),$l=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Kl(0,n),r}return Object(_u.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(ql),Wl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Kl(0,n),r}return Object(_u.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(ql);function Kl(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return il.dt(t.referenceValue)})}var Ql=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(_u.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Il(e)&&wl(e.arrayValue,this.value)},e}(ql),Yl=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(_u.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&wl(this.value.arrayValue,e)},e}(ql),Zl=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(_u.c)(e,t),e.prototype.matches=function(t){if(wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!wl(this.value.arrayValue,e)},e}(ql),Xl=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(_u.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Il(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return wl(e.value.arrayValue,t)})},e}(ql),Jl=function(t,e){this.position=t,this.before=e};function tc(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return xl(t)}).join(",")}var ec=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function nc(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function rc(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.ht()?il.J(il.dt(o.referenceValue),n.key):El(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function ic(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!_l(t.position[n],e.position[n]))return!1;return!0}var sc=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.Ft=null,this.Ot=null};function oc(t,e,n,r,i,s,o,a){return new sc(t,e,n,r,i,s,o,a)}function ac(t){return new sc(t)}function uc(t){return!gl(t.limit)&&"F"===t.limitType}function lc(t){return!gl(t.limit)&&"L"===t.limitType}function cc(t){return t.Nt.length>0?t.Nt[0].field:null}function hc(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function dc(t){return null!==t.collectionGroup}function fc(t){var e=ku(t);if(null===e.Ft){e.Ft=[];var n=hc(e),r=cc(e);if(null!==n&&null===r)n.ht()||e.Ft.push(new ec(n)),e.Ft.push(new ec(rl.lt(),"asc"));else{for(var i=!1,s=0,o=e.Nt;s<o.length;s++){var a=o[s];e.Ft.push(a),a.field.ht()&&(i=!0)}if(!i){var u=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ft.push(new ec(rl.lt(),u))}}}return e.Ft}function pc(t){var e=ku(t);if(!e.Ot)if("F"===e.limitType)e.Ot=Vl(e.path,e.collectionGroup,fc(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=fc(e);r<i.length;r++){var s=i[r];n.push(new ec(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new Jl(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Jl(e.startAt.position,!e.startAt.before):null;e.Ot=Vl(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.Ot}function mc(t,e,n){return new sc(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gc(t,e){return Hl(pc(t),pc(e))&&t.limitType===e.limitType}function yc(t){return Bl(pc(t))+"|lt:"+t.limitType}function bc(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.ot()+" "+e.op+" "+xl(e.value);var e}).join(", ")+"]"),gl(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+tc(t.startAt)),t.endAt&&(e+=", endAt: "+tc(t.endAt)),"Target("+e+")"}(pc(t))+"; limitType="+t.limitType+")"}function vc(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):il.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!rc(t.startAt,fc(t),e)||t.endAt&&rc(t.endAt,fc(t),e))}(t,e)}function _c(t){return function(e,n){for(var r=!1,i=0,s=fc(t);i<s.length;i++){var o=s[i],a=wc(o,e,n);if(0!==a)return a;r=r||o.field.ht()}return 0}}function wc(t,e,n){var r=t.field.ht()?il.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?El(r,i):Tu()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Tu()}}var Ec=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=Ju.min()),void 0===s&&(s=Ju.min()),void 0===o&&(o=Nu.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function Sc(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yl(e)?"-0":e}}function xc(t){return{integerValue:""+t}}function Oc(t,e){return bl(e)?xc(e):Sc(t,e)}var Cc=function(){this.Ut=void 0};function Tc(t,e,n){return t instanceof Ac?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Pc?Rc(t,e):t instanceof Dc?jc(t,e):function(t,e){var n=kc(t,e),r=Lc(n)+Lc(t.Qt);return Tl(n)&&Tl(t.Qt)?xc(r):Sc(t.Kt,r)}(t,e)}function Ic(t,e,n){return t instanceof Pc?Rc(t,e):t instanceof Dc?jc(t,e):n}function kc(t,e){return t instanceof Nc?Tl(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Ac=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(_u.c)(e,t),e}(Cc),Pc=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(_u.c)(e,t),e}(Cc);function Rc(t,e){for(var n=Mc(e),r=function(t){n.some(function(e){return _l(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Dc=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(_u.c)(e,t),e}(Cc);function jc(t,e){for(var n=Mc(e),r=function(t){n=n.filter(function(e){return!_l(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Nc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return Object(_u.c)(e,t),e}(Cc);function Lc(t){return hl(t.integerValue||t.doubleValue)}function Mc(t){return Il(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Uc=function(t,e){this.field=t,this.transform=e},Fc=function(t,e){this.version=t,this.transformResults=e},Vc=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Wt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"jt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Bc(t,e){return void 0!==t.updateTime?e instanceof Ll&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Ll}var Hc=function(){};function zc(t,e,n){return t instanceof Kc?function(t,e,n){var r=t.value;if(n.transformResults){var i=Zc(t.fieldTransforms,e,n.transformResults);r=Jc(t.fieldTransforms,r,i)}return new Ll(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Qc?function(t,e,n){if(!Bc(t.Gt,e))return new Ul(t.key,n.version);var r=Yc(t,e,n.transformResults?Zc(t.fieldTransforms,e,n.transformResults):[]);return new Ll(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Ml(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function qc(t,e,n,r){return t instanceof Kc?function(t,e,n,r){if(!Bc(t.Gt,e))return e;var i=t.value;if(t.fieldTransforms){var s=Xc(t.fieldTransforms,n,e,r);i=Jc(t.fieldTransforms,i,s)}var o=Wc(e);return new Ll(t.key,o,i,{bt:!0})}(t,e,r,n):t instanceof Qc?function(t,e,n,r){if(!Bc(t.Gt,e))return e;var i=Wc(e),s=Yc(t,e,Xc(t.fieldTransforms,n,e,r));return new Ll(t.key,i,s,{bt:!0})}(t,e,r,n):function(t,e){return Bc(t.Gt,e)?new Ml(t.key,Ju.min()):e}(t,e)}function Gc(t,e){return void 0!==t.fieldTransforms?function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var s=i[r],o=e instanceof Ll?e.field(s.field):void 0,a=kc(s.transform,o||null);null!=a&&(n=null==n?(new Dl).set(s.field,a):n.set(s.field,a))}return n?n.yt():null}(t.fieldTransforms,e):null}function $c(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Du(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Pc&&e instanceof Pc||t instanceof Dc&&e instanceof Dc?Du(t.elements,e.elements,_l):t instanceof Nc&&e instanceof Nc?_l(t.Qt,e.Qt):t instanceof Ac&&e instanceof Ac}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function Wc(t){return t instanceof Ll?t.version:Ju.min()}var Kc=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.Gt=r,s.fieldTransforms=i,s.type=0,s}return Object(_u.c)(e,t),e}(Hc),Qc=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.zt=r,o.Gt=i,o.fieldTransforms=s,o.type=1,o}return Object(_u.c)(e,t),e}(Hc);function Yc(t,e,n){var r;return r=function(t,e){var n=new Dl(e);return t.zt.fields.forEach(function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.yt()}(t,r=e instanceof Ll?e.data():Rl.empty()),Jc(t.fieldTransforms,r,n)}function Zc(t,e,n){var r=[];Iu(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=null;e instanceof Ll&&(a=e.field(s.field)),r.push(Ic(o,a,n[i]))}return r}function Xc(t,e,n,r){for(var i=[],s=0,o=t;s<o.length;s++){var a=o[s],u=a.transform,l=null;n instanceof Ll&&(l=n.field(a.field)),null===l&&r instanceof Ll&&(l=r.field(a.field)),i.push(Tc(u,l,e))}return i}function Jc(t,e,n){for(var r=new Dl(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.yt()}var th,eh,nh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return Object(_u.c)(e,t),e}(Hc),rh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return Object(_u.c)(e,t),e}(Hc),ih=function(t){this.count=t};function sh(t){switch(t){case Lu.OK:return Tu();case Lu.CANCELLED:case Lu.UNKNOWN:case Lu.DEADLINE_EXCEEDED:case Lu.RESOURCE_EXHAUSTED:case Lu.INTERNAL:case Lu.UNAVAILABLE:case Lu.UNAUTHENTICATED:return!1;case Lu.INVALID_ARGUMENT:case Lu.NOT_FOUND:case Lu.ALREADY_EXISTS:case Lu.PERMISSION_DENIED:case Lu.FAILED_PRECONDITION:case Lu.ABORTED:case Lu.OUT_OF_RANGE:case Lu.UNIMPLEMENTED:case Lu.DATA_LOSS:return!0;default:return Tu()}}function oh(t){if(void 0===t)return xu("GRPC error has no .code"),Lu.UNKNOWN;switch(t){case th.OK:return Lu.OK;case th.CANCELLED:return Lu.CANCELLED;case th.UNKNOWN:return Lu.UNKNOWN;case th.DEADLINE_EXCEEDED:return Lu.DEADLINE_EXCEEDED;case th.RESOURCE_EXHAUSTED:return Lu.RESOURCE_EXHAUSTED;case th.INTERNAL:return Lu.INTERNAL;case th.UNAVAILABLE:return Lu.UNAVAILABLE;case th.UNAUTHENTICATED:return Lu.UNAUTHENTICATED;case th.INVALID_ARGUMENT:return Lu.INVALID_ARGUMENT;case th.NOT_FOUND:return Lu.NOT_FOUND;case th.ALREADY_EXISTS:return Lu.ALREADY_EXISTS;case th.PERMISSION_DENIED:return Lu.PERMISSION_DENIED;case th.FAILED_PRECONDITION:return Lu.FAILED_PRECONDITION;case th.ABORTED:return Lu.ABORTED;case th.OUT_OF_RANGE:return Lu.OUT_OF_RANGE;case th.UNIMPLEMENTED:return Lu.UNIMPLEMENTED;case th.DATA_LOSS:return Lu.DATA_LOSS;default:return Tu()}}(eh=th||(th={}))[eh.OK=0]="OK",eh[eh.CANCELLED=1]="CANCELLED",eh[eh.UNKNOWN=2]="UNKNOWN",eh[eh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",eh[eh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",eh[eh.NOT_FOUND=5]="NOT_FOUND",eh[eh.ALREADY_EXISTS=6]="ALREADY_EXISTS",eh[eh.PERMISSION_DENIED=7]="PERMISSION_DENIED",eh[eh.UNAUTHENTICATED=16]="UNAUTHENTICATED",eh[eh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",eh[eh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",eh[eh.ABORTED=10]="ABORTED",eh[eh.OUT_OF_RANGE=11]="OUT_OF_RANGE",eh[eh.UNIMPLEMENTED=12]="UNIMPLEMENTED",eh[eh.INTERNAL=13]="INTERNAL",eh[eh.UNAVAILABLE=14]="UNAVAILABLE",eh[eh.DATA_LOSS=15]="DATA_LOSS";var ah=function(){function t(t,e){this.J=t,this.root=e||lh.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,lh.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,lh.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Zt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new uh(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new uh(this.root,t,this.J,!1)},t.prototype.se=function(){return new uh(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new uh(this.root,t,this.J,!0)},t}(),uh=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),lh=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw Tu();if(this.right._e())throw Tu();var t=this.left.me();if(t!==this.right.me())throw Tu();return t+(this._e()?0:1)},t}();lh.EMPTY=null,lh.RED=!0,lh.Jt=!1,lh.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Tu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Tu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Tu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Tu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Tu()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new lh(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var ch=function(){function t(t){this.J=t,this.data=new ah(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt(function(e,n){return t(e),!1})},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new hh(this.data.ee())},t.prototype.ne=function(t){return new hh(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,s=r.ce().key;if(0!==this.J(i,s))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),hh=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),dh=new ah(il.J);function fh(){return dh}function ph(){return fh()}var mh=new ah(il.J);function gh(){return mh}var yh=new ah(il.J);function bh(){return yh}var vh=new ch(il.J);function _h(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=vh,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var wh=new ch(Ru);function Eh(){return wh}var Sh=function(){function t(t){this.J=t?function(e,n){return t(e,n)||il.J(e.key,n.key)}:function(t,e){return il.J(t.key,e.key)},this.Ve=gh(),this.pe=new ah(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,s=r.ce().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),xh=function(){function t(){this.ve=new ah(il.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):Tu():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt(function(e,n){t.push(n)}),t},t}(),Oh=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=s,this.xe=o,this.Ne=a}return t.Fe=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,Sh.be(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&gc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Ch=function(){function t(t,e,n,r,i){this.Mt=t,this.Oe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,Th.Be(e,n)),new t(Ju.min(),r,Eh(),fh(),_h())},t}(),Th=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(Nu.h,n,_h(),_h(),_h())},t}(),Ih=function(t,e,n,r){this.We=t,this.removedTargetIds=e,this.key=n,this.je=r},kh=function(t,e){this.targetId=t,this.Ge=e},Ah=function(t,e,n,r){void 0===n&&(n=Nu.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Ph=function(){function t(){this.ze=0,this.He=jh(),this.Je=Nu.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=_h(),e=_h(),n=_h();return this.He.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Tu()}}),new Th(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=jh()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),Rh=function(){function t(t){this.hn=t,this.ln=new Map,this._n=fh(),this.fn=Dh(),this.dn=new ch(Ru)}return t.prototype.wn=function(t){for(var e=0,n=t.We;e<n.length;e++){var r=n[e];t.je instanceof Ll?this.En(r,t.je):t.je instanceof Ml&&this.Tn(r,t.key,t.je)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.Tn(r=s[i],t.key,t.je)},t.prototype.In=function(t){var e=this;this.mn(t,function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:Tu()}})},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach(function(t,r){n.Rn(r)&&e(r)})},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if(zl(i))if(0===n){var s=new il(i.path);this.Tn(e,s,new Ml(s,Ju.min()))}else Iu(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach(function(r,i){var s=e.gn(i);if(s){if(r.qe&&zl(s.target)){var o=new il(s.target.path);null!==e._n.get(o)||e.bn(i,o)||e.Tn(i,o,new Ml(o,t))}r.tn&&(n.set(i,r.nn()),r.sn())}});var r=_h();this.fn.forEach(function(t,n){var i=!0;n.Re(function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Ch(t,n,this.dn,this._n,r);return this._n=fh(),this.fn=Dh(),this.dn=new ch(Ru),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new Ph,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new ch(Ru),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||Su("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new Ph),this.hn.Sn(t).forEach(function(n){e.Tn(t,n,null)})},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function Dh(){return new ah(il.J)}function jh(){return new ah(il.J)}var Nh={asc:"ASCENDING",desc:"DESCENDING"},Lh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mh=function(t,e){this.T=t,this.qt=e};function Uh(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Fh(t,e){return t.qt?e.toBase64():e.toUint8Array()}function Vh(t,e){return Uh(t,e.G())}function Bh(t){return Iu(!!t),Ju.W(function(t){var e=cl(t);return new Xu(e.seconds,e.nanos)}(t))}function Hh(t,e){return function(t){return new el(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function zh(t){var e=el.ct(t);return Iu(fd(e)),e}function qh(t,e){return Hh(t.T,e.path)}function Gh(t,e){var n=zh(e);if(n.get(1)!==t.T.projectId)throw new Mu(Lu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new Mu(Lu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new il(Qh(n))}function $h(t,e){return Hh(t.T,e)}function Wh(t){var e=zh(t);return 4===e.length?el.at():Qh(e)}function Kh(t){return new el(["projects",t.T.projectId,"databases",t.T.database]).ot()}function Qh(t){return Iu(t.length>4&&"documents"===t.get(4)),t.X(5)}function Yh(t,e,n){return{name:qh(t,e),fields:n.proto.mapValue.fields}}function Zh(t,e,n){var r=Gh(t,e.name),i=Bh(e.updateTime),s=new Rl({mapValue:{fields:e.fields}});return new Ll(r,i,s,{hasCommittedMutations:!!n})}function Xh(t,e){var n;if(e instanceof Kc)n={update:Yh(t,e.key,e.value)};else if(e instanceof nh)n={delete:qh(t,e.key)};else if(e instanceof Qc)n={update:Yh(t,e.key,e.data),updateMask:dd(e.zt)};else{if(!(e instanceof rh))return Tu();n={verify:qh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Ac)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof Pc)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof Dc)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof Nc)return{fieldPath:e.field.ot(),increment:n.Qt};throw Tu()}(0,t)})),e.Gt.jt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Vh(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Tu()}(t,e.Gt)),n}function Jh(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Vc.updateTime(Bh(t.updateTime)):void 0!==t.exists?Vc.exists(t.exists):Vc.Wt()}(e.currentDocument):Vc.Wt(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Iu("REQUEST_TIME"===e.setToServerValue),n=new Ac):"appendMissingElements"in e?n=new Pc(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Dc(e.removeAllFromArray.values||[]):"increment"in e?n=new Nc(t,e.increment):Tu();var r=rl._t(e.fieldPath);return new Uc(r,n)}(t,e)}):[];if(e.update){var i=Gh(t,e.update.name),s=new Rl({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new ul((t.fieldPaths||[]).map(function(t){return rl._t(t)}))}(e.updateMask);return new Qc(i,s,o,n,r)}return new Kc(i,s,n,r)}if(e.delete){var a=Gh(t,e.delete);return new nh(a,n)}if(e.verify){var u=Gh(t,e.verify);return new rh(u,n)}return Tu()}function td(t,e){return{documents:[$h(t,e.path)]}}function ed(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=$h(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=$h(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Al(t.value))return{unaryFilter:{field:ud(t.field),op:"IS_NAN"}};if(kl(t.value))return{unaryFilter:{field:ud(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Al(t.value))return{unaryFilter:{field:ud(t.field),op:"IS_NOT_NAN"}};if(kl(t.value))return{unaryFilter:{field:ud(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ud(t.field),op:ad(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:ud(t.field),direction:od(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.qt||gl(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=id(e.startAt)),e.endAt&&(n.structuredQuery.endAt=id(e.endAt)),n}function nd(t){var e=Wh(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Iu(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=rd(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new ec(ld(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return gl(e="object"==typeof t?t.value:t)?null:e}(n.limit));var l=null;n.startAt&&(l=sd(n.startAt));var c=null;return n.endAt&&(c=sd(n.endAt)),oc(e,i,a,o,u,"F",l,c)}function rd(t){return t?void 0!==t.unaryFilter?[hd(t)]:void 0!==t.fieldFilter?[cd(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return rd(t)}).reduce(function(t,e){return t.concat(e)}):Tu():[]}function id(t){return{before:t.before,values:t.position}}function sd(t){return new Jl(t.values||[],!!t.before)}function od(t){return Nh[t]}function ad(t){return Lh[t]}function ud(t){return{fieldPath:t.ot()}}function ld(t){return rl._t(t.fieldPath)}function cd(t){return ql.create(ld(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Tu()}}(t.fieldFilter.op),t.fieldFilter.value)}function hd(t){switch(t.unaryFilter.op){case"IS_NAN":var e=ld(t.unaryFilter.field);return ql.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=ld(t.unaryFilter.field);return ql.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ld(t.unaryFilter.field);return ql.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ld(t.unaryFilter.field);return ql.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Tu()}}function dd(t){var e=[];return t.fields.forEach(function(t){return e.push(t.ot())}),{fieldPaths:e}}function fd(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var pd=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},md=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.Fn=!1,t(function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)},function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Fn&&Tu(),this.Fn=!0,this.Nn?this.error?this.On(n,this.error):this.kn(e,this.result):new t(function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.On(n,e).next(t,i)}})},t.prototype.Mn=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln(function(){return e(n)}):t.resolve(n)},t.prototype.On=function(e,n){return e?this.Ln(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.$n=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.$n(r)},t}(),gd=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new pd,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new vd(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=xd(e.target.error);n.qn.reject(new vd(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new vd(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(Su("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new wd(e)},t}(),yd=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn(Object(yi.h)())&&xu("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Su("SimpleDb","Removing database:",t),Ed(window.indexedDB.deleteDatabase(t)).Mn()},t.Wn=function(){if("undefined"==typeof indexedDB)return!1;if(t.jn())return!0;var e=Object(yi.h)(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.jn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return Object(_u.b)(this,void 0,void 0,function(){var e,n=this;return Object(_u.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Su("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new vd(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Mu(Lu.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new vd(t,n))},i.onupgradeneeded=function(t){Su("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Qn.Yn(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Su("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}})})},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(_u.b)(this,void 0,void 0,function(){var i,s,o,a,u;return Object(_u.d)(this,function(l){switch(l.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,l,c;return Object(_u.d)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Jn(t)];case 2:return a.db=h.sent(),e=gd.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),md.reject(t)}).Mn(),u={},o.catch(function(){}),[4,e.Un];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return Su("SimpleDb","Transaction failed with error:",(l=h.sent()).message,"Retrying:",c="FirebaseError"!==l.name&&s<3),a.close(),c?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}})},a=this,l.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=l.sent()))return[2,u.value];l.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),bd=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return Ed(this.ts.delete())},t}(),vd=function(t){function e(e,n){var r=this;return(r=t.call(this,Lu.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(_u.c)(e,t),e}(Mu);function _d(t){return"IndexedDbTransactionError"===t.name}var wd=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Su("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Su("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Ed(n)},t.prototype.add=function(t){return Su("SimpleDb","ADD",this.store.name,t,t),Ed(this.store.add(t))},t.prototype.get=function(t){var e=this;return Ed(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Su("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Su("SimpleDb","DELETE",this.store.name,t),Ed(this.store.delete(t))},t.prototype.count=function(){return Su("SimpleDb","COUNT",this.store.name),Ed(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.us=function(t,e){Su("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,function(t,e,n){return n.delete()})},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new md(function(n,r){e.onerror=function(t){var e=xd(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.cs=function(t,e){var n=[];return new md(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new bd(i),o=e(i.primaryKey,i.value,s);if(o instanceof md){var a=o.catch(function(t){return s.done(),md.reject(t)});n.push(a)}s.Nn?r():null===s.ss?i.continue():i.continue(s.ss)}else r()}}).next(function(){return md.$n(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Ed(t){return new md(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=xd(t.target.error);n(e)}})}var Sd=!1;function xd(t){var e=yd.Kn(Object(yi.h)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Mu("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Sd||(Sd=!0,setTimeout(function(){throw r},0)),r}}return t}var Od=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new pd,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch(function(t){})}return t.Is=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.As=setTimeout(function(){return e.Rs()},t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new Mu(Lu.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys(function(){return null!==t.As?(t.clearTimeout(),t.op().then(function(e){return t.Ts.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function Cd(t,e){if(xu("AsyncQueue",e+": "+t),_d(t))return new Mu(Lu.UNAVAILABLE,e+": "+t);throw t}var Td=function(t,e){this.progress=t,this.gs=e},Id="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",kd=function(){function t(){this.Vs=[]}return t.prototype.ps=function(t){this.Vs.push(t)},t.prototype.bs=function(){this.Vs.forEach(function(t){return t()})},t}();function Ad(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Rd(e)),e=Pd(t.get(n),e);return Rd(e)}function Pd(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function Rd(t){return t+"\x01\x01"}function Dd(t){var e=t.length;if(Iu(e>=2),2===e)return Iu("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),el.at();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&Tu(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:Tu()}s=o+2}return new el(r)}var jd=function(t,e){this.seconds=t,this.nanoseconds=e},Nd=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Nd.store="owner",Nd.key="owner";var Ld=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Ld.store="mutationQueues",Ld.keyPath="userId";var Md=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Md.store="mutations",Md.keyPath="batchId",Md.userMutationsIndex="userMutationsIndex",Md.userMutationsKeyPath=["userId","batchId"];var Ud=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Ad(e)]},t.key=function(t,e,n){return[t,Ad(e),n]},t}();Ud.store="documentMutations",Ud.PLACEHOLDER=new Ud;var Fd=function(t,e){this.path=t,this.readTime=e},Vd=function(t,e){this.path=t,this.version=e},Bd=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};Bd.store="remoteDocuments",Bd.readTimeIndex="readTimeIndex",Bd.readTimeIndexPath="readTime",Bd.collectionReadTimeIndex="collectionReadTimeIndex",Bd.collectionReadTimeIndexPath=["parentPath","readTime"];var Hd=function(t){this.byteSize=t};Hd.store="remoteDocumentGlobal",Hd.key="remoteDocumentGlobalKey";var zd=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};zd.store="targets",zd.keyPath="targetId",zd.queryTargetsIndexName="queryTargetsIndex",zd.queryTargetsKeyPath=["canonicalId","targetId"];var qd=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};qd.store="targetDocuments",qd.keyPath=["targetId","path"],qd.documentTargetsIndex="documentTargetsIndex",qd.documentTargetsKeyPath=["path","targetId"];var Gd=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Gd.key="targetGlobalKey",Gd.store="targetGlobal";var $d=function(t,e){this.collectionId=t,this.parent=e};$d.store="collectionParents",$d.keyPath=["collectionId","parent"];var Wd=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Wd.store="clientMetadata",Wd.keyPath="clientId";var Kd=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Kd.store="bundles",Kd.keyPath="bundleId";var Qd=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Qd.store="namedQueries",Qd.keyPath="name";var Yd=Object(_u.g)(Object(_u.g)(Object(_u.g)(Object(_u.g)([Ld.store,Md.store,Ud.store,Bd.store,zd.store,Nd.store,Gd.store,qd.store],[Wd.store]),[Hd.store]),[$d.store]),[Kd.store,Qd.store]),Zd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).vs=e,r.Ss=n,r}return Object(_u.c)(e,t),e}(kd);function Xd(t,e){var n=ku(t);return yd.Hn(n.vs,e)}var Jd=function(){function t(t,e,n,r){this.batchId=t,this.Ds=e,this.baseMutations=n,this.mutations=r}return t.prototype.Cs=function(t,e,n){for(var r=n.xs,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=zc(s,e,r[i]))}return e},t.prototype.Ns=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=qc(i,e,e,this.Ds))}for(var s=e,o=0,a=this.mutations;o<a.length;o++){var u=a[o];u.key.isEqual(t)&&(e=qc(u,e,s,this.Ds))}return e},t.prototype.Fs=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.Ns(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},_h())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Du(this.mutations,t.mutations,function(t,e){return $c(t,e)})&&Du(this.baseMutations,t.baseMutations,function(t,e){return $c(t,e)})},t}(),tf=function(){function t(t,e,n,r){this.batch=t,this.Os=e,this.xs=n,this.ks=r}return t.from=function(e,n,r){Iu(e.mutations.length===r.length);for(var i=bh(),s=e.mutations,o=0;o<s.length;o++)i=i.Ht(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),ef=function(t){this.Ms=t};function nf(t,e){if(e.document)return Zh(t.Ms,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=il.Tt(e.noDocument.path),r=uf(e.noDocument.readTime);return new Ml(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=il.Tt(e.unknownDocument.path);return r=uf(e.unknownDocument.version),new Ul(i,r)}return Tu()}function rf(t,e,n){var r=sf(n),i=e.key.path.Z().rt();if(e instanceof Ll){var s=function(t,e){return{name:qh(t,e.key),fields:e.vt().mapValue.fields,updateTime:Uh(t,e.version.G())}}(t.Ms,e),o=e.hasCommittedMutations;return new Bd(null,null,s,o,r,i)}if(e instanceof Ml){var a=e.key.path.rt(),u=af(e.version);return o=e.hasCommittedMutations,new Bd(null,new Fd(a,u),null,o,r,i)}if(e instanceof Ul){var l=e.key.path.rt(),c=af(e.version);return new Bd(new Vd(l,c),null,null,!0,r,i)}return Tu()}function sf(t){var e=t.G();return[e.seconds,e.nanoseconds]}function of(t){var e=new Xu(t[0],t[1]);return Ju.W(e)}function af(t){var e=t.G();return new jd(e.seconds,e.nanoseconds)}function uf(t){var e=new Xu(t.seconds,t.nanoseconds);return Ju.W(e)}function lf(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Jh(t.Ms,e)}),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var s=e.mutations.map(function(e){return Jh(t.Ms,e)}),o=Xu.fromMillis(e.localWriteTimeMs);return new Jd(e.batchId,o,n,s)}function cf(t){var e,n,r=uf(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?uf(t.lastLimboFreeSnapshotVersion):Ju.min();return void 0!==t.query.documents?(Iu(1===(n=t.query).documents.length),e=pc(ac(Wh(n.documents[0])))):e=function(t){return pc(nd(t))}(t.query),new Ec(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Nu.fromBase64String(t.resumeToken))}function hf(t,e){var n,r=af(e.Mt),i=af(e.lastLimboFreeSnapshotVersion);n=zl(e.target)?td(t.Ms,e.target):ed(t.Ms,e.target);var s=e.resumeToken.toBase64();return new zd(e.targetId,Bl(e.target),r,s,e.sequenceNumber,i,n)}function df(t){var e=nd({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?mc(e,e.limit,"L"):e}var ff=function(){function t(){}return t.prototype.Ls=function(t,e){return pf(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:uf(e.createTime),version:e.version};var e})},t.prototype.$s=function(t,e){return pf(t).put({bundleId:(n=e).id,createTime:af(Bh(n.createTime)),version:n.version});var n},t.prototype.Bs=function(t,e){return mf(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:df(e.bundledQuery),readTime:uf(e.readTime)};var e})},t.prototype.qs=function(t,e){return mf(t).put(function(t){return{name:t.name,readTime:af(Bh(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function pf(t){return Xd(t,Kd.store)}function mf(t){return Xd(t,Qd.store)}var gf=function(){function t(){this.Us=new yf}return t.prototype.Qs=function(t,e){return this.Us.add(e),md.resolve()},t.prototype.Ks=function(t,e){return md.resolve(this.Us.getEntries(e))},t}(),yf=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new ch(el.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new ch(el.J)).rt()},t}(),bf=function(){function t(){this.Ws=new yf}return t.prototype.Qs=function(t,e){var n=this;if(!this.Ws.has(e)){var r=e.et(),i=e.Z();t.ps(function(){n.Ws.add(e)});var s={collectionId:r,parent:Ad(i)};return vf(t).put(s)}return md.resolve()},t.prototype.Ks=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[ju(e),""],!1,!0);return vf(t).os(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(Dd(s.parent))}return n})},t}();function vf(t){return Xd(t,$d.store)}var _f={js:!1,Gs:0,zs:0,Hs:0},wf=function(){function t(t,e,n){this.Js=t,this.Ys=e,this.Xs=n}return t.Zs=function(e){return new t(e,t.ti,t.ei)},t}();function Ef(t){return Object(_u.b)(this,void 0,void 0,function(){return Object(_u.d)(this,function(e){if(t.code!==Lu.FAILED_PRECONDITION||t.message!==Id)throw t;return Su("LocalStore","Unexpectedly lost primary lease"),[2]})})}wf.ti=10,wf.ei=1e3,wf.ni=new wf(41943040,wf.ti,wf.ei),wf.si=new wf(-1,0,0);var Sf=function(){function t(t,e){this.ii=t,this.ri=e,this.oi={}}return t.prototype.get=function(t){var e=this.ii(t),n=this.oi[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.ri(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ii(t),r=this.oi[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ri(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.oi[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ii(t),n=this.oi[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ri(n[r][0],t))return 1===n.length?delete this.oi[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){ol(this.oi,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.nt=function(){return al(this.oi)},t}(),xf=function(){function t(){this.ci=new Sf(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.ai=!1}return t.prototype.ui=function(t){var e=this.ci.get(t);return e?e.readTime:Ju.min()},t.prototype.hi=function(t,e){this.li(),this.ci.set(t.key,{_i:t,readTime:e})},t.prototype.fi=function(t,e){void 0===e&&(e=null),this.li(),this.ci.set(t,{_i:null,readTime:e})},t.prototype.di=function(t,e){this.li();var n=this.ci.get(e);return void 0!==n?md.resolve(n._i):this.wi(t,e)},t.prototype.getEntries=function(t,e){return this.Ei(t,e)},t.prototype.apply=function(t){return this.li(),this.ai=!0,this.Ti(t)},t.prototype.li=function(){},t}();function Of(t,e,n){var r=t.store(Md.store),i=t.store(Ud.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.ls({range:o},function(t,e,n){return a++,n.delete()});s.push(u.next(function(){Iu(1===a)}));for(var l=[],c=0,h=n.mutations;c<h.length;c++){var d=h[c],f=Ud.key(e,d.key.path,n.batchId);s.push(i.delete(f)),l.push(d.key)}return md.$n(s).next(function(){return l})}function Cf(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Tu();e=t.noDocument}return JSON.stringify(e).length}var Tf=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ii=n,this.mi=r,this.Ai={}}return t.Ri=function(e,n,r,i){return Iu(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Pi=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return kf(t).ls({index:Md.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.yi=function(t,e,n,r){var i=this,s=Af(t),o=kf(t);return o.add({}).next(function(a){Iu("number"==typeof a);for(var u=new Jd(a,e,n,r),l=function(t,e,n){var r=n.baseMutations.map(function(e){return Xh(t.Ms,e)}),i=n.mutations.map(function(e){return Xh(t.Ms,e)});return new Md(e,n.batchId,n.Ds.toMillis(),r,i)}(i.Kt,i.userId,u),c=[],h=new ch(function(t,e){return Ru(t.ot(),e.ot())}),d=0,f=r;d<f.length;d++){var p=f[d],m=Ud.key(i.userId,p.key.path,a);h=h.add(p.key.path.Z()),c.push(o.put(l)),c.push(s.put(m,Ud.PLACEHOLDER))}return h.forEach(function(e){c.push(i.Ii.Qs(t,e))}),t.ps(function(){i.Ai[a]=u.keys()}),md.$n(c).next(function(){return u})})},t.prototype.gi=function(t,e){var n=this;return kf(t).get(e).next(function(t){return t?(Iu(t.userId===n.userId),lf(n.Kt,t)):null})},t.prototype.Vi=function(t,e){var n=this;return this.Ai[e]?md.resolve(this.Ai[e]):this.gi(t,e).next(function(t){if(t){var r=t.keys();return n.Ai[e]=r,r}return null})},t.prototype.pi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return kf(t).ls({index:Md.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Iu(e.batchId>=r),s=lf(n.Kt,e)),i.done()}).next(function(){return s})},t.prototype.bi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return kf(t).ls({index:Md.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.vi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return kf(t).os(Md.userMutationsIndex,n).next(function(t){return t.map(function(t){return lf(e.Kt,t)})})},t.prototype.Si=function(t,e){var n=this,r=Ud.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return Af(t).ls({range:i},function(r,i,o){var a=r[0],u=r[2],l=Dd(r[1]);if(a===n.userId&&e.path.isEqual(l))return kf(t).get(u).next(function(t){if(!t)throw Tu();Iu(t.userId===n.userId),s.push(lf(n.Kt,t))});o.done()}).next(function(){return s})},t.prototype.Di=function(t,e){var n=this,r=new ch(Ru),i=[];return e.forEach(function(e){var s=Ud.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Af(t).ls({range:o},function(t,i,s){var o=t[0],a=t[2],u=Dd(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()});i.push(a)}),md.$n(i).next(function(){return n.Ci(t,r)})},t.prototype.xi=function(t,e){var n=this,r=e.path,i=r.length+1,s=Ud.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new ch(Ru);return Af(t).ls({range:o},function(t,e,s){var o=t[0],u=t[2],l=Dd(t[1]);o===n.userId&&r.st(l)?l.length===i&&(a=a.add(u)):s.done()}).next(function(){return n.Ci(t,a)})},t.prototype.Ci=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(kf(t).get(e).next(function(t){if(null===t)throw Tu();Iu(t.userId===n.userId),r.push(lf(n.Kt,t))}))}),md.$n(i).next(function(){return r})},t.prototype.Ni=function(t,e){var n=this;return Of(t.vs,this.userId,e).next(function(r){return t.ps(function(){n.Fi(e.batchId)}),md.forEach(r,function(e){return n.mi.Oi(t,e)})})},t.prototype.Fi=function(t){delete this.Ai[t]},t.prototype.ki=function(t){var e=this;return this.Pi(t).next(function(n){if(!n)return md.resolve();var r=IDBKeyRange.lowerBound(Ud.prefixForUser(e.userId)),i=[];return Af(t).ls({range:r},function(t,n,r){if(t[0]===e.userId){var s=Dd(t[1]);i.push(s)}else r.done()}).next(function(){Iu(0===i.length)})})},t.prototype.Mi=function(t,e){return If(t,this.userId,e)},t.prototype.Li=function(t){var e=this;return Pf(t).get(this.userId).next(function(t){return t||new Ld(e.userId,-1,"")})},t}();function If(t,e,n){var r=Ud.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Af(t).ls({range:s,hs:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function kf(t){return Xd(t,Md.store)}function Af(t){return Xd(t,Ud.store)}function Pf(t){return Xd(t,Ld.store)}var Rf=function(){function t(t){this.$i=t}return t.prototype.next=function(){return this.$i+=2,this.$i},t.Bi=function(){return new t(0)},t.qi=function(){return new t(-1)},t}(),Df=function(){function t(t,e){this.mi=t,this.Kt=e}return t.prototype.Ui=function(t){var e=this;return this.Qi(t).next(function(n){var r=new Rf(n.highestTargetId);return n.highestTargetId=r.next(),e.Ki(t,n).next(function(){return n.highestTargetId})})},t.prototype.Wi=function(t){return this.Qi(t).next(function(t){return Ju.W(new Xu(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.ji=function(t){return this.Qi(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Gi=function(t,e,n){var r=this;return this.Qi(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ki(t,i)})},t.prototype.zi=function(t,e){var n=this;return this.Hi(t,e).next(function(){return n.Qi(t).next(function(r){return r.targetCount+=1,n.Ji(e,r),n.Ki(t,r)})})},t.prototype.Yi=function(t,e){return this.Hi(t,e)},t.prototype.Xi=function(t,e){var n=this;return this.Zi(t,e.targetId).next(function(){return jf(t).delete(e.targetId)}).next(function(){return n.Qi(t)}).next(function(e){return Iu(e.targetCount>0),e.targetCount-=1,n.Ki(t,e)})},t.prototype.tr=function(t,e,n){var r=this,i=0,s=[];return jf(t).ls(function(o,a){var u=cf(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.Xi(t,u)))}).next(function(){return md.$n(s)}).next(function(){return i})},t.prototype.mn=function(t,e){return jf(t).ls(function(t,n){var r=cf(n);e(r)})},t.prototype.Qi=function(t){return Nf(t).get(Gd.key).next(function(t){return Iu(null!==t),t})},t.prototype.Ki=function(t,e){return Nf(t).put(Gd.key,e)},t.prototype.Hi=function(t,e){return jf(t).put(hf(this.Kt,e))},t.prototype.Ji=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.er=function(t){return this.Qi(t).next(function(t){return t.targetCount})},t.prototype.nr=function(t,e){var n=Bl(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return jf(t).ls({range:r,index:zd.queryTargetsIndexName},function(t,n,r){var s=cf(n);Hl(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.sr=function(t,e,n){var r=this,i=[],s=Lf(t);return e.forEach(function(e){var o=Ad(e.path);i.push(s.put(new qd(n,o))),i.push(r.mi.ir(t,n,e))}),md.$n(i)},t.prototype.rr=function(t,e,n){var r=this,i=Lf(t);return md.forEach(e,function(e){var s=Ad(e.path);return md.$n([i.delete([n,s]),r.mi.cr(t,n,e)])})},t.prototype.Zi=function(t,e){var n=Lf(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.ar=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Lf(t),i=_h();return r.ls({range:n,hs:!0},function(t,e,n){var r=Dd(t[1]),s=new il(r);i=i.add(s)}).next(function(){return i})},t.prototype.Mi=function(t,e){var n=Ad(e.path),r=IDBKeyRange.bound([n],[ju(n)],!1,!0),i=0;return Lf(t).ls({index:qd.documentTargetsIndex,hs:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Dn=function(t,e){return jf(t).get(e).next(function(t){return t?cf(t):null})},t}();function jf(t){return Xd(t,zd.store)}function Nf(t){return Xd(t,Gd.store)}function Lf(t){return Xd(t,qd.store)}function Mf(t,e){var n=t[1],r=e[1],i=Ru(t[0],e[0]);return 0===i?Ru(n,r):i}var Uf=function(){function t(t){this.ur=t,this.buffer=new ch(Mf),this.hr=0}return t.prototype.lr=function(){return++this.hr},t.prototype._r=function(t){var e=[t,this.lr()];if(this.buffer.size<this.ur)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Mf(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Ff=function(){function t(t,e){this.dr=t,this.fs=e,this.wr=!1,this.Er=null}return t.prototype.start=function(t){-1!==this.dr.params.Js&&this.Tr(t)},t.prototype.stop=function(){this.Er&&(this.Er.cancel(),this.Er=null)},Object.defineProperty(t.prototype,"Ir",{get:function(){return null!==this.Er},enumerable:!1,configurable:!0}),t.prototype.Tr=function(t){var e=this,n=this.wr?3e5:6e4;Su("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Er=this.fs.mr("lru_garbage_collection",n,function(){return Object(_u.b)(e,void 0,void 0,function(){var e;return Object(_u.d)(this,function(n){switch(n.label){case 0:this.Er=null,this.wr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ar(this.dr)];case 2:return n.sent(),[3,7];case 3:return _d(e=n.sent())?(Su("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Ef(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Tr(t)];case 8:return n.sent(),[2]}})})})},t}(),Vf=function(){function t(t,e){this.Rr=t,this.params=e}return t.prototype.Pr=function(t,e){return this.Rr.yr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.gr=function(t,e){var n=this;if(0===e)return md.resolve(Zu.U);var r=new Uf(e);return this.Rr.mn(t,function(t){return r._r(t.sequenceNumber)}).next(function(){return n.Rr.Vr(t,function(t){return r._r(t)})}).next(function(){return r.maxValue})},t.prototype.tr=function(t,e,n){return this.Rr.tr(t,e,n)},t.prototype.pr=function(t,e){return this.Rr.pr(t,e)},t.prototype.br=function(t,e){var n=this;return-1===this.params.Js?(Su("LruGarbageCollector","Garbage collection skipped; disabled"),md.resolve(_f)):this.vr(t).next(function(r){return r<n.params.Js?(Su("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Js),_f):n.Sr(t,e)})},t.prototype.vr=function(t){return this.Rr.vr(t)},t.prototype.Sr=function(t,e){var n,r,i,s,o,a,u,l=this,c=Date.now();return this.Pr(t,this.params.Ys).next(function(e){return e>l.params.Xs?(Su("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.Xs+" from "+e),r=l.params.Xs):r=e,s=Date.now(),l.gr(t,r)}).next(function(r){return n=r,o=Date.now(),l.tr(t,n,e)}).next(function(e){return i=e,a=Date.now(),l.pr(t,n)}).next(function(t){return u=Date.now(),Eu()<=gi.a.DEBUG&&Su("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-c)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-c)+"ms"),md.resolve({js:!0,Gs:r,zs:i,Hs:t})})},t}(),Bf=function(){function t(t,e){this.db=t,this.dr=function(t,e){return new Vf(t,e)}(this,e)}return t.prototype.yr=function(t){var e=this.Dr(t);return this.db.Cr().er(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.Dr=function(t){var e=0;return this.Vr(t,function(t){e++}).next(function(){return e})},t.prototype.mn=function(t,e){return this.db.Cr().mn(t,e)},t.prototype.Vr=function(t,e){return this.Nr(t,function(t,n){return e(n)})},t.prototype.ir=function(t,e,n){return Hf(t,n)},t.prototype.cr=function(t,e,n){return Hf(t,n)},t.prototype.tr=function(t,e,n){return this.db.Cr().tr(t,e,n)},t.prototype.Oi=function(t,e){return Hf(t,e)},t.prototype.Fr=function(t,e){return function(t,e){var n=!1;return Pf(t)._s(function(r){return If(t,r,e).next(function(t){return t&&(n=!0),md.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.pr=function(t,e){var n=this,r=this.db.kr().Or(),i=[],s=0;return this.Nr(t,function(o,a){if(a<=e){var u=n.Fr(t,o).next(function(e){if(!e)return s++,r.di(t,o).next(function(){return r.fi(o),Lf(t).delete([0,Ad(o.path)])})});i.push(u)}}).next(function(){return md.$n(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.Ss);return this.db.Cr().Yi(t,n)},t.prototype.Mr=function(t,e){return Hf(t,e)},t.prototype.Nr=function(t,e){var n,r=Lf(t),i=Zu.U;return r.ls({index:qd.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==Zu.U&&e(new il(Dd(n)),i),i=o,n=s):i=Zu.U}).next(function(){i!==Zu.U&&e(new il(Dd(n)),i)})},t.prototype.vr=function(t){return this.db.kr().Lr(t)},t}();function Hf(t,e){return Lf(t).put(function(t,e){return new qd(0,Ad(t.path),e)}(e,t.Ss))}var zf=function(){function t(t,e){this.Kt=t,this.Ii=e}return t.prototype.hi=function(t,e,n){return $f(t).put(Wf(e),n)},t.prototype.fi=function(t,e){var n=$f(t),r=Wf(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.$r(t,r)})},t.prototype.di=function(t,e){var n=this;return $f(t).get(Wf(e)).next(function(t){return n.Br(t)})},t.prototype.qr=function(t,e){var n=this;return $f(t).get(Wf(e)).next(function(t){var e=n.Br(t);return e?{_i:e,size:Cf(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=ph();return this.Ur(t,e,function(t,e){var i=n.Br(e);r=r.Ht(t,i)}).next(function(){return r})},t.prototype.Qr=function(t,e){var n=this,r=ph(),i=new ah(il.J);return this.Ur(t,e,function(t,e){var s=n.Br(e);s?(r=r.Ht(t,s),i=i.Ht(t,Cf(e))):(r=r.Ht(t,null),i=i.Ht(t,0))}).next(function(){return{Kr:r,Wr:i}})},t.prototype.Ur=function(t,e,n){if(e.nt())return md.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),s=i.ce();return $f(t).ls({range:r},function(t,e,r){for(var o=il.Tt(t);s&&il.J(s,o)<0;)n(s,null),s=i.ce();s&&s.isEqual(o)&&(n(s,e),s=i.ae()?i.ce():null),s?r.rs(s.path.rt()):r.done()}).next(function(){for(;s;)n(s,null),s=i.ae()?i.ce():null})},t.prototype.jr=function(t,e,n){var r=this,i=gh(),s=e.path.length+1,o={};if(n.isEqual(Ju.min())){var a=e.path.rt();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.rt(),l=sf(n);o.range=IDBKeyRange.lowerBound([u,l],!0),o.index=Bd.collectionReadTimeIndex}return $f(t).ls(o,function(t,n,o){if(t.length===s){var a=nf(r.Kt,n);e.path.st(a.key.path)?a instanceof Ll&&vc(e,a)&&(i=i.Ht(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.Or=function(t){return new qf(this,!!t&&t.Gr)},t.prototype.Lr=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Gf(t).get(Hd.key).next(function(t){return Iu(!!t),t})},t.prototype.$r=function(t,e){return Gf(t).put(Hd.key,e)},t.prototype.Br=function(t){if(t){var e=nf(this.Kt,t);return e instanceof Ml&&e.version.isEqual(Ju.min())?null:e}return null},t}(),qf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).zr=e,r.Gr=n,r.Hr=new Sf(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(_u.c)(e,t),e.prototype.Ti=function(t){var e=this,n=[],r=0,i=new ch(function(t,e){return Ru(t.ot(),e.ot())});return this.ci.forEach(function(s,o){var a=e.Hr.get(s);if(o._i){var u=rf(e.zr.Kt,o._i,e.ui(s));i=i.add(s.path.Z());var l=Cf(u);r+=l-a,n.push(e.zr.hi(t,s,u))}else if(r-=a,e.Gr){var c=rf(e.zr.Kt,new Ml(s,Ju.min()),e.ui(s));n.push(e.zr.hi(t,s,c))}else n.push(e.zr.fi(t,s))}),i.forEach(function(r){n.push(e.zr.Ii.Qs(t,r))}),n.push(this.zr.updateMetadata(t,r)),md.$n(n)},e.prototype.wi=function(t,e){var n=this;return this.zr.qr(t,e).next(function(t){return null===t?(n.Hr.set(e,0),null):(n.Hr.set(e,t.size),t._i)})},e.prototype.Ei=function(t,e){var n=this;return this.zr.Qr(t,e).next(function(t){var e=t.Kr;return t.Wr.forEach(function(t,e){n.Hr.set(t,e)}),e})},e}(xf);function Gf(t){return Xd(t,Hd.store)}function $f(t){return Xd(t,Bd.store)}function Wf(t){return t.path.rt()}var Kf=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;Iu(n<r&&n>=0&&r<=11);var s=new gd("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Nd.store)}(t),function(t){t.createObjectStore(Ld.store,{keyPath:Ld.keyPath}),t.createObjectStore(Md.store,{keyPath:Md.keyPath,autoIncrement:!0}).createIndex(Md.userMutationsIndex,Md.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Ud.store)}(t),Qf(t),function(t){t.createObjectStore(Bd.store)}(t));var o=md.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(qd.store),t.deleteObjectStore(zd.store),t.deleteObjectStore(Gd.store)}(t),Qf(t)),o=o.next(function(){return function(t){var e=t.store(Gd.store),n=new Gd(0,0,Ju.min().G(),0);return e.put(Gd.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(Md.store).os().next(function(n){t.deleteObjectStore(Md.store),t.createObjectStore(Md.store,{keyPath:Md.keyPath,autoIncrement:!0}).createIndex(Md.userMutationsIndex,Md.userMutationsKeyPath,{unique:!0});var r=e.store(Md.store),i=n.map(function(t){return r.put(t)});return md.$n(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(Wd.store,{keyPath:Wd.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.Jr(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(Hd.store)}(t),i.Yr(s)})),n<7&&r>=7&&(o=o.next(function(){return i.Xr(s)})),n<8&&r>=8&&(o=o.next(function(){return i.Zr(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Bd.store);e.createIndex(Bd.readTimeIndex,Bd.readTimeIndexPath,{unique:!1}),e.createIndex(Bd.collectionReadTimeIndex,Bd.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.eo(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(Kd.store,{keyPath:Kd.keyPath})}(t),function(t){t.createObjectStore(Qd.store,{keyPath:Qd.keyPath})}(t)})),o},t.prototype.Yr=function(t){var e=0;return t.store(Bd.store).ls(function(t,n){e+=Cf(n)}).next(function(){var n=new Hd(e);return t.store(Hd.store).put(Hd.key,n)})},t.prototype.Jr=function(t){var e=this,n=t.store(Ld.store),r=t.store(Md.store);return n.os().next(function(n){return md.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(Md.userMutationsIndex,i).next(function(r){return md.forEach(r,function(r){Iu(r.userId===n.userId);var i=lf(e.Kt,r);return Of(t,n.userId,i).next(function(){})})})})})},t.prototype.Xr=function(t){var e=t.store(qd.store),n=t.store(Bd.store);return t.store(Gd.store).get(Gd.key).next(function(t){var r=[];return n.ls(function(n,i){var s=new el(n),o=function(t){return[0,Ad(t)]}(s);r.push(e.get(o).next(function(n){return n?md.resolve():function(n){return e.put(new qd(0,Ad(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return md.$n(r)})})},t.prototype.Zr=function(t,e){t.createObjectStore($d.store,{keyPath:$d.keyPath});var n=e.store($d.store),r=new yf,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:Ad(i)})}};return e.store(Bd.store).ls({hs:!0},function(t,e){var n=new el(t);return i(n.Z())}).next(function(){return e.store(Ud.store).ls({hs:!0},function(t,e){var n=Dd(t[1]);return i(n.Z())})})},t.prototype.eo=function(t){var e=this,n=t.store(zd.store);return n.ls(function(t,r){var i=cf(r),s=hf(e.Kt,i);return n.put(s)})},t}();function Qf(t){t.createObjectStore(qd.store,{keyPath:qd.keyPath}).createIndex(qd.documentTargetsIndex,qd.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(zd.store,{keyPath:zd.keyPath}).createIndex(zd.queryTargetsIndexName,zd.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Gd.store)}var Yf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Zf=function(){function t(e,n,r,i,s,o,a,u,l,c){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.no=s,this.window=o,this.document=a,this.so=l,this.io=c,this.ro=null,this.oo=!1,this.isPrimary=!1,this.networkEnabled=!0,this.co=null,this.inForeground=!1,this.ao=null,this.uo=null,this.ho=Number.NEGATIVE_INFINITY,this.lo=function(t){return Promise.resolve()},!t.Wn())throw new Mu(Lu.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.mi=new Bf(this,i),this._o=n+"main",this.Kt=new ef(u),this.fo=new yd(this._o,11,new Kf(this.Kt)),this.wo=new Df(this.mi,this.Kt),this.Ii=new bf,this.Eo=function(t,e){return new zf(t,e)}(this.Kt,this.Ii),this.To=new ff,this.window&&this.window.localStorage?this.Io=this.window.localStorage:(this.Io=null,!1===c&&xu("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.mo().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Mu(Lu.FAILED_PRECONDITION,Yf);return t.Ao(),t.Ro(),t.Po(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.wo.ji(e)})}).then(function(e){t.ro=new Zu(e,t.so)}).then(function(){t.oo=!0}).catch(function(e){return t.fo&&t.fo.close(),Promise.reject(e)})},t.prototype.yo=function(t){var e=this;return this.lo=function(n){return Object(_u.b)(e,void 0,void 0,function(){return Object(_u.d)(this,function(e){return this.Ir?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.Vo=function(t){var e=this;this.fo.Zn(function(n){return Object(_u.b)(e,void 0,void 0,function(){return Object(_u.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.po=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.no.ys(function(){return Object(_u.b)(e,void 0,void 0,function(){return Object(_u.d)(this,function(t){switch(t.label){case 0:return this.Ir?[4,this.mo()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.mo=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Jf(e).put(new Wd(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.bo(e).next(function(e){e||(t.isPrimary=!1,t.no.vo(function(){return t.lo(!1)}))})}).next(function(){return t.So(e)}).next(function(n){return t.isPrimary&&!n?t.Do(e).next(function(){return!1}):!!n&&t.Co(e).next(function(){return!0})})}).catch(function(e){if(_d(e))return Su("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Su("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.no.vo(function(){return t.lo(e)}),t.isPrimary=e})},t.prototype.bo=function(t){var e=this;return Xf(t).get(Nd.key).next(function(t){return md.resolve(e.xo(t))})},t.prototype.No=function(t){return Jf(t).delete(this.clientId)},t.prototype.Fo=function(){return Object(_u.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(_u.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.Oo(this.ho,18e5)?[3,2]:(this.ho=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Xd(t,Wd.store);return e.os().next(function(t){var n=r.ko(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return md.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Io)for(e=0,n=t;e<n.length;e++)this.Io.removeItem(this.Mo(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Po=function(){var t=this;this.uo=this.no.mr("client_metadata_refresh",4e3,function(){return t.mo().then(function(){return t.Fo()}).then(function(){return t.Po()})})},t.prototype.xo=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.So=function(t){var e=this;return this.io?md.resolve(!0):Xf(t).get(Nd.key).next(function(n){if(null!==n&&e.Oo(n.leaseTimestampMs,5e3)&&!e.Lo(n.ownerId)){if(e.xo(n)&&e.networkEnabled)return!0;if(!e.xo(n)){if(!n.allowTabSynchronization)throw new Mu(Lu.FAILED_PRECONDITION,Yf);return!1}}return!(!e.networkEnabled||!e.inForeground)||Jf(t).os().next(function(t){return void 0===e.ko(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Su("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.$o=function(){return Object(_u.b)(this,void 0,void 0,function(){var t=this;return Object(_u.d)(this,function(e){switch(e.label){case 0:return this.oo=!1,this.Bo(),this.uo&&(this.uo.cancel(),this.uo=null),this.qo(),this.Uo(),[4,this.fo.runTransaction("shutdown","readwrite",[Nd.store,Wd.store],function(e){var n=new Zd(e,Zu.U);return t.Do(n).next(function(){return t.No(n)})})];case 1:return e.sent(),this.fo.close(),this.Qo(),[2]}})})},t.prototype.ko=function(t,e){var n=this;return t.filter(function(t){return n.Oo(t.updateTimeMs,e)&&!n.Lo(t.clientId)})},t.prototype.Ko=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Jf(e).os().next(function(e){return t.ko(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Ir",{get:function(){return this.oo},enumerable:!1,configurable:!0}),t.prototype.Wo=function(t){return Tf.Ri(t,this.Kt,this.Ii,this.mi)},t.prototype.Cr=function(){return this.wo},t.prototype.kr=function(){return this.Eo},t.prototype.jo=function(){return this.Ii},t.prototype.Go=function(){return this.To},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Su("IndexedDbPersistence","Starting transaction:",t),this.fo.runTransaction(t,"readonly"===e?"readonly":"readwrite",Yd,function(s){return r=new Zd(s,i.ro?i.ro.next():Zu.U),"readwrite-primary"===e?i.bo(r).next(function(t){return!!t||i.So(r)}).next(function(e){if(!e)throw xu("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.no.vo(function(){return i.lo(!1)}),new Mu(Lu.FAILED_PRECONDITION,Id);return n(r)}).next(function(t){return i.Co(r).next(function(){return t})}):i.zo(r).next(function(){return n(r)})}).then(function(t){return r.bs(),t})},t.prototype.zo=function(t){var e=this;return Xf(t).get(Nd.key).next(function(t){if(null!==t&&e.Oo(t.leaseTimestampMs,5e3)&&!e.Lo(t.ownerId)&&!e.xo(t)&&!(e.io||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Mu(Lu.FAILED_PRECONDITION,Yf)})},t.prototype.Co=function(t){var e=new Nd(this.clientId,this.allowTabSynchronization,Date.now());return Xf(t).put(Nd.key,e)},t.Wn=function(){return yd.Wn()},t.prototype.Do=function(t){var e=this,n=Xf(t);return n.get(Nd.key).next(function(t){return e.xo(t)?(Su("IndexedDbPersistence","Releasing primary lease."),n.delete(Nd.key)):md.resolve()})},t.prototype.Oo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(xu("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Ao=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ao=function(){t.no.ys(function(){return t.inForeground="visible"===t.document.visibilityState,t.mo()})},this.document.addEventListener("visibilitychange",this.ao),this.inForeground="visible"===this.document.visibilityState)},t.prototype.qo=function(){this.ao&&(this.document.removeEventListener("visibilitychange",this.ao),this.ao=null)},t.prototype.Ro=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.co=function(){e.Bo(),e.no.ys(function(){return e.$o()})},this.window.addEventListener("unload",this.co))},t.prototype.Uo=function(){this.co&&(this.window.removeEventListener("unload",this.co),this.co=null)},t.prototype.Lo=function(t){var e;try{var n=null!==(null===(e=this.Io)||void 0===e?void 0:e.getItem(this.Mo(t)));return Su("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return xu("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Bo=function(){if(this.Io)try{this.Io.setItem(this.Mo(this.clientId),String(Date.now()))}catch(t){xu("Failed to set zombie client id.",t)}},t.prototype.Qo=function(){if(this.Io)try{this.Io.removeItem(this.Mo(this.clientId))}catch(t){}},t.prototype.Mo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Xf(t){return Xd(t,Nd.store)}function Jf(t){return Xd(t,Wd.store)}function tp(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var ep=function(){function t(t,e,n){this.Eo=t,this.Ho=e,this.Ii=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.Si(t,e).next(function(r){return n.Yo(t,e,r)})},t.prototype.Yo=function(t,e,n){return this.Eo.di(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Ns(e,t);return t})},t.prototype.Xo=function(t,e,n){var r=ph();return e.forEach(function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].Ns(t,e);r=r.Ht(t,e)}),r},t.prototype.Zo=function(t,e){var n=this;return this.Eo.getEntries(t,e).next(function(e){return n.tc(t,e)})},t.prototype.tc=function(t,e){var n=this;return this.Ho.Di(t,e).next(function(r){var i=n.Xo(t,e,r),s=fh();return i.forEach(function(t,e){e||(e=new Ml(t,Ju.min())),s=s.Ht(t,e)}),s})},t.prototype.jr=function(t,e,n){return function(t){return il.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):dc(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new il(e)).next(function(t){var e=gh();return t instanceof Ll&&(e=e.Ht(t.key,t)),e})},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,s=gh();return this.Ii.Ks(t,i).next(function(o){return md.forEach(o,function(o){var a=function(t,e){return new sc(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.sc(t,a,n).next(function(t){t.forEach(function(t,e){s=s.Ht(t,e)})})}).next(function(){return s})})},t.prototype.sc=function(t,e,n){var r,i,s=this;return this.Eo.jr(t,e,n).next(function(n){return r=n,s.Ho.xi(t,e)}).next(function(e){return s.ic(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],l=u.key,c=r.get(l),h=qc(u,c,c,s.Ds);r=h instanceof Ll?r.Ht(l,h):r.remove(l)}})}).next(function(){return r.forEach(function(t,n){vc(e,n)||(r=r.remove(t))}),r})},t.prototype.ic=function(t,e,n){for(var r=_h(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof Qc&&null===n.get(u.key)&&(r=r.add(u.key))}var l=n;return this.Eo.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof Ll&&(l=l.Ht(t,e))}),l})},t}(),np=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=_h(),i=_h(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),rp=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.jr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(Ju.min())?this.hc(t,e):this.uc.Zo(t,r).next(function(s){var o=i.lc(e,s);return(uc(e)||lc(e))&&i._c(e.limitType,o,r,n)?i.hc(t,e):(Eu()<=gi.a.DEBUG&&Su("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),bc(e)),i.uc.jr(t,e,n).next(function(t){return o.forEach(function(e){t=t.Ht(e.key,e)}),t}))})},t.prototype.lc=function(t,e){var n=new ch(_c(t));return e.forEach(function(e,r){r instanceof Ll&&vc(t,r)&&(n=n.add(r))}),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return Eu()<=gi.a.DEBUG&&Su("QueryEngine","Using full collection scan to execute query:",bc(e)),this.uc.jr(t,e,Ju.min())},t}(),ip=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new ah(Ru),this.wc=new Sf(function(t){return Bl(t)},Hl),this.Ec=Ju.min(),this.Ho=t.Wo(n),this.Tc=t.kr(),this.wo=t.Cr(),this.Ic=new ep(this.Tc,this.Ho,this.persistence.jo()),this.To=t.Go(),this.fc.ac(this.Ic)}return t.prototype.Ar=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.br(n,e.dc)})},t}();function sp(t,e,n,r){return new ip(t,e,n,r)}function op(t,e){return Object(_u.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(_u.d)(this,function(o){switch(o.label){case 0:return n=ku(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n.Ho.vi(t).next(function(o){return s=o,r=n.persistence.Wo(e),i=new ep(n.Tc,r,n.persistence.jo()),r.vi(t)}).next(function(e){for(var n=[],r=[],o=_h(),a=0,u=s;a<u.length;a++){var l=u[a];n.push(l.batchId);for(var c=0,h=l.mutations;c<h.length;c++)o=o.add(h[c].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)o=o.add(g[m].key)}return i.Zo(t,o).next(function(t){return{mc:t,Ac:n,Rc:r}})})})];case 1:return s=o.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),s)]}})})}function ap(t,e){var n=ku(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Tc.Or({Gr:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=md.resolve();return s.forEach(function(t){o=o.next(function(){return r.di(e,t)}).next(function(e){var s=e,o=n.ks.get(t);Iu(null!==o),(!s||s.version.u(o)<0)&&(s=i.Cs(t,s,n))&&r.hi(s,n.Os)})}),o.next(function(){return t.Ho.Ni(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.Ho.ki(t)}).next(function(){return n.Ic.Zo(t,r)})})}function up(t){var e=ku(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.wo.Wi(t)})}function lp(t,e){var n=ku(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.Tc.Or({Gr:!0});i=n.dc;var o=[];e.Oe.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.wo.rr(t,e.Ke,s).next(function(){return n.wo.sr(t,e.Ue,s)}));var u=e.resumeToken;if(u.o()>0){var l=a.$t(u,r).Lt(t.Ss);i=i.Ht(s,l),function(t,e,n){return Iu(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.j()-t.Mt.j()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(a,l,e)&&o.push(n.wo.Yi(t,l))}}});var a=fh();if(e.Me.forEach(function(r,i){e.Le.has(r)&&o.push(n.persistence.mi.Mr(t,r))}),o.push(cp(t,s,e.Me,r,void 0).next(function(t){a=t})),!r.isEqual(Ju.min())){var u=n.wo.Wi(t).next(function(e){return n.wo.Gi(t,t.Ss,r)});o.push(u)}return md.$n(o).next(function(){return s.apply(t)}).next(function(){return n.Ic.tc(t,a)})}).then(function(t){return n.dc=i,t})}function cp(t,e,n,r,i){var s=_h();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=fh();return n.forEach(function(n,o){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;o instanceof Ml&&o.version.isEqual(Ju.min())?(e.fi(n,u),s=s.Ht(n,o)):null==a||o.version.u(a.version)>0||0===o.version.u(a.version)&&a.hasPendingWrites?(e.hi(o,u),s=s.Ht(n,o)):Su("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function hp(t,e){var n=ku(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Ho.pi(t,e)})}function dp(t,e){var n=ku(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.wo.nr(t,e).next(function(i){return i?md.resolve(r=i):n.wo.Ui(t).next(function(i){return r=new Ec(e,i,0,t.Ss),n.wo.zi(t,r).next(function(){return r})})})}).then(function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t})}function fp(t,e,n){return Object(_u.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(_u.d)(this,function(a){switch(a.label){case 0:r=ku(t),i=r.dc.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.mi.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!_d(o=a.sent()))throw o;return Su("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}})})}function pp(t,e,n){var r=ku(t),i=Ju.min(),s=_h();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=ku(t),i=r.wc.get(n);return void 0!==i?md.resolve(r.dc.get(i)):r.wo.nr(e,n)}(r,t,pc(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.wo.ar(t,e.targetId).next(function(t){s=t})}).next(function(){return r.fc.jr(t,e,n?i:Ju.min(),n?s:_h())}).next(function(t){return{documents:t,Pc:s}})})}function mp(t,e){var n=ku(t),r=ku(n.wo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Dn(t,e).next(function(t){return t?t.target:null})})}function gp(t){var e=ku(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=ku(t),i=fh(),s=sf(n),o=$f(e),a=IDBKeyRange.lowerBound(s,!0);return o.ls({index:Bd.readTimeIndex,range:a},function(t,e){var n=nf(r.Kt,e);i=i.Ht(n.key,n),s=e.readTime}).next(function(){return{gs:i,readTime:of(s)}})}(e.Tc,t,e.Ec)}).then(function(t){var n=t.gs;return e.Ec=t.readTime,n})}function yp(t){return Object(_u.b)(this,void 0,void 0,function(){var e;return Object(_u.d)(this,function(n){return[2,(e=ku(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=$f(t),n=Ju.min();return e.ls({index:Bd.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=of(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.Ec=t})]})})}function bp(t,e,n,r){return Object(_u.b)(this,void 0,void 0,function(){var i,s,o,a,u,l,c,h,d,f;return Object(_u.d)(this,function(p){switch(p.label){case 0:for(i=ku(t),s=_h(),o=fh(),a=bh(),u=0,l=n;u<l.length;u++)h=e.yc((c=l[u]).metadata.name),c.document&&(s=s.add(h)),o=o.Ht(h,e.gc(c)),a=a.Ht(h,e.Vc(c.metadata.readTime));return d=i.Tc.Or({Gr:!0}),[4,dp(i,function(t){return pc(ac(el.ct("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return cp(t,d,o,Ju.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return i.wo.Zi(t,f.targetId).next(function(){return i.wo.sr(t,s,f.targetId)}).next(function(){return i.Ic.tc(t,e)})})})]}})})}function vp(t,e,n){return void 0===n&&(n=_h()),Object(_u.b)(this,void 0,void 0,function(){var r,i;return Object(_u.d)(this,function(s){switch(s.label){case 0:return[4,dp(t,pc(df(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=ku(t)).persistence.runTransaction("Save named query","readwrite",function(t){var s=Bh(e.readTime);if(r.Mt.u(s)>=0)return i.To.qs(t,e);var o=r.$t(Nu.h,s);return i.dc=i.dc.Ht(o.targetId,o),i.wo.Yi(t,o).next(function(){return i.wo.Zi(t,r.targetId)}).next(function(){return i.wo.sr(t,n,r.targetId)}).next(function(){return i.To.qs(t,e)})})]}})})}var _p=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ls=function(t,e){return md.resolve(this.bc.get(e))},t.prototype.$s=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:Bh(n.createTime)}),md.resolve()},t.prototype.Bs=function(t,e){return md.resolve(this.vc.get(e))},t.prototype.qs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:df(t.bundledQuery),readTime:Bh(t.readTime)}}(e)),md.resolve()},t}(),wp=function(){function t(){this.Sc=new ch(Ep.Dc),this.Cc=new ch(Ep.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.ir=function(t,e){var n=new Ep(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach(function(t){return n.ir(t,e)})},t.prototype.cr=function(t,e){this.Fc(new Ep(t,e))},t.prototype.Oc=function(t,e){var n=this;t.forEach(function(t){return n.cr(t,e)})},t.prototype.kc=function(t){var e=this,n=new il(new el([])),r=new Ep(n,t),i=new Ep(n,t+1),s=[];return this.Cc.Ae([r,i],function(t){e.Fc(t),s.push(t.key)}),s},t.prototype.Mc=function(){var t=this;this.Sc.forEach(function(e){return t.Fc(e)})},t.prototype.Fc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new il(new el([])),n=new Ep(e,t),r=new Ep(e,t+1),i=_h();return this.Cc.Ae([n,r],function(t){i=i.add(t.key)}),i},t.prototype.Mi=function(t){var e=new Ep(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),Ep=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return il.J(t.key,e.key)||Ru(t.$c,e.$c)},t.xc=function(t,e){return Ru(t.$c,e.$c)||il.J(t.key,e.key)},t}(),Sp=function(){function t(t,e){this.Ii=t,this.mi=e,this.Ho=[],this.Bc=1,this.qc=new ch(Ep.Dc)}return t.prototype.Pi=function(t){return md.resolve(0===this.Ho.length)},t.prototype.yi=function(t,e,n,r){var i=this.Bc;this.Bc++;var s=new Jd(i,e,n,r);this.Ho.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.qc=this.qc.add(new Ep(u.key,i)),this.Ii.Qs(t,u.key.path.Z())}return md.resolve(s)},t.prototype.gi=function(t,e){return md.resolve(this.Uc(e))},t.prototype.pi=function(t,e){var n=this.Qc(e+1),r=n<0?0:n;return md.resolve(this.Ho.length>r?this.Ho[r]:null)},t.prototype.bi=function(){return md.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.vi=function(t){return md.resolve(this.Ho.slice())},t.prototype.Si=function(t,e){var n=this,r=new Ep(e,0),i=new Ep(e,Number.POSITIVE_INFINITY),s=[];return this.qc.Ae([r,i],function(t){var e=n.Uc(t.$c);s.push(e)}),md.resolve(s)},t.prototype.Di=function(t,e){var n=this,r=new ch(Ru);return e.forEach(function(t){var e=new Ep(t,0),i=new Ep(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],function(t){r=r.add(t.$c)})}),md.resolve(this.Kc(r))},t.prototype.xi=function(t,e){var n=e.path,r=n.length+1,i=n;il.Et(i)||(i=i.child(""));var s=new Ep(new il(i),0),o=new ch(Ru);return this.qc.Re(function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(o=o.add(t.$c)),!0)},s),md.resolve(this.Kc(o))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.Uc(t);null!==r&&n.push(r)}),n},t.prototype.Ni=function(t,e){var n=this;Iu(0===this.Wc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return md.forEach(e.mutations,function(i){var s=new Ep(i.key,e.batchId);return r=r.delete(s),n.mi.Oi(t,i.key)}).next(function(){n.qc=r})},t.prototype.Fi=function(t){},t.prototype.Mi=function(t,e){var n=new Ep(e,0),r=this.qc.Pe(n);return md.resolve(e.isEqual(r&&r.key))},t.prototype.ki=function(t){return md.resolve()},t.prototype.Wc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),xp=function(){function t(t,e){this.Ii=t,this.jc=e,this.docs=new ah(il.J),this.size=0}return t.prototype.hi=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.jc(e);return this.docs=this.docs.Ht(r,{_i:e,size:o,readTime:n}),this.size+=o-s,this.Ii.Qs(t,r.path.Z())},t.prototype.fi=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.di=function(t,e){var n=this.docs.get(e);return md.resolve(n?n._i:null)},t.prototype.getEntries=function(t,e){var n=this,r=ph();return e.forEach(function(t){var e=n.docs.get(t);r=r.Ht(t,e?e._i:null)}),md.resolve(r)},t.prototype.jr=function(t,e,n){for(var r=gh(),i=new il(e.path.child("")),s=this.docs.ne(i);s.ae();){var o=s.ce(),a=o.value,u=a._i,l=a.readTime;if(!e.path.st(o.key.path))break;l.u(n)<=0||u instanceof Ll&&vc(e,u)&&(r=r.Ht(u.key,u))}return md.resolve(r)},t.prototype.Gc=function(t,e){return md.forEach(this.docs,function(t){return e(t)})},t.prototype.Or=function(t){return new Op(this)},t.prototype.Lr=function(t){return md.resolve(this.size)},t}(),Op=function(t){function e(e){var n=this;return(n=t.call(this)||this).zr=e,n}return Object(_u.c)(e,t),e.prototype.Ti=function(t){var e=this,n=[];return this.ci.forEach(function(r,i){i&&i._i?n.push(e.zr.hi(t,i._i,e.ui(r))):e.zr.fi(r)}),md.$n(n)},e.prototype.wi=function(t,e){return this.zr.di(t,e)},e.prototype.Ei=function(t,e){return this.zr.getEntries(t,e)},e}(xf),Cp=function(){function t(t){this.persistence=t,this.zc=new Sf(function(t){return Bl(t)},Hl),this.lastRemoteSnapshotVersion=Ju.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new wp,this.targetCount=0,this.Yc=Rf.Bi()}return t.prototype.mn=function(t,e){return this.zc.forEach(function(t,n){return e(n)}),md.resolve()},t.prototype.Wi=function(t){return md.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ji=function(t){return md.resolve(this.Hc)},t.prototype.Ui=function(t){return this.highestTargetId=this.Yc.next(),md.resolve(this.highestTargetId)},t.prototype.Gi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),md.resolve()},t.prototype.Hi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new Rf(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.zi=function(t,e){return this.Hi(e),this.targetCount+=1,md.resolve()},t.prototype.Yi=function(t,e){return this.Hi(e),md.resolve()},t.prototype.Xi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,md.resolve()},t.prototype.tr=function(t,e,n){var r=this,i=0,s=[];return this.zc.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.zc.delete(o),s.push(r.Zi(t,a.targetId)),i++)}),md.$n(s).next(function(){return i})},t.prototype.er=function(t){return md.resolve(this.targetCount)},t.prototype.nr=function(t,e){var n=this.zc.get(e)||null;return md.resolve(n)},t.prototype.sr=function(t,e,n){return this.Jc.Nc(e,n),md.resolve()},t.prototype.rr=function(t,e,n){this.Jc.Oc(e,n);var r=this.persistence.mi,i=[];return r&&e.forEach(function(e){i.push(r.Oi(t,e))}),md.$n(i)},t.prototype.Zi=function(t,e){return this.Jc.kc(e),md.resolve()},t.prototype.ar=function(t,e){var n=this.Jc.Lc(e);return md.resolve(n)},t.prototype.Mi=function(t,e){return md.resolve(this.Jc.Mi(e))},t}(),Tp=function(){function t(t,e){var n=this;this.Xc={},this.ro=new Zu(0),this.oo=!1,this.oo=!0,this.mi=t(this),this.wo=new Cp(this),this.Ii=new gf,this.Eo=function(t,e){return new xp(t,function(t){return n.mi.Zc(t)})}(this.Ii),this.Kt=new ef(e),this.To=new _p(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.$o=function(){return this.oo=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Ir",{get:function(){return this.oo},enumerable:!1,configurable:!0}),t.prototype.Vo=function(){},t.prototype.po=function(){},t.prototype.jo=function(){return this.Ii},t.prototype.Wo=function(t){var e=this.Xc[t.R()];return e||(e=new Sp(this.Ii,this.mi),this.Xc[t.R()]=e),e},t.prototype.Cr=function(){return this.wo},t.prototype.kr=function(){return this.Eo},t.prototype.Go=function(){return this.To},t.prototype.runTransaction=function(t,e,n){var r=this;Su("MemoryPersistence","Starting transaction:",t);var i=new Ip(this.ro.next());return this.mi.ta(),n(i).next(function(t){return r.mi.ea(i).next(function(){return t})}).Mn().then(function(t){return i.bs(),t})},t.prototype.na=function(t,e){return md.Bn(Object.values(this.Xc).map(function(n){return function(){return n.Mi(t,e)}}))},t}(),Ip=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ss=e,n}return Object(_u.c)(e,t),e}(kd),kp=function(){function t(t){this.persistence=t,this.sa=new wp,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw Tu()},enumerable:!1,configurable:!0}),t.prototype.ir=function(t,e,n){return this.sa.ir(n,e),this.oa.delete(n.toString()),md.resolve()},t.prototype.cr=function(t,e,n){return this.sa.cr(n,e),this.oa.add(n.toString()),md.resolve()},t.prototype.Oi=function(t,e){return this.oa.add(e.toString()),md.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach(function(t){return n.oa.add(t.toString())});var r=this.persistence.Cr();return r.ar(t,e.targetId).next(function(t){t.forEach(function(t){return n.oa.add(t.toString())})}).next(function(){return r.Xi(t,e)})},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.kr().Or();return md.forEach(this.oa,function(r){var i=il.ft(r);return e.ca(t,i).next(function(t){t||n.fi(i)})}).next(function(){return e.ia=null,n.apply(t)})},t.prototype.Mr=function(t,e){var n=this;return this.ca(t,e).next(function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())})},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return md.Bn([function(){return md.resolve(n.sa.Mi(e))},function(){return n.persistence.Cr().Mi(t,e)},function(){return n.persistence.na(t,e)}])},t}();function Ap(t,e){return"firestore_clients_"+t+"_"+e}function Pp(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function Rp(t,e){return"firestore_targets_"+t+"_"+e}var Dp=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new Mu(i.error.code,i.error.message)),s?new t(e,n,i.state,o):(xu("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),jp=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new Mu(r.error.code,r.error.message)),i?new t(e,r.state,s):(xu("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Np=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Eh(),o=0;i&&o<r.activeTargetIds.length;++o)i=bl(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(xu("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Lp=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(xu("SharedClientState","Failed to parse online state: "+e),null)},t}(),Mp=function(){function t(){this.activeTargetIds=Eh()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Up=function(){function t(t,e,n,r,i){this.window=t,this.no=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new ah(Ru),this.Ir=!1,this.Ia=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=Ap(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new Mp),this.Ra=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.Wn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(_u.b)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,u,l,c=this;return Object(_u.d)(this,function(h){switch(h.label){case 0:return[4,this.fa.Ko()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(Ap(this.persistenceKey,r)))&&(s=Np.aa(r,i))&&(this.Ta=this.Ta.Ht(s.clientId,s));for(this.pa(),(o=this.storage.getItem(this.ga))&&(a=this.ba(o))&&this.va(a),u=0,l=this.Ia;u<l.length;u++)this.Ea(l[u]);return this.Ia=[],this.window.addEventListener("unload",function(){return c.$o()}),this.Ir=!0,[2]}})})},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Fa=function(t,e,n){this.Na(t,e,n),this.Oa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(Rp(this.persistenceKey,t));if(n){var r=jp.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(Rp(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach(function(t){r.Oa(t)}),this.currentUser=t,n.forEach(function(t){r.xa(t)})},t.prototype.Ka=function(t){this.Wa(t)},t.prototype.ja=function(){this.Ga()},t.prototype.$o=function(){this.Ir&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Ir=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Su("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Su("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Su("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Su("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void xu("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.no.vo(function(){return Object(_u.b)(e,void 0,void 0,function(){var t,e,r,i,s,o;return Object(_u.d)(this,function(a){if(this.Ir){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(s=this.ba(n.newValue)))return[2,this.va(s)]}else if(n.key===this.Aa)(o=function(t){var e=Zu.U;if(null!=t)try{var n=JSON.parse(t);Iu("number"==typeof n),e=n}catch(t){xu("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Zu.U&&this.L(o);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new Dp(this.currentUser,t,e,n),i=Pp(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Oa=function(t){var e=Pp(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Wa=function(t){this.storage.setItem(this.ga,JSON.stringify({clientId:this._a,onlineState:t}))},t.prototype.Ua=function(t,e,n){var r=Rp(this.persistenceKey,t),i=new jp(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return Np.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return Dp.aa(new Gu(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return jp.aa(r,e)},t.prototype.ba=function(t){return Lp.aa(t)},t.prototype.Xa=function(t){return Object(_u.b)(this,void 0,void 0,function(){return Object(_u.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(Su("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),s=this.Da(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.fa.iu(o,a).then(function(){n.Ta=r})},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=Eh();return t.forEach(function(t,n){e=e.ye(n.activeTargetIds)}),e},t}(),Fp=function(){function t(){this.ru=new Mp,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Fa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new Mp,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.$o=function(){},t.prototype.q=function(t){},t.prototype.ja=function(){},t}(),Vp=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.$o=function(){},t}(),Bp=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.$o=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){Su("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){Su("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.Wn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Hp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},zp=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),qp=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Object(_u.c)(e,t),e.prototype.Du=function(t,e,n,r){return new Promise(function(i,s){var o=new vu;o.listenOnce(gu.COMPLETE,function(){try{switch(o.getLastErrorCode()){case mu.NO_ERROR:var e=o.getResponseJson();Su("Connection","XHR received:",JSON.stringify(e)),i(e);break;case mu.TIMEOUT:Su("Connection",'RPC "'+t+'" timed out'),s(new Mu(Lu.DEADLINE_EXCEEDED,"Request time out"));break;case mu.HTTP_ERROR:var n=o.getStatus();if(Su("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Lu).indexOf(e)>=0?e:Lu.UNKNOWN}(r.status);s(new Mu(a,r.message))}else s(new Mu(Lu.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Mu(Lu.UNAVAILABLE,"Connection failed."));break;default:Tu()}}finally{Su("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new cu,i=fo(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(s.initMessageHeaders,e),Object(yi.m)()||Object(yi.o)()||Object(yi.k)()||Object(yi.l)()||Object(yi.p)()||Object(yi.j)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");Su("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,l=!1,c=new zp({du:function(t){l?Su("Connection","Not sending because WebChannel is closed:",t):(u||(Su("Connection","Opening WebChannel transport."),a.open(),u=!0),Su("Connection","WebChannel sending:",t),a.send(t))},wu:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,bu.EventType.OPEN,function(){l||Su("Connection","WebChannel transport opened.")}),h(a,bu.EventType.CLOSE,function(){l||(l=!0,Su("Connection","WebChannel transport closed"),c.Pu())}),h(a,bu.EventType.ERROR,function(t){l||(l=!0,Ou("Connection","WebChannel transport errored:",t),c.Pu(new Mu(Lu.UNAVAILABLE,"The operation could not be completed")))}),h(a,bu.EventType.MESSAGE,function(t){var e;if(!l){var n=t.data[0];Iu(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Su("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=th[t];if(void 0!==e)return oh(e)}(i),o=r.message;void 0===s&&(s=Lu.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),l=!0,c.Pu(new Mu(s,o)),a.close()}else Su("Connection","WebChannel received:",n),c.yu(n)}}),h(i,yu.STAT_EVENT,function(t){10===t.stat?Su("Connection","Detected buffering proxy"):11===t.stat&&Su("Connection","Detected no buffering proxy")}),setTimeout(function(){c.Ru()},0),c},e}(function(){function t(t){this.gu=t,this.T=t.T,this.Vu=(t.ssl?"https":"http")+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);Su("RestConnection","Sending: ",i,n);var s={};return this.Su(s,r),this.Du(t,i,s,n).then(function(t){return Su("RestConnection","Received: ",t),t},function(e){throw Ou("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.1",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){return this.Vu+"/v1/"+e+":"+Hp[t]},t}());function Gp(){return"undefined"!=typeof window?window:null}function $p(){return"undefined"!=typeof document?document:null}function Wp(t){return new Mh(t,!0)}var Kp=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.no=t,this.ds=e,this.Nu=n,this.Fu=r,this.Ou=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Ou},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&Su("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.no.mr(this.ds,i,function(){return e.Lu=Date.now(),t()}),this.ku*=this.Fu,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Ou&&(this.ku=this.Ou)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),Qp=function(){function t(t,e,n,r,i,s){this.no=t,this.Qu=n,this.Ku=r,this.Wu=i,this.listener=s,this.state=0,this.ju=0,this.Gu=null,this.stream=null,this.zu=new Kp(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return Object(_u.b)(this,void 0,void 0,function(){return Object(_u.d)(this,function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.no.mr(this.Qu,6e4,function(){return t.th()}))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return Object(_u.b)(this,void 0,void 0,function(){return Object(_u.d)(this,function(t){return this.Ju()?[2,this.close(0)]:[2]})})},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return Object(_u.b)(this,void 0,void 0,function(){return Object(_u.d)(this,function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.ju++,3!==t?this.zu.reset():e&&e.code===Lu.RESOURCE_EXHAUSTED?(xu(e.toString()),xu("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===Lu.UNAUTHENTICATED&&this.Wu.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}})})},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.ju),n=this.ju;this.Wu.getToken().then(function(e){t.ju===n&&t.rh(e)},function(n){e(function(){var e=new Mu(Lu.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)})})},t.prototype.rh=function(t){var e=this,n=this.ih(this.ju);this.stream=this.ah(t),this.stream.Eu(function(){n(function(){return e.state=2,e.listener.Eu()})}),this.stream.Iu(function(t){n(function(){return e.oh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu(function(){return Object(_u.b)(t,void 0,void 0,function(){return Object(_u.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.oh=function(t){return Su("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.no.ys(function(){return e.ju===t?n():(Su("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Yp=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).Kt=i,o}return Object(_u.c)(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Tu()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.qt?(Iu(void 0===e||"string"==typeof e),Nu.fromBase64String(e||"")):(Iu(void 0===e||e instanceof Uint8Array),Nu.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Lu.UNKNOWN:oh(t.code);return new Mu(e,t.message||"")}(a);n=new Ah(r,i,s,o||null)}else if("documentChange"in e){i=Gh(t,(r=e.documentChange).document.name),s=Bh(r.document.updateTime);var a=new Rl({mapValue:{fields:r.document.fields}}),u=(o=new Ll(i,s,a,{}),r.targetIds||[]);n=new Ih(u,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=Gh(t,(r=e.documentDelete).document),s=r.readTime?Bh(r.readTime):Ju.min(),a=new Ml(i,s),n=new Ih([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Gh(t,(r=e.documentRemove).document),n=new Ih([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Tu();var l=e.filter;i=new ih(r=l.count||0),n=new kh(s=l.targetId,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return Ju.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Ju.min():e.readTime?Bh(e.readTime):Ju.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=Kh(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=zl(r)?{documents:td(t,r)}:{query:ed(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=Fh(t,e.resumeToken):e.Mt.u(Ju.min())>0&&(n.readTime=Uh(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Tu()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=Kh(this.Kt),e.removeTarget=t,this.eh(e)},e}(Qp),Zp=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).Kt=i,o._h=!1,o}return Object(_u.c)(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(Iu(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(Iu(void 0!==e),t.map(function(t){return function(t,e){var n=Bh(t.updateTime?t.updateTime:e);n.isEqual(Ju.min())&&(n=Bh(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Fc(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=Bh(t.commitTime);return this.listener.wh(n,e)}return Iu(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=Kh(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Xh(e.Kt,t)})};this.eh(n)},e}(Qp),Xp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return Object(_u.c)(e,t),e.prototype.mh=function(){if(this.Ih)throw new Mu(Lu.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.bu(t,e,n,i)}).catch(function(t){throw t.code===Lu.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.Cu(t,e,n,i)}).catch(function(t){throw t.code===Lu.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.terminate=function(){this.Ih=!1},e}(function(){}),Jp=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.mr("online_state_timeout",1e4,function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()}))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(xu(e),this.Ph=!1):Su("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),tm=function(t,e,n,r,i){var s=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Fh=new Set,this.Oh=[],this.kh=i,this.kh.cu(function(t){n.ys(function(){return Object(_u.b)(s,void 0,void 0,function(){return Object(_u.d)(this,function(t){switch(t.label){case 0:return lm(this)?(Su("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(_u.b)(this,void 0,void 0,function(){var e;return Object(_u.d)(this,function(n){switch(n.label){case 0:return(e=ku(t)).Fh.add(4),[4,nm(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Fh.delete(4),[4,em(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Mh=new Jp(n,r)};function em(t){return Object(_u.b)(this,void 0,void 0,function(){var e,n;return Object(_u.d)(this,function(r){switch(r.label){case 0:if(!lm(t))return[3,4];e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function nm(t){return Object(_u.b)(this,void 0,void 0,function(){var e,n;return Object(_u.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function rm(t,e){var n=ku(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),um(n)?am(n):xm(n).Ju()&&sm(n,e))}function im(t,e){var n=ku(t),r=xm(n);n.Nh.delete(e),r.Ju()&&om(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():lm(n)&&n.Mh.set("Unknown"))}function sm(t,e){t.Lh.cn(e.targetId),xm(t).hh(e)}function om(t,e){t.Lh.cn(e),xm(t).lh(e)}function am(t){t.Lh=new Rh({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),xm(t).start(),t.Mh.yh()}function um(t){return lm(t)&&!xm(t).Hu()&&t.Nh.size>0}function lm(t){return 0===ku(t).Fh.size}function cm(t){t.Lh=void 0}function hm(t){return Object(_u.b)(this,void 0,void 0,function(){return Object(_u.d)(this,function(e){return t.Nh.forEach(function(e,n){sm(t,e)}),[2]})})}function dm(t,e){return Object(_u.b)(this,void 0,void 0,function(){return Object(_u.d)(this,function(n){return cm(t),um(t)?(t.Mh.ph(e),am(t)):t.Mh.set("Unknown"),[2]})})}function fm(t,e,n){return Object(_u.b)(this,void 0,void 0,function(){var r,i,s;return Object(_u.d)(this,function(o){switch(o.label){case 0:if(t.Mh.set("Online"),!(e instanceof Ah&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(_u.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(_u.d)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.Nh.has(s=i[r])?[4,t.Ch.$h(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Nh.delete(s),t.Lh.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),Su("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,pm(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Ih?t.Lh.wn(e):e instanceof kh?t.Lh.yn(e):t.Lh.In(e),n.isEqual(Ju.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,up(t.Sh)];case 8:return i=o.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Oe.forEach(function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}}),n.ke.forEach(function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(Nu.h,n.Mt)),om(t,e);var r=new Ec(n.target,e,1,n.sequenceNumber);sm(t,r)}}),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Su("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,pm(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function pm(t,e,n){return Object(_u.b)(this,void 0,void 0,function(){var r=this;return Object(_u.d)(this,function(i){switch(i.label){case 0:if(!_d(e))throw e;return t.Fh.add(1),[4,nm(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return up(t.Sh)}),t.fs.vo(function(){return Object(_u.b)(r,void 0,void 0,function(){return Object(_u.d)(this,function(e){switch(e.label){case 0:return Su("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Fh.delete(1),[4,em(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function mm(t,e){return e().catch(function(n){return pm(t,n,e)})}function gm(t){return Object(_u.b)(this,void 0,void 0,function(){var e,n,r,i,s;return Object(_u.d)(this,function(o){switch(o.label){case 0:e=ku(t),n=Om(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return lm(t)&&t.xh.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,hp(e.Sh,r)];case 3:return null===(i=o.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=Om(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,pm(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return ym(e)&&bm(e),[2]}})})}function ym(t){return lm(t)&&!Om(t).Hu()&&t.xh.length>0}function bm(t){Om(t).start()}function vm(t){return Object(_u.b)(this,void 0,void 0,function(){return Object(_u.d)(this,function(e){return Om(t).Th(),[2]})})}function _m(t){return Object(_u.b)(this,void 0,void 0,function(){var e,n,r;return Object(_u.d)(this,function(i){for(e=Om(t),n=0,r=t.xh;n<r.length;n++)e.dh(r[n].mutations);return[2]})})}function wm(t,e,n){return Object(_u.b)(this,void 0,void 0,function(){var r,i;return Object(_u.d)(this,function(s){switch(s.label){case 0:return r=t.xh.shift(),i=tf.from(r,e,n),[4,mm(t,function(){return t.Ch.qh(i)})];case 1:return s.sent(),[4,gm(t)];case 2:return s.sent(),[2]}})})}function Em(t,e){return Object(_u.b)(this,void 0,void 0,function(){return Object(_u.d)(this,function(n){switch(n.label){case 0:return e&&Om(t).fh?[4,function(t,e){return Object(_u.b)(this,void 0,void 0,function(){var n,r;return Object(_u.d)(this,function(i){switch(i.label){case 0:return sh(r=e.code)&&r!==Lu.ABORTED?(n=t.xh.shift(),Om(t).Xu(),[4,mm(t,function(){return t.Ch.Uh(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,gm(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return ym(t)&&bm(t),[2]}})})}function Sm(t,e){return Object(_u.b)(this,void 0,void 0,function(){var n;return Object(_u.d)(this,function(r){switch(r.label){case 0:return n=ku(t),e?(n.Fh.delete(2),[4,em(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Fh.add(2),[4,nm(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function xm(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=ku(t);return r.mh(),new Yp(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:hm.bind(null,t),Iu:dm.bind(null,t),uh:fm.bind(null,t)}),t.Oh.push(function(n){return Object(_u.b)(e,void 0,void 0,function(){return Object(_u.d)(this,function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),um(t)?am(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),cm(t),e.label=3;case 3:return[2]}})})})),t.Qh}function Om(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=ku(t);return r.mh(),new Zp(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:vm.bind(null,t),Iu:Em.bind(null,t),Eh:_m.bind(null,t),wh:wm.bind(null,t)}),t.Oh.push(function(n){return Object(_u.b)(e,void 0,void 0,function(){return Object(_u.d)(this,function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,gm(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(Su("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}})})})),t.Kh}var Cm=function(){this.Wh=void 0,this.listeners=[]},Tm=function(){this.queries=new Sf(function(t){return yc(t)},gc),this.onlineState="Unknown",this.jh=new Set};function Im(t,e){return Object(_u.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(_u.d)(this,function(l){switch(l.label){case 0:if(n=ku(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new Cm),!i)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),o=s,[4,n.Gh(r)];case 2:return o.Wh=l.sent(),[3,4];case 3:return a=l.sent(),u=Cd(a,"Initialization of query '"+bc(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zh(n.onlineState),s.Wh&&e.Hh(s.Wh)&&Rm(n),[2]}})})}function km(t,e){return Object(_u.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(_u.d)(this,function(a){return n=ku(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]})})}function Am(t,e){for(var n=ku(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,l=a.listeners;u<l.length;u++)l[u].Hh(o)&&(r=!0);a.Wh=o}}r&&Rm(n)}function Pm(t,e,n){var r=ku(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function Rm(t){t.jh.forEach(function(t){t.next()})}var Dm=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Oh(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var s=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),s=!0):this.el(t,this.onlineState)&&(this.nl(t),s=!0),this.Zh=t,s},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){return!t.fromCache||!(this.options.sl&&"Offline"!==e||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){return t.docChanges.length>0||!!(t.xe||this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=Oh.Fe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),jm=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),Nm=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return Gh(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?Zh(this.Kt,t.document,!1):new Ml(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return Bh(t)},t}();!function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new Nm(this.Kt),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.yc(s.metadata.name),a=0,u=s.metadata.queries;a<u.length;a++){var l=u[a],c=(e.get(l)||_h()).add(o);e.set(l,c)}}return e},t.prototype.complete=function(){return Object(_u.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(_u.d)(this,function(s){switch(s.label){case 0:return[4,bp(this.Sh,new Nm(this.Kt),this.documents,this.rl.id)];case 1:t=s.sent(),e=this.cl(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,vp(this.Sh,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Td(Object.assign({},this.progress),t))]}})})}}();var Lm=function(t){this.key=t},Mm=function(t){this.key=t},Um=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=_h(),this.Ce=_h(),this.ll=_c(t),this._l=new Sh(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new xh,i=e?e._l:this._l,s=e?e.Ce:this.Ce,o=i,a=!1,u=uc(this.query)&&i.size===this.query.limit?i.last():null,l=lc(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt(function(t,e){var c=i.get(t),h=e instanceof Ll?e:null;h&&(h=vc(n.query,h)?h:null);var d=!!c&&n.Ce.has(c.key),f=!!h&&(h.bt||n.Ce.has(h.key)&&h.hasCommittedMutations),p=!1;c&&h?c.data().isEqual(h.data())?d!==f&&(r.track({type:3,doc:h}),p=!0):n.El(c,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.ll(h,u)>0||l&&n.ll(h,l)<0)&&(a=!0)):!c&&h?(r.track({type:0,doc:h}),p=!0):c&&!h&&(r.track({type:1,doc:c}),p=!0,(u||l)&&(a=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),uc(this.query)||lc(this.query))for(;o.size>this.query.limit;){var c=uc(this.query)?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{_l:o,wl:r,_c:a,Ce:s}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ti=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var s=t.wl.Se();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tu()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)}),this.Tl(n);var o=e?this.Il():[],a=0===this.hl.size&&this.qe?1:0,u=a!==this.ul;return this.ul=a,0!==s.length||u?{snapshot:new Oh(this.query,t._l,i,s,t.Ce,0===a,u,!1),ml:o}:{ml:o}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ti({_l:this._l,wl:new xh,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach(function(t){return e.al=e.al.add(t)}),t.Qe.forEach(function(t){}),t.Ke.forEach(function(t){return e.al=e.al.delete(t)}),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=_h(),this._l.forEach(function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))});var n=[];return e.forEach(function(e){t.hl.has(e)||n.push(new Mm(e))}),this.hl.forEach(function(t){e.has(t)||n.push(new Lm(t))}),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=_h();var e=this.dl(t.documents);return this.Ti(e,!0)},t.prototype.Pl=function(){return Oh.Fe(this.query,this._l,this.Ce,0===this.ul)},t}(),Fm=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Vm=function(t){this.key=t,this.yl=!1},Bm=function(){function t(t,e,n,r,i,s){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=s,this.vl={},this.Sl=new Sf(function(t){return yc(t)},gc),this.Dl=new Map,this.Cl=[],this.xl=new ah(il.J),this.Nl=new Map,this.Fl=new wp,this.Ol={},this.kl=new Map,this.Ml=Rf.qi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function Hm(t,e){return Object(_u.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(_u.d)(this,function(a){switch(a.label){case 0:return n=yg(t),(i=n.Sl.get(e))?(n.pl.ka(i.targetId),r=i.view.Pl(),[3,4]):[3,1];case 1:return[4,dp(n.Sh,pc(e))];case 2:return s=a.sent(),o=n.pl.ka(s.targetId),[4,zm(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.$l&&rm(n.gl,s),a.label=4;case 4:return[2,r]}})})}function zm(t,e,n,r){return Object(_u.b)(this,void 0,void 0,function(){var i,s,o,a,u,l;return Object(_u.d)(this,function(c){switch(c.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return Object(_u.b)(this,void 0,void 0,function(){var i,s,o;return Object(_u.d)(this,function(a){switch(a.label){case 0:return(i=e.view.dl(n))._c?[4,pp(t.Sh,e.query,!1).then(function(t){return e.view.dl(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.Oe.get(e.targetId),o=e.view.Ti(i,t.$l,s),[2,(ng(t,e.targetId,o.ml),o.snapshot)]}})})}(t,e,n,r)},[4,pp(t.Sh,e,!0)];case 1:return i=c.sent(),s=new Um(e,i.Pc),o=s.dl(i.documents),a=Th.Be(n,r&&"Offline"!==t.onlineState),u=s.Ti(o,t.$l,a),ng(t,n,u.ml),l=new Fm(e,n,s),[2,(t.Sl.set(e,l),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),u.snapshot)]}})})}function qm(t,e){return Object(_u.b)(this,void 0,void 0,function(){var n,r,i;return Object(_u.d)(this,function(s){switch(s.label){case 0:return n=ku(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter(function(t){return!gc(t,e)})),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,fp(n.Sh,r.targetId,!1).then(function(){n.pl.Ba(r.targetId),im(n.gl,r.targetId),tg(n,r.targetId)}).catch(Ef)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return tg(n,r.targetId),[4,fp(n.Sh,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function Gm(t,e,n){return Object(_u.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(_u.d)(this,function(a){switch(a.label){case 0:r=bg(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=ku(t),i=Xu.now(),s=e.reduce(function(t,e){return t.add(e.key)},_h());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Ic.Zo(t,s).next(function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var l=u[a],c=Gc(l,n.get(l.key));null!=c&&o.push(new Qc(l.key,c,jl(c.proto.mapValue),Vc.exists(!0)))}return r.Ho.yi(t,i,o,e)})}).then(function(t){var e=t.Fs(n);return{batchId:t.batchId,ci:e}})}(r.Sh,e)];case 2:return i=a.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Ol[t.currentUser.R()];r||(r=new ah(Ru)),r=r.Ht(e,n),t.Ol[t.currentUser.R()]=r}(r,i.batchId,n),[4,sg(r,i.ci)];case 3:return a.sent(),[4,gm(r.gl)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=Cd(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function $m(t,e){return Object(_u.b)(this,void 0,void 0,function(){var n,r;return Object(_u.d)(this,function(i){switch(i.label){case 0:n=ku(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,lp(n.Sh,e)];case 2:return r=i.sent(),e.Oe.forEach(function(t,e){var r=n.Nl.get(e);r&&(Iu(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?Iu(r.yl):t.Ke.size>0&&(Iu(r.yl),r.yl=!1))}),[4,sg(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Ef(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Wm(t,e,n){var r=ku(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach(function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=ku(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].zh(e)&&(r=!0)}),r&&Rm(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function Km(t,e,n){return Object(_u.b)(this,void 0,void 0,function(){var r,i,s,o,a,u;return Object(_u.d)(this,function(l){switch(l.label){case 0:return(r=ku(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(s=i&&i.key)?(o=(o=new ah(il.J)).Ht(s,new Ml(s,Ju.min())),a=_h().add(s),u=new Ch(Ju.min(),new Map,new ch(Ru),o,a),[4,$m(r,u)]):[3,2];case 1:return l.sent(),r.xl=r.xl.remove(s),r.Nl.delete(e),ig(r),[3,4];case 2:return[4,fp(r.Sh,e,!1).then(function(){return tg(r,e,n)}).catch(Ef)];case 3:l.sent(),l.label=4;case 4:return[2]}})})}function Qm(t,e){return Object(_u.b)(this,void 0,void 0,function(){var n,r,i;return Object(_u.d)(this,function(s){switch(s.label){case 0:n=ku(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,ap(n.Sh,e)];case 2:return i=s.sent(),Jm(n,r,null),Xm(n,r),n.pl.Fa(r,"acknowledged"),[4,sg(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Ef(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Ym(t,e,n){return Object(_u.b)(this,void 0,void 0,function(){var r,i;return Object(_u.d)(this,function(s){switch(s.label){case 0:r=ku(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=ku(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.Ho.gi(t,e).next(function(e){return Iu(null!==e),r=e.keys(),n.Ho.Ni(t,e)}).next(function(){return n.Ho.ki(t)}).next(function(){return n.Ic.Zo(t,r)})})}(r.Sh,e)];case 2:return i=s.sent(),Jm(r,e,n),Xm(r,e),r.pl.Fa(e,"rejected",n),[4,sg(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Ef(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Zm(t,e){return Object(_u.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(_u.d)(this,function(a){switch(a.label){case 0:lm((n=ku(t)).gl)||Su("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=ku(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Ho.bi(t)})}(n.Sh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return s=a.sent(),o=Cd(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function Xm(t,e){(t.kl.get(e)||[]).forEach(function(t){t.resolve()}),t.kl.delete(e)}function Jm(t,e,n){var r=ku(t),i=r.Ol[r.currentUser.R()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ol[r.currentUser.R()]=i}}function tg(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var s=i[r];t.Sl.delete(s),n&&t.vl.ql(s,n)}t.Dl.delete(e),t.$l&&t.Fl.kc(e).forEach(function(e){t.Fl.Mi(e)||eg(t,e)})}function eg(t,e){var n=t.xl.get(e);null!==n&&(im(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),ig(t))}function ng(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof Lm?(t.Fl.ir(s.key,e),rg(t,s)):s instanceof Mm?(Su("SyncEngine","Document no longer in limbo: "+s.key),t.Fl.cr(s.key,e),t.Fl.Mi(s.key)||eg(t,s.key)):Tu()}}function rg(t,e){var n=e.key;t.xl.get(n)||(Su("SyncEngine","New document in limbo: "+n),t.Cl.push(n),ig(t))}function ig(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new Vm(e)),t.xl=t.xl.Ht(e,n),rm(t.gl,new Ec(pc(ac(e.path)),n,2,Zu.U))}}function sg(t,e,n){return Object(_u.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(_u.d)(this,function(a){switch(a.label){case 0:return r=ku(t),i=[],s=[],o=[],r.Sl.nt()?[3,3]:(r.Sl.forEach(function(t,a){o.push(r.Bl(a,e,n).then(function(t){if(t){r.$l&&r.pl.qa(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=np.cc(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.vl.uh(i),[4,function(t,e){return Object(_u.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,l;return Object(_u.d)(this,function(c){switch(c.label){case 0:n=ku(t),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return md.forEach(e,function(e){return md.forEach(e.rc,function(r){return n.persistence.mi.ir(t,e.targetId,r)}).next(function(){return md.forEach(e.oc,function(r){return n.persistence.mi.cr(t,e.targetId,r)})})})})];case 2:return c.sent(),[3,4];case 3:if(!_d(r=c.sent()))throw r;return Su("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.dc.get(a),l=u.Bt(u.Mt),n.dc=n.dc.Ht(a,l));return[2]}})})}(r.Sh,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function og(t,e){return Object(_u.b)(this,void 0,void 0,function(){var n,r;return Object(_u.d)(this,function(i){switch(i.label){case 0:return(n=ku(t)).currentUser.isEqual(e)?[3,3]:(Su("SyncEngine","User change. New user:",e.R()),[4,op(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach(function(t){t.forEach(function(t){t.reject(new Mu(Lu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,sg(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function ag(t,e){var n=ku(t),r=n.Nl.get(e);if(r&&r.yl)return _h().add(r.key);var i=_h(),s=n.Dl.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Sl.get(a[o]);i=i.ye(u.view.fl)}return i}function ug(t,e){return Object(_u.b)(this,void 0,void 0,function(){var n,r,i;return Object(_u.d)(this,function(s){switch(s.label){case 0:return[4,pp((n=ku(t)).Sh,e.query,!0)];case 1:return r=s.sent(),i=e.view.Rl(r),[2,(n.$l&&ng(n,e.targetId,i.ml),i)]}})})}function lg(t){return Object(_u.b)(this,void 0,void 0,function(){var e;return Object(_u.d)(this,function(n){return[2,gp((e=ku(t)).Sh).then(function(t){return sg(e,t)})]})})}function cg(t,e,n,r){return Object(_u.b)(this,void 0,void 0,function(){var i,s;return Object(_u.d)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=ku(t),r=ku(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.Vi(t,e).next(function(e){return e?n.Ic.Zo(t,e):md.resolve(null)})})}((i=ku(t)).Sh,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,gm(i.gl)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Jm(i,e,r||null),Xm(i,e),function(t,e){ku(ku(t).Ho).Fi(e)}(i.Sh,e)):Tu(),o.label=4;case 4:return[4,sg(i,s)];case 5:return o.sent(),[3,7];case 6:Su("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function hg(t,e){return Object(_u.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(_u.d)(this,function(l){switch(l.label){case 0:return yg(n=ku(t)),bg(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,dg(n,r.rt())]);case 1:return i=l.sent(),n.Ll=!0,[4,Sm(n.gl,!0)];case 2:for(l.sent(),s=0,o=i;s<o.length;s++)rm(n.gl,o[s]);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(a=[],u=Promise.resolve(),n.Dl.forEach(function(t,e){n.pl.$a(e)?a.push(e):u=u.then(function(){return tg(n,e),fp(n.Sh,e,!0)}),im(n.gl,e)}),[4,u]);case 4:return l.sent(),[4,dg(n,a)];case 5:return l.sent(),function(t){var e=ku(t);e.Nl.forEach(function(t,n){im(e.gl,n)}),e.Fl.Mc(),e.Nl=new Map,e.xl=new ah(il.J)}(n),n.Ll=!1,[4,Sm(n.gl,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}})})}function dg(t,e,n){return Object(_u.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,l,c,h,d,f,p;return Object(_u.d)(this,function(m){switch(m.label){case 0:n=ku(t),r=[],i=[],s=0,o=e,m.label=1;case 1:return s<o.length?(u=void 0,(l=n.Dl.get(a=o[s]))&&0!==l.length?[4,dp(n.Sh,pc(l[0]))]:[3,7]):[3,13];case 2:u=m.sent(),c=0,h=l,m.label=3;case 3:return c<h.length?(d=n.Sl.get(h[c]),[4,ug(n,d)]):[3,6];case 4:(f=m.sent()).snapshot&&i.push(f.snapshot),m.label=5;case 5:return c++,[3,3];case 6:return[3,11];case 7:return[4,mp(n.Sh,a)];case 8:return p=m.sent(),[4,dp(n.Sh,p)];case 9:return u=m.sent(),[4,zm(n,fg(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}})})}function fg(t){return oc(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function pg(t){var e=ku(t);return ku(ku(e.Sh).persistence).Ko()}function mg(t,e,n,r){return Object(_u.b)(this,void 0,void 0,function(){var i,s,o;return Object(_u.d)(this,function(a){switch(a.label){case 0:return(i=ku(t)).Ll?(Su("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,gp(i.Sh)];case 3:return s=a.sent(),o=Ch.$e(e,"current"===n),[4,sg(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,fp(i.Sh,e,!0)];case 6:return a.sent(),tg(i,e,r),[3,8];case 7:Tu(),a.label=8;case 8:return[2]}})})}function gg(t,e,n){return Object(_u.b)(this,void 0,void 0,function(){var r,i,s,o,a,u,l,c,h;return Object(_u.d)(this,function(d){switch(d.label){case 0:if(!(r=yg(t)).Ll)return[3,10];i=0,s=e,d.label=1;case 1:return i<s.length?r.Dl.has(o=s[i])?(Su("SyncEngine","Adding an already active target "+o),[3,5]):[4,mp(r.Sh,o)]:[3,6];case 2:return a=d.sent(),[4,dp(r.Sh,a)];case 3:return u=d.sent(),[4,zm(r,fg(a),u.targetId,!1)];case 4:d.sent(),rm(r.gl,u),d.label=5;case 5:return i++,[3,1];case 6:l=function(t){return Object(_u.d)(this,function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,fp(r.Sh,t,!1).then(function(){im(r.gl,t),tg(r,t)}).catch(Ef)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},c=0,h=n,d.label=7;case 7:return c<h.length?[5,l(h[c])]:[3,10];case 8:d.sent(),d.label=9;case 9:return c++,[3,7];case 10:return[2]}})})}function yg(t){var e=ku(t);return e.gl.Ch.Bh=$m.bind(null,e),e.gl.Ch.Sn=ag.bind(null,e),e.gl.Ch.$h=Km.bind(null,e),e.vl.uh=Am.bind(null,e.Vl),e.vl.ql=Pm.bind(null,e.Vl),e}function bg(t){var e=ku(t);return e.gl.Ch.qh=Qm.bind(null,e),e.gl.Ch.Uh=Ym.bind(null,e),e}var vg=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(_u.b)(this,void 0,void 0,function(){return Object(_u.d)(this,function(e){switch(e.label){case 0:return this.Kt=Wp(t.gu.T),this.pl=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}})})},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return sp(this.persistence,new rp,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new Tp(kp.ra,this.Kt)},t.prototype.jl=function(t){return new Fp},t.prototype.terminate=function(){return Object(_u.b)(this,void 0,void 0,function(){return Object(_u.d)(this,function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.$o()];case 1:return t.sent(),[4,this.persistence.$o()];case 2:return t.sent(),[2]}})})},t}(),_g=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(_u.c)(e,t),e.prototype.initialize=function(e){return Object(_u.b)(this,void 0,void 0,function(){return Object(_u.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,yp(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,bg(this.Xl.fa)];case 4:return n.sent(),[4,gm(this.Xl.gl)];case 5:return n.sent(),[2]}})})},e.prototype.Jl=function(t){return sp(this.persistence,new rp,t.Yl,this.Kt)},e.prototype.Hl=function(t){return new Ff(this.persistence.mi.dr,t.fs)},e.prototype.Gl=function(t){var e=tp(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?wf.Zs(this.cacheSizeBytes):wf.ni;return new Zf(this.synchronizeTabs,e,t.clientId,n,t.fs,Gp(),$p(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.jl=function(t){return new Fp},e}(vg),wg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(_u.c)(e,t),e.prototype.initialize=function(e){return Object(_u.b)(this,void 0,void 0,function(){var n,r=this;return Object(_u.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof Up?(this.pl.fa={nu:cg.bind(null,n),su:mg.bind(null,n),iu:gg.bind(null,n),Ko:pg.bind(null,n),eu:lg.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.yo(function(t){return Object(_u.b)(r,void 0,void 0,function(){return Object(_u.d)(this,function(e){switch(e.label){case 0:return[4,hg(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Ir?this.zl.start(this.Sh):t||this.zl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.jl=function(t){var e=Gp();if(!Up.Wn(e))throw new Mu(Lu.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=tp(t.gu.T,t.gu.persistenceKey);return new Up(e,t.fs,n,t.clientId,t.Yl)},e}(_g),Eg=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(_u.b)(this,void 0,void 0,function(){var n=this;return Object(_u.d)(this,function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return Wm(n.fa,t,1)},this.gl.Ch.s_=og.bind(null,this.fa),[4,Sm(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.e_=function(t){return new Tm},t.prototype.Zl=function(t){var e=Wp(t.gu.T),n=new qp(t.gu);return function(t,e,n){return new Xp(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,s,o=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return Wm(o.fa,t,0)},s=Bp.Wn()?new Bp:new Vp,new tm(e,n,r,i,s)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,s,o){var a=new Bm(t,e,n,r,i,s);return o&&(a.Ll=!0),a}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return Object(_u.b)(this,void 0,void 0,function(){var e;return Object(_u.d)(this,function(n){switch(n.label){case 0:return e=ku(t),Su("RemoteStore","RemoteStore shutting down."),e.Fh.add(5),[4,nm(e)];case 1:return n.sent(),e.kh.$o(),e.Mh.set("Unknown"),[2]}})})}(this.gl)},t}(),Sg=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),xg=(function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new pd,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then(function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return Object(_u.b)(this,void 0,void 0,function(){return Object(_u.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Kl=function(){return Object(_u.b)(this,void 0,void 0,function(){return Object(_u.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}})})},t.prototype.a_=function(){return Object(_u.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(_u.d)(this,function(i){switch(i.label){case 0:return[4,this.u_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return r=i.sent(),[2,new jm(JSON.parse(r),t.length+n)]}})})},t.prototype.__=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.u_=function(){return Object(_u.b)(this,void 0,void 0,function(){var t,e;return Object(_u.d)(this,function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.l_=function(t){return Object(_u.b)(this,void 0,void 0,function(){var e;return Object(_u.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return Object(_u.b)(this,void 0,void 0,function(){var t,e;return Object(_u.d)(this,function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Mu(Lu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new rl(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}()),Og=function(t){this._methodName=t};function Cg(t,e,n){if(!n)throw new Mu(Lu.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Tg(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Mu(Lu.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Ig(t,e,n,r){if(!0===e&&!0===r)throw new Mu(Lu.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function kg(t){if(!il.Et(t))throw new Mu(Lu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Ag(t){if(il.Et(t))throw new Mu(Lu.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Pg(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Tu()}function Rg(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new Mu(Lu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Pg(t);throw new Mu(Lu.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Dg(t,e){if(e<=0)throw new Mu(Lu.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var jg=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Mu(Lu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Mu(Lu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Ig("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Ng=new Map,Lg=function(){function t(t,e){this.w_="(lite)",this.E_=new jg({}),this.T_=!1,t instanceof qu?(this.I_=t,this.m_=new Wu):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Mu(Lu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qu(t.options.projectId)}(t),this.m_=new Ku(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new Mu(Lu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new Mu(Lu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new jg(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new Wu;switch(t.type){case"gapi":var e=t.client;return Iu(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Yu(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Mu(Lu.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.b_=function(){return(t=Ng.get(this))&&(Su("ComponentProvider","Removing Datastore"),Ng.delete(this),t.terminate()),Promise.resolve();var t},t}(),Mg=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Fg(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),Ug=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),Fg=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,ac(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(_u.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new Mg(this.firestore,null,new il(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(Ug);function Vg(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Fu&&(t=t._),Cg("collection","path",e),t instanceof Lg)return Ag(n=el.ct.apply(el,Object(_u.g)([e],r))),new Fg(t,null,n);if(!(t instanceof Mg||t instanceof Fg))throw new Mu(Lu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ag(n=el.ct.apply(el,Object(_u.g)([t.path],r)).child(el.ct(e))),new Fg(t.firestore,null,n)}function Bg(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Fu&&(t=t._),1===arguments.length&&(e=Pu.t()),Cg("doc","path",e),t instanceof Lg)return kg(n=el.ct.apply(el,Object(_u.g)([e],r))),new Mg(t,null,new il(n));if(!(t instanceof Mg||t instanceof Fg))throw new Mu(Lu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return kg(n=t.D_.child(el.ct.apply(el,Object(_u.g)([e],r)))),new Mg(t.firestore,t instanceof Fg?t.v_:null,new il(n))}function Hg(t,e){return t instanceof Fu&&(t=t._),e instanceof Fu&&(e=e._),(t instanceof Mg||t instanceof Fg)&&(e instanceof Mg||e instanceof Fg)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function zg(t,e){return t instanceof Fu&&(t=t._),e instanceof Fu&&(e=e._),t instanceof Ug&&e instanceof Ug&&t.firestore===e.firestore&&gc(t.C_,e.C_)&&t.v_===e.v_}var qg=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Mu(Lu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Mu(Lu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return Ru(this.x_,t.x_)||Ru(this.N_,t.N_)},t}(),Gg=/^__.*__$/,$g=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.zt?new Qc(t,this.data,this.zt,e,this.fieldTransforms):new Kc(t,this.data,e,this.fieldTransforms)},t}(),Wg=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new Qc(t,this.data,this.zt,e,this.fieldTransforms)},t}();function Kg(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tu()}}var Qg=function(){function t(t,e,n,r,i,s){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.zt=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return my(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.zt.find(function(e){return t.st(e)})||void 0!==this.fieldTransforms.find(function(e){return t.st(e.field)})},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(Kg(this.k_)&&Gg.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),Yg=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||Wp(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new Qg({k_:t,methodName:e,j_:n,path:rl.at(),B_:!1,W_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function Zg(t){var e=t.p_(),n=Wp(t.I_);return new Yg(t.I_,!!e.ignoreUndefinedProperties,n)}function Xg(t,e,n,r,i,s){void 0===s&&(s={});var o=t.G_(s.merge||s.mergeFields?2:0,e,n,i);hy("Data must be an object, but it was:",o,r);var a,u,l=ly(r,o);if(s.merge)a=new ul(o.zt),u=o.fieldTransforms;else if(s.mergeFields){for(var c=[],h=0,d=s.mergeFields;h<d.length;h++){var f=dy(e,d[h],n);if(!o.contains(f))throw new Mu(Lu.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");gy(c,f)||c.push(f)}a=new ul(c),u=o.fieldTransforms.filter(function(t){return a.It(t.field)})}else a=null,u=o.fieldTransforms;return new $g(new Rl(l),a,u)}var Jg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(_u.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Og);function ty(t,e,n){return new Qg({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var ey=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(_u.c)(e,t),e.prototype.z_=function(t){return new Uc(t.path,new Ac)},e.prototype.isEqual=function(t){return t instanceof e},e}(Og),ny=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(_u.c)(e,t),e.prototype.z_=function(t){var e=ty(this,t,!0),n=this.H_.map(function(t){return uy(t,e)}),r=new Pc(n);return new Uc(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Og),ry=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(_u.c)(e,t),e.prototype.z_=function(t){var e=ty(this,t,!0),n=this.H_.map(function(t){return uy(t,e)}),r=new Dc(n);return new Uc(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Og),iy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(_u.c)(e,t),e.prototype.z_=function(t){var e=new Nc(t.Kt,Oc(t.Kt,this.J_));return new Uc(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Og);function sy(t,e,n,r){var i=t.G_(1,e,n);hy("Data must be an object, but it was:",i,r);var s=[],o=new Dl;ol(r,function(t,r){var a=py(e,t,n);r instanceof Fu&&(r=r._);var u=i.U_(a);if(r instanceof Jg)s.push(a);else{var l=uy(r,u);null!=l&&(s.push(a),o.set(a,l))}});var a=new ul(s);return new Wg(o.yt(),a,i.fieldTransforms)}function oy(t,e,n,r,i,s){var o=t.G_(1,e,n),a=[dy(e,r,n)],u=[i];if(s.length%2!=0)throw new Mu(Lu.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<s.length;l+=2)a.push(dy(e,s[l])),u.push(s[l+1]);for(var c=[],h=new Dl,d=a.length-1;d>=0;--d)if(!gy(c,a[d])){var f=a[d],p=u[d];p instanceof Fu&&(p=p._);var m=o.U_(f);if(p instanceof Jg)c.push(f);else{var g=uy(p,m);null!=g&&(c.push(f),h.set(f,g))}}var y=new ul(c);return new Wg(h.yt(),y,o.fieldTransforms)}function ay(t,e,n,r){return void 0===r&&(r=!1),uy(n,t.G_(r?4:3,e))}function uy(t,e){if(t instanceof Fu&&(t=t._),cy(t))return hy("Unsupported field value:",e,t),ly(t,e);if(t instanceof Og)return function(t,e){if(!Kg(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=uy(s[i],e.Q_(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Fu&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Oc(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Xu.fromDate(t);return{timestampValue:Uh(e.Kt,n)}}if(t instanceof Xu)return n=new Xu(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Uh(e.Kt,n)};if(t instanceof qg)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Uu)return{bytesValue:Fh(e.Kt,t.l)};if(t instanceof Mg){var r=t.firestore.I_;if(!r.isEqual(n=e.T))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Hh(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+Pg(t))}(t,e)}function ly(t,e){var n={};return al(t)?e.path&&e.path.length>0&&e.zt.push(e.path):ol(t,function(t,r){var i=uy(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function cy(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Xu||t instanceof qg||t instanceof Uu||t instanceof Mg||t instanceof Og)}function hy(t,e,n){if(!cy(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Pg(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function dy(t,e,n){if(e instanceof Fu&&(e=e._),e instanceof xg)return e.d_;if("string"==typeof e)return py(t,e);throw my("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var fy=new RegExp("[~\\*/\\[\\]]");function py(t,e,n){if(e.search(fy)>=0)throw my("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(xg.bind.apply(xg,Object(_u.g)([void 0],e.split("."))))).d_}catch(r){throw my("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function my(t,e,n,r,i){var s=r&&!r.nt(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new Mu(Lu.INVALID_ARGUMENT,(a+=". ")+t+u)}function gy(t,e){return t.some(function(t){return t.isEqual(e)})}var yy=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(_u.b)(this,void 0,void 0,function(){var e,n=this;return Object(_u.d)(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new Mu(Lu.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(_u.b)(this,void 0,void 0,function(){var n,r,i,s,o,a;return Object(_u.d)(this,function(u){switch(u.label){case 0:return n=ku(t),r=Kh(n.Kt)+"/documents",i={documents:e.map(function(t){return qh(n.Kt,t)})},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Iu(!!e.found);var n=Gh(t,e.found.name),r=Bh(e.found.updateTime),i=new Rl({mapValue:{fields:e.found.fields}});return new Ll(n,r,i,{})}(t,e):"missing"in e?function(t,e){Iu(!!e.missing),Iu(!!e.readTime);var n=Gh(t,e.missing),r=Bh(e.readTime);return new Ml(n,r)}(t,e):Tu()}(n.Kt,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());Iu(!!e),a.push(e)}),a)]}})})}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof Ml||t instanceof Ll?n.sf(t):Tu()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.F_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new nh(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(_u.b)(this,void 0,void 0,function(){var t,e=this;return Object(_u.d)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=il.ft(n);e.mutations.push(new rh(r,e.Gt(r)))}),[4,function(t,e){return Object(_u.b)(this,void 0,void 0,function(){var n,r,i;return Object(_u.d)(this,function(s){switch(s.label){case 0:return n=ku(t),r=Kh(n.Kt)+"/documents",i={writes:e.map(function(t){return Xh(n.Kt,t)})},[4,n.bu("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof Ll)e=t.version;else{if(!(t instanceof Ml))throw Tu();e=Ju.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Mu(Lu.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Vc.updateTime(e):Vc.Wt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(Ju.min()))throw new Mu(Lu.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Vc.updateTime(e)}return Vc.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),by=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new Kp(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu(function(){return Object(_u.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(_u.d)(this,function(r){return t=new yy(this.Dh),(e=this.uf(t))&&e.then(function(e){n.fs.ys(function(){return t.commit().then(function(){n.Ts.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!gl(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys(function(){return e.af(),Promise.resolve()})):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!sh(e)}return!1},t}(),vy=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=Gu.UNAUTHENTICATED,this.clientId=Pu.t(),this._f=function(){},this.N=new pd,this.credentials.S(function(t){Su("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()})}return t.prototype.getConfiguration=function(){return Object(_u.b)(this,void 0,void 0,function(){return Object(_u.d)(this,function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this.fs.wf)throw new Mu(Lu.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new pd;return this.fs.Tf(function(){return Object(_u.b)(t,void 0,void 0,function(){var t,n;return Object(_u.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Cd(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function _y(t,e){return Object(_u.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(_u.d)(this,function(s){switch(s.label){case 0:return t.fs.Af(),Su("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.Yl,t.ff(function(n){r.isEqual(n)||(r=n,t.fs.vo(function(){return Object(_u.b)(i,void 0,void 0,function(){return Object(_u.d)(this,function(t){switch(t.label){case 0:return[4,op(e.Sh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.Vo(function(){return t.terminate()}),t.mf=e,[2]}})})}function wy(t,e){return Object(_u.b)(this,void 0,void 0,function(){var n,r;return Object(_u.d)(this,function(i){switch(i.label){case 0:return t.fs.Af(),[4,Ey(t)];case 1:return n=i.sent(),Su("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t.fs.vo(function(){return function(t,e){return Object(_u.b)(this,void 0,void 0,function(){var n,r;return Object(_u.d)(this,function(i){switch(i.label){case 0:return(n=ku(t)).fs.Af(),Su("RemoteStore","RemoteStore received new credentials"),r=lm(n),n.Fh.add(3),[4,nm(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Fh.delete(3),[4,em(n)];case 3:return i.sent(),[2]}})})}(e.gl,n)})}),t.If=e,[2]}})})}function Ey(t){return Object(_u.b)(this,void 0,void 0,function(){return Object(_u.d)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(Su("FirestoreClient","Using default OfflineComponentProvider"),[4,_y(t,new vg)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function Sy(t){return Object(_u.b)(this,void 0,void 0,function(){return Object(_u.d)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(Su("FirestoreClient","Using default OnlineComponentProvider"),[4,wy(t,new Eg)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function xy(t){return Ey(t).then(function(t){return t.persistence})}function Oy(t){return Ey(t).then(function(t){return t.Sh})}function Cy(t){return Sy(t).then(function(t){return t.gl})}function Ty(t){return Sy(t).then(function(t){return t.fa})}function Iy(t){return Object(_u.b)(this,void 0,void 0,function(){var e,n;return Object(_u.d)(this,function(r){switch(r.label){case 0:return[4,Sy(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=Hm.bind(null,e.fa),n.Jh=qm.bind(null,e.fa),n)]}})})}function ky(t,e,n){var r=this;void 0===n&&(n={});var i=new pd;return t.fs.ys(function(){return Object(_u.b)(r,void 0,void 0,function(){var r;return Object(_u.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Sg({next:function(s){e.ys(function(){return km(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new Mu(Lu.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Mu(Lu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new Dm(ac(n.path),s,{includeMetadataChanges:!0,sl:!0});return Im(t,o)},[4,Iy(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.fs,e,n,i])]}})})}),i.promise}function Ay(t,e,n){var r=this;void 0===n&&(n={});var i=new pd;return t.fs.ys(function(){return Object(_u.b)(r,void 0,void 0,function(){var r;return Object(_u.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Sg({next:function(n){e.ys(function(){return km(t,o)}),n.fromCache&&"server"===r.source?i.reject(new Mu(Lu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new Dm(n,s,{includeMetadataChanges:!0,sl:!0});return Im(t,o)},[4,Iy(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.fs,e,n,i])]}})})}),i.promise}var Py=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new Kp(this,"async_queue_retry"),this.vf=function(){var e=$p();e&&Su("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=$p();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=$p();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.vo=function(t){var e=this;this.ys(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object(_u.b)(this,void 0,void 0,function(){var t,e=this;return Object(_u.d)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!_d(t=n.sent()))throw t;return Su("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,xu("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.mr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=Od.Is(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&Tu()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(_u.b)(this,void 0,void 0,function(){var t;return Object(_u.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Of=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ws-e.ws});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()})},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),Ry=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new Py,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(_u.c)(e,t),e.prototype.b_=function(){return this.Lf||jy(this),this.Lf.terminate()},e}(Lg);function Dy(t){return t.Lf||jy(t),t.Lf.df(),t.Lf}function jy(t){var e=t.p_(),n=function(t,e,n){return new zu(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new vy(t.m_,t.Mf,n)}function Ny(t,e,n){var r=this,i=new pd;return t.fs.enqueue(function(){return Object(_u.b)(r,void 0,void 0,function(){var r;return Object(_u.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,_y(t,n)];case 1:return s.sent(),[4,wy(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Lu.FAILED_PRECONDITION||t.code===Lu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Ly(t){if(t.R_||t.P_)throw new Mu(Lu.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var My=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),vl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return hl(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(dl(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.Wf(t.arrayValue,e);case 10:return this.jf(t.mapValue,e);default:throw Tu()}},t.prototype.jf=function(t,e){var n=this,r={};return ol(t.fields||{},function(t,i){r[t]=n.$f(i,e)}),r},t.prototype.Kf=function(t){return new qg(hl(t.latitude),hl(t.longitude))},t.prototype.Wf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.$f(t,e)})},t.prototype.qf=function(t,e){switch(e){case"previous":var n=pl(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(ml(t));default:return null}},t.prototype.Bf=function(t){var e=cl(t);return new Xu(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=el.ct(t);Iu(fd(n));var r=new qu(n.get(1),n.get(3)),i=new il(n.X(5));return r.isEqual(e)||xu("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Uy=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Mg(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new Fy(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(Vy("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),Fy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(_u.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Uy);function Vy(t,e){return"string"==typeof e?py(t,e):e instanceof Fu?e._.d_:e.d_}function By(t){if(lc(t)&&0===t.Nt.length)throw new Mu(Lu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Hy=function(){};function zy(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s.Yf(t)}return t}var qy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Object(_u.c)(e,t),e.prototype.Yf=function(t){var e=Zg(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.ht()){if("array-contains"===s||"array-contains-any"===s)throw new Mu(Lu.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){Zy(o,s);for(var u=[],l=0,c=o;l<c.length;l++)u.push(Yy(r,t,c[l]));a={arrayValue:{values:u}}}else a=Yy(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Zy(o,s),a=ay(n,"where",o,"in"===s||"not-in"===s);var h=ql.create(i,s,a);return function(t,e){if(e.xt()){var n=hc(t);if(null!==n&&!n.isEqual(e.field))throw new Mu(Lu.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=cc(t);null!==r&&Xy(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Mu(Lu.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new Ug(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new sc(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(Hy),Gy=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Object(_u.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Mu(Lu.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Mu(Lu.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ec(e,n);return function(t,e){if(null===cc(t)){var n=hc(t);null!==n&&Xy(0,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new Ug(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new sc(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(Hy),$y=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Object(_u.c)(e,t),e.prototype.Yf=function(t){return new Ug(t.firestore,t.v_,mc(t.C_,this.nd,this.sd))},e}(Hy),Wy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(_u.c)(e,t),e.prototype.Yf=function(t){var e=Qy(t,this.type,this.rd,this.od);return new Ug(t.firestore,t.v_,function(t,e){return new sc(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(Hy),Ky=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(_u.c)(e,t),e.prototype.Yf=function(t){var e=Qy(t,this.type,this.rd,this.od);return new Ug(t.firestore,t.v_,function(t,e){return new sc(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(Hy);function Qy(t,e,n,r){if(n[0]instanceof Fu&&(n[0]=n[0]._),n[0]instanceof Uy)return function(t,e,n,r,i){if(!r)throw new Mu(Lu.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=fc(t);o<a.length;o++){var u=a[o];if(u.field.ht())s.push(Cl(e,r.key));else{var l=r.field(u.field);if(fl(l))throw new Mu(Lu.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var c=u.field.ot();throw new Mu(Lu.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+c+"' (used as the orderBy) does not exist.")}s.push(l)}}return new Jl(s,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=Zg(t.firestore);return function(t,e,n,r,i,s){var o=t.Nt;if(i.length>o.length)throw new Mu(Lu.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var l=i[u];if(o[u].field.ht()){if("string"!=typeof l)throw new Mu(Lu.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof l);if(!dc(t)&&-1!==l.indexOf("/"))throw new Mu(Lu.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+l+"' contains a slash.");var c=t.path.child(el.ct(l));if(!il.Et(c))throw new Mu(Lu.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+c+"' is not because it contains an odd number of segments.");var h=new il(c);a.push(Cl(e,h))}else{var d=ay(n,r,l);a.push(d)}}return new Jl(a,s)}(t.C_,t.firestore.I_,i,e,n,r)}function Yy(t,e,n){if(n instanceof Fu&&(n=n._),"string"==typeof n){if(""===n)throw new Mu(Lu.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!dc(e)&&-1!==n.indexOf("/"))throw new Mu(Lu.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(el.ct(n));if(!il.Et(r))throw new Mu(Lu.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Cl(t,new il(r))}if(n instanceof Mg)return Cl(t,n.S_);throw new Mu(Lu.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Pg(n)+".")}function Zy(t,e){if(!Array.isArray(t)||0===t.length)throw new Mu(Lu.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Mu(Lu.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Xy(t,e,n){if(!n.isEqual(e))throw new Mu(Lu.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Jy(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}function tb(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var eb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(_u.c)(e,t),e.prototype.Uf=function(t){return new Uu(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Mg(this.firestore,null,e)},e}(My),nb=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),rb=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this).zf=e,a.ad=e,a.metadata=s,a}return Object(_u.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new ib(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(Vy("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(Uy),ib=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(_u.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(rb),sb=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new nb(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach(function(r){t.call(e,new ib(n.zf,n.Hf,r.key,r,new nb(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new Mu(Lu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map(function(e){return{type:"added",doc:new ib(t.zf,t.Hf,e.doc.key,e.doc,new nb(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var r=t.ud.De;return t.ud.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new ib(t.zf,t.Hf,e.doc.key,e.doc,new nb(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:ob(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this.ld=e),this.hd},t}();function ob(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tu()}}function ab(t,e){return t instanceof rb&&e instanceof rb?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof sb&&e instanceof sb&&t.zf===e.zf&&zg(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var ub=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(_u.c)(e,t),e.prototype.Uf=function(t){return new Uu(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Mg(this.firestore,null,e)},e}(My);function lb(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Rg(t,Mg);var s=Rg(t.firestore,Ry),o=Zg(s);return e instanceof Fu&&(e=e._),hb(s,[("string"==typeof e||e instanceof xg?oy(o,"updateDoc",t.S_,e,n,r):sy(o,"updateDoc",t.S_,e)).F_(t.S_,Vc.exists(!0))])}function cb(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t instanceof Fu&&(t=t._);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Jy(i[a])||(o=i[a],a++);var u,l,c,h={includeMetadataChanges:o.includeMetadataChanges};if(Jy(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof Mg)l=Rg(t.firestore,Ry),c=ac(t.S_.path),u={next:function(e){i[a]&&i[a](db(l,t,e))},error:i[a+1],complete:i[a+2]};else{var f=Rg(t,Ug);l=Rg(f.firestore,Ry),c=f.C_;var p=new ub(l);u={next:function(t){i[a]&&i[a](new sb(l,p,f,t))},error:i[a+1],complete:i[a+2]},By(t.C_)}return function(t,e,n,r){var i=this,s=new Sg(r),o=new Dm(e,s,n);return t.fs.ys(function(){return Object(_u.b)(i,void 0,void 0,function(){var e;return Object(_u.d)(this,function(n){switch(n.label){case 0:return e=Im,[4,Iy(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.r_(),t.fs.ys(function(){return Object(_u.b)(i,void 0,void 0,function(){var e;return Object(_u.d)(this,function(n){switch(n.label){case 0:return e=km,[4,Iy(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(Dy(l),c,h,u)}function hb(t,e){return function(t,e){var n=this,r=new pd;return t.fs.ys(function(){return Object(_u.b)(n,void 0,void 0,function(){var n;return Object(_u.d)(this,function(i){switch(i.label){case 0:return n=Gm,[4,Ty(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Dy(t),e)}function db(t,e,n){var r=n.docs.get(e.S_),i=new ub(t);return new rb(t,i,e.S_,r,new nb(n.hasPendingWrites,n.fromCache),e.v_)}var fb=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=Zg(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=pb(t,this.zf),i=tb(r.v_,e,n),s=Xg(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(s.F_(r.S_,Vc.Wt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var s,o=pb(t,this.zf);return e instanceof Fu&&(e=e._),s="string"==typeof e||e instanceof xg?oy(this.wd,"WriteBatch.update",o.S_,e,n,r):sy(this.wd,"WriteBatch.update",o.S_,e),this.fd.push(s.F_(o.S_,Vc.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=pb(t,this.zf);return this.fd=this.fd.concat(new nh(e.S_,Vc.Wt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new Mu(Lu.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function pb(t,e){if(t instanceof Fu&&(t=t._),t.firestore!==e)throw new Mu(Lu.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var mb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Object(_u.c)(e,t),e.prototype.get=function(e){var n=this,r=pb(e,this.zf),i=new ub(this.zf);return t.prototype.get.call(this,e).then(function(t){return new rb(n.zf,i,r.S_,t.Jf,new nb(!1,!1),r.v_)})},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=Zg(t)}return t.prototype.get=function(t){var e=this,n=pb(t,this.zf),r=new eb(this.zf);return this.Td.ef([n.S_]).then(function(t){if(!t||1!==t.length)return Tu();var i=t[0];if(i instanceof Ml)return new Uy(e.zf,r,n.S_,null,n.v_);if(i instanceof Ll)return new Uy(e.zf,r,i.key,i,n.v_);throw Tu()})},t.prototype.set=function(t,e,n){var r=pb(t,this.zf),i=tb(r.v_,e,n),s=Xg(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=pb(t,this.zf);return e instanceof Fu&&(e=e._),s="string"==typeof e||e instanceof xg?oy(this.wd,"Transaction.update",o.S_,e,n,r):sy(this.wd,"Transaction.update",o.S_,e),this.Td.update(o.S_,s),this},t.prototype.delete=function(t){var e=pb(t,this.zf);return this.Td.delete(e.S_),this},t}()),gb=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Ly(t=Rg(t,Ry));var n=Dy(t),r=t.p_(),i=new Eg;return Ny(n,i,new _g(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Ly(t=Rg(t,Ry));var e=Dy(t),n=t.p_(),r=new Eg;return Ny(e,r,new wg(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new Mu(Lu.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new pd;return t.Mf.Tf(function(){return Object(_u.b)(e,void 0,void 0,function(){var e;return Object(_u.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(_u.b)(this,void 0,void 0,function(){return Object(_u.d)(this,function(e){switch(e.label){case 0:return yd.Wn()?[4,yd.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(tp(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._)},t}(),yb=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof qu||(i.md=e),i}return Object(_u.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){"firestore.googleapis.com"!==this._.V_().host&&Ou("Host has been set in both settings() and useEmulator(), emulator host will be used"),this.settings({host:t+":"+e,ssl:!1,merge:!0})},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(_u.b)(e,void 0,void 0,function(){var e,n;return Object(_u.d)(this,function(r){switch(r.label){case 0:return[4,xy(t)];case 1:return e=r.sent(),[4,Cy(t)];case 2:return n=r.sent(),[2,(e.po(!0),function(t){var e=ku(t);return e.Fh.delete(0),em(e)}(n))]}})})})}(Dy(Rg(this._,Ry)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(_u.b)(e,void 0,void 0,function(){var e,n;return Object(_u.d)(this,function(r){switch(r.label){case 0:return[4,xy(t)];case 1:return e=r.sent(),[4,Cy(t)];case 2:return n=r.sent(),[2,(e.po(!1),function(t){return Object(_u.b)(this,void 0,void 0,function(){var e;return Object(_u.d)(this,function(n){switch(n.label){case 0:return(e=ku(t)).Fh.add(0),[4,nm(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}})})}(n))]}})})})}(Dy(Rg(this._,Ry)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Ig("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new pd;return t.fs.ys(function(){return Object(_u.b)(e,void 0,void 0,function(){var e;return Object(_u.d)(this,function(r){switch(r.label){case 0:return e=Zm,[4,Ty(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Dy(Rg(this._,Ry)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Sg(e);return t.fs.ys(function(){return Object(_u.b)(n,void 0,void 0,function(){var e;return Object(_u.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){ku(t).jh.add(e),e.next()},[4,Iy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.r_(),t.fs.ys(function(){return Object(_u.b)(n,void 0,void 0,function(){var e;return Object(_u.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){ku(t).jh.delete(e)},[4,Iy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Dy(t=Rg(t,Ry)),Jy(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new Mu(Lu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Ab(this,Vg(this._,t))}catch(t){throw Eb(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new wb(this,Bg(this._,t))}catch(t){throw Eb(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Tb(this,function(t,e){if(t=Rg(t,Lg),Cg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Mu(Lu.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Ug(t,null,function(t){return new sc(el.at(),t)}(e))}(this._,t))}catch(t){throw Eb(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new pd;return t.fs.ys(function(){return Object(_u.b)(n,void 0,void 0,function(){var n;return Object(_u.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Sy(t).then(function(t){return t.Dh})}(t)];case 1:return n=i.sent(),new by(t.fs,n,e,r).run(),[2]}})})}),r.promise}(Dy(t),function(n){return e(new mb(t,n))})}(this._,function(n){return t(new vb(e,n))})},e.prototype.batch=function(){var t=this;return Dy(this._),new _b(new fb(this._,function(e){return hb(t._,e)}))},e.prototype.loadBundle=function(t){throw new Mu(Lu.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Mu(Lu.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Fu),bb=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(_u.c)(e,t),e.prototype.Uf=function(t){return new Hu(new Uu(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return wb.Ad(e,this.firestore,null)},e}(My),vb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(_u.c)(e,t),e.prototype.get=function(t){var e=this,n=Pb(t);return this._.get(n).then(function(t){return new Ob(e.zf,t)})},e.prototype.set=function(t,e,n){var r=Pb(t);return n?(Tg("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=Pb(t);return 2===arguments.length?this._.update(o,e):(r=this._).update.apply(r,Object(_u.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=Pb(t);return this._.delete(e),this},e}(Fu),_b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(_u.c)(e,t),e.prototype.set=function(t,e,n){var r=Pb(t);return n?(Tg("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=Pb(t);return 2===arguments.length?this._.update(o,e):(r=this._).update.apply(r,Object(_u.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=Pb(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(Fu),wb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new bb(e),r}return Object(_u.c)(e,t),e.Rd=function(t,n,r){if(t.length%2!=0)throw new Mu(Lu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new Mg(n._,r,new il(t)))},e.Ad=function(t,n,r){return new e(n,new Mg(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Ab(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Ab(this.firestore,Vg(this._,t))}catch(t){throw Eb(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Fu&&(t=t._),t instanceof Mg&&Hg(this._,t)},e.prototype.set=function(t,e){e=Tg("DocumentReference.set",e);try{return function(t,e,n){t=Rg(t,Mg);var r=Rg(t.firestore,Ry),i=tb(t.v_,e,n);return hb(r,[Xg(Zg(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,Vc.Wt())])}(this._,t,e)}catch(t){throw Eb(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?lb(this._,t):lb.apply(void 0,Object(_u.g)([this._,t,e],n))}catch(t){throw Eb(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return hb(Rg((t=this._).firestore,Ry),[new nh(t.S_,Vc.Wt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Sb(e),i=xb(e,function(e){return new Ob(t.firestore,new rb(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))});return cb(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Rg(t,Mg);var e=Rg(t.firestore,Ry),n=Dy(e),r=new ub(e);return function(t,e){var n=this,r=new pd;return t.fs.ys(function(){return Object(_u.b)(n,void 0,void 0,function(){var n;return Object(_u.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(_u.b)(this,void 0,void 0,function(){var r,i;return Object(_u.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=ku(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Ic.Jo(t,e)})}(t,e)];case 1:return(i=s.sent())instanceof Ll?n.resolve(i):i instanceof Ml?n.resolve(null):n.reject(new Mu(Lu.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=Cd(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Oy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new rb(e,r,t.S_,n,new nb(n instanceof Ll&&n.bt,!0),t.v_)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Rg(t,Mg);var e=Rg(t.firestore,Ry);return ky(Dy(e),t.S_,{source:"server"}).then(function(n){return db(e,t,n)})}(this._):function(t){t=Rg(t,Mg);var e=Rg(t.firestore,Ry);return ky(Dy(e),t.S_).then(function(n){return db(e,t,n)})}(this._)).then(function(t){return new Ob(e.firestore,new rb(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Fu);function Eb(t,e,n){return t.message=t.message.replace(e,n),t}function Sb(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Jy(r))return r}return{}}function xb(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Jy(t[0])?t[0]:Jy(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Ob=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(_u.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new wb(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return ab(this._,t._)},e}(Fu),Cb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(_u.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(Ob),Tb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new bb(e),r}return Object(_u.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,zy(this._,function(t,e,n){var r=e,i=Vy("where",t);return new qy(i,r,n)}(t,n,r)))}catch(t){throw Eb(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,zy(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=Vy("orderBy",t);return new Gy(r,n)}(t,n)))}catch(t){throw Eb(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,zy(this._,function(t){return Dg("limit",t),new $y("limit",t,"F")}(t)))}catch(t){throw Eb(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,zy(this._,function(t){return Dg("limitToLast",t),new $y("limitToLast",t,"L")}(t)))}catch(t){throw Eb(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,zy(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Wy("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw Eb(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,zy(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Wy("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw Eb(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,zy(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ky("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw Eb(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,zy(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ky("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw Eb(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return zg(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Rg(t,Ug);var e=Rg(t.firestore,Ry),n=Dy(e),r=new ub(e);return function(t,e){var n=this,r=new pd;return t.fs.ys(function(){return Object(_u.b)(n,void 0,void 0,function(){var n;return Object(_u.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(_u.b)(this,void 0,void 0,function(){var r,i,s,o,a;return Object(_u.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,pp(t,e,!0)];case 1:return a=u.sent(),r=new Um(e,a.Pc),i=r.dl(a.documents),s=r.Ti(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=u.sent(),a=Cd(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Oy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new sb(e,r,t,n)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Rg(t,Ug);var e=Rg(t.firestore,Ry),n=Dy(e),r=new ub(e);return Ay(n,t.C_,{source:"server"}).then(function(n){return new sb(e,r,t,n)})}(this._):function(t){t=Rg(t,Ug);var e=Rg(t.firestore,Ry),n=Dy(e),r=new ub(e);return By(t.C_),Ay(n,t.C_).then(function(n){return new sb(e,r,t,n)})}(this._)).then(function(t){return new kb(e.firestore,new sb(e.firestore._,e.Hf,e._,t.ud))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Sb(e),i=xb(e,function(e){return new kb(t.firestore,new sb(t.firestore._,t.Hf,t._,e.ud))});return cb(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Fu),Ib=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(_u.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Cb(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(Fu),kb=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(_u.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Tb(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map(function(e){return new Cb(t.zf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map(function(t){return new Ib(e.zf,t)})},e.prototype.forEach=function(t,e){var n=this;this._.forEach(function(r){t.call(e,new Cb(n.zf,r))})},e.prototype.isEqual=function(t){return ab(this._,t._)},e}(Fu),Ab=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Object(_u.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new wb(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new wb(this.firestore,void 0===t?Bg(this._):Bg(this._,t))}catch(t){throw Eb(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Rg(t.firestore,Ry),r=Bg(t),i=tb(t.v_,e);return hb(n,[Xg(Zg(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,Vc.exists(!1))]).then(function(){return r})}(this._,t).then(function(t){return new wb(e.firestore,t)})},e.prototype.isEqual=function(t){return Hg(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Tb);function Pb(t){return t instanceof Fu&&(t=t._),Rg(t,Mg)}var Rb=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(xg.bind.apply(xg,Object(_u.g)([void 0],e))))||this}return Object(_u.c)(e,t),e.documentId=function(){return new e(rl.lt().ot())},e.prototype.isEqual=function(t){return t instanceof Fu&&(t=t._),t instanceof xg&&this._.d_.isEqual(t.d_)},e}(Fu),Db=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(_u.c)(e,t),e.serverTimestamp=function(){var t=new ey("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Jg("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ny("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ry("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new iy("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(Fu);!function(){function t(){this.Pd={},this.yd=new pd,this.gd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.Pd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.yd.promise.catch(t)},t.prototype.then=function(t,e){return this.yd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.Pd.complete&&this.Pd.complete(),this.yd.resolve(t)},t.prototype.Wl=function(t){this.gd.taskState="Error",this.Pd.next&&this.Pd.next(this.gd),this.Pd.error&&this.Pd.error(t),this.yd.reject(t)},t.prototype.Ql=function(t){this.gd=t,this.Pd.next&&this.Pd.next(t)}}();var jb,Nb=n("/6Yf"),Lb={Firestore:yb,GeoPoint:qg,Timestamp:Xu,Blob:Hu,Transaction:vb,WriteBatch:_b,DocumentReference:wb,DocumentSnapshot:Ob,Query:Tb,QueryDocumentSnapshot:Cb,QuerySnapshot:kb,CollectionReference:Ab,FieldPath:Rb,FieldValue:Db,setLogLevel:function(t){wu.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Nb.a("firestore",function(t){return function(t,e){return new yb(t,new Ry(t,e),new gb)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Lb)))})(jb=mi.a),jb.registerVersion("@firebase/firestore","2.1.1");const Mb=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function Ub(t=null){return e=>e.lift(new Fb(t))}class Fb{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Vb(t,this.defaultValue))}}class Vb extends Ke.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Bb(t=qb){return e=>e.lift(new Hb(t))}class Hb{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new zb(t,this.errorFactory))}}class zb extends Ke.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(jb){t=jb}this.destination.error(t)}}}function qb(){return new Mb}var Gb=n("SpAZ");function $b(t,e){const n=arguments.length>=2;return r=>r.pipe(t?In((e,n)=>t(e,n,r)):Gb.a,yr(1),n?Ub(e):Bb(()=>new Mb))}function Wb(t,e){return e?Bn(()=>t,e):Bn(()=>t)}var Kb=n("tf+s");const Qb=new r.q("angularfire2.auth.use-emulator"),Yb=new r.q("angularfire2.auth.settings"),Zb=new r.q("angularfire2.auth.tenant-id"),Xb=new r.q("angularfire2.auth.langugage-code"),Jb=new r.q("angularfire2.auth.use-device-language"),tv=new r.q("angularfire.auth.persistence");let ev=(()=>{class t{constructor(t,e,r,i,s,o,a,u,l,c){const h=new fi.d(i),d=Object(fi.h)(h),f=new ln.a,p=Object(cn.a)(void 0).pipe(Object(Gn.b)(h.outsideAngular),Bn(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(St.a)(()=>Object(fi.g)(t,i,e)),Object(St.a)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return Object(fi.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=u,l&&r.useDeviceLanguage(),n&&(r.settings=n),c&&r.setPersistence(c),r},[e,a,u,l,n,c])})),Yn({bufferSize:1,refCount:!1}));if(H(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(cn.a)(null);else{p.pipe($b()).subscribe();const t=p.pipe(Bn(t=>t.getRedirectResult().then(t=>t,()=>null)),d,Yn({bufferSize:1,refCount:!1})),e=t=>new wt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Bn(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Bn(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Wb(n),Object(Kb.a)(h.outsideAngular),Object(Gn.b)(h.insideAngular)),this.user=t.pipe(Wb(r),Object(Kb.a)(h.outsideAngular),Object(Gn.b)(h.insideAngular)),this.idToken=this.user.pipe(Bn(t=>t?Object(Ot.a)(t.getIdToken()):Object(cn.a)(null))),this.idTokenResult=this.user.pipe(Bn(t=>t?Object(Ot.a)(t.getIdTokenResult()):Object(cn.a)(null))),this.credential=Object(pn.a)(t,f,this.authState.pipe(In(t=>!t))).pipe(Object(St.a)(t=>(null==t?void 0:t.user)?t:null),Object(Kb.a)(h.outsideAngular),Object(Gn.b)(h.insideAngular))}return Object(fi.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(fi.c),r.Ub(fi.b,8),r.Ub(r.B),r.Ub(r.z),r.Ub(Qb,8),r.Ub(Yb,8),r.Ub(Zb,8),r.Ub(Xb,8),r.Ub(Jb,8),r.Ub(tv,8))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(fi.c),Object(r.Ub)(fi.b,8),Object(r.Ub)(r.B),Object(r.Ub)(r.z),Object(r.Ub)(Qb,8),Object(r.Ub)(Yb,8),Object(r.Ub)(Zb,8),Object(r.Ub)(Xb,8),Object(r.Ub)(Jb,8),Object(r.Ub)(tv,8))},token:t,providedIn:"any"}),t})();Object(fi.e)(ev,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let nv=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[ev]}),t})();function rv(t,e){return function(t,e=Qe.b){return new wt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function iv(t,e){return rv(t,e).pipe(Object(St.a)(t=>({payload:t,type:"query"})))}function sv(t,e){return iv(t,e).pipe(Mn(void 0),Un(),Object(St.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function ov(t,e,n){return sv(t,n).pipe(ci((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return av(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return av(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return av(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),tn(),Object(St.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function av(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function uv(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class lv{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=sv(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(St.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Mn(void 0),Un(),In(([t,e])=>e.length>0||!t),Object(St.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ci((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=uv(t);return ov(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return iv(this.query,this.afs.schedulers.outsideAngular).pipe(Object(St.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Ot.a)(this.query.get(t)).pipe(Object(Gn.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new cv(this.ref.doc(t),this.afs)}}class cv{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=gv(n,e);return new lv(r,i,this.afs)}snapshotChanges(){return rv(this.ref,this.afs.schedulers.outsideAngular).pipe(Mn(void 0),Un(),Object(St.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(St.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(Ot.a)(this.ref.get(t)).pipe(Object(Gn.b)(this.afs.schedulers.insideAngular))}}class hv{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?sv(this.query,this.afs.schedulers.outsideAngular).pipe(Object(St.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),In(t=>t.length>0),this.afs.keepUnstableUntilFirst):sv(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ci((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=uv(t);return ov(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return iv(this.query,this.afs.schedulers.outsideAngular).pipe(Object(St.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Ot.a)(this.query.get(t)).pipe(Object(Gn.b)(this.afs.schedulers.insideAngular))}}const dv=new r.q("angularfire2.enableFirestorePersistence"),fv=new r.q("angularfire2.firestore.persistenceSettings"),pv=new r.q("angularfire2.firestore.settings"),mv=new r.q("angularfire2.firestore.use-emulator");function gv(t,e=(t=>t)){return{query:e(t),ref:t}}let yv=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this.schedulers=new fi.d(s),this.keepUnstableUntilFirst=Object(fi.h)(this.schedulers);const l=Object(fi.g)(t,s,e);!pi.a.auth&&u&&Object(fi.j)();const c=a;[this.firestore,this.persistenceEnabled$]=Object(fi.f)(l.name+".firestore","AngularFirestore",l,()=>{const t=s.runOutsideAngular(()=>l.firestore());if(r&&t.settings(r),c&&t.useEmulator(...c),n&&!H(i)){const e=()=>{try{return Object(Ot.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(jb){return"undefined"!=typeof console&&console.warn(jb),Object(cn.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(cn.a)(!1)]},[r,c,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=gv(n,e),s=this.schedulers.ngZone.run(()=>r);return new lv(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new hv(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new cv(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(fi.c),r.Ub(fi.b,8),r.Ub(dv,8),r.Ub(pv,8),r.Ub(r.B),r.Ub(r.z),r.Ub(fv,8),r.Ub(mv,8),r.Ub(Qb,8))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(fi.c),Object(r.Ub)(fi.b,8),Object(r.Ub)(dv,8),Object(r.Ub)(pv,8),Object(r.Ub)(r.B),Object(r.Ub)(r.z),Object(r.Ub)(fv,8),Object(r.Ub)(mv,8),Object(r.Ub)(Qb,8))},token:t,providedIn:"any"}),t})(),bv=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:dv,useValue:!0},{provide:fv,useValue:e}]}}}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[yv]}),t})(),vv=(()=>{class t{constructor(t){this.$rounds=[],this.$players=[],this.items=t.collection("items").valueChanges()}get rounds(){return this.$rounds}set rounds(t){this.$rounds=t}get players(){return this.$players}set players(t){this.$players=t}calculateScore(t){return t.points=t.bid===t.score?10+t.score:t.score,console.log("34",t.bid),console.log("35",t),this.calculateGameScores(t),t.points}addPlayer(t){for(let e=0;e<10;e++)this.$rounds.push({game:t.game,id:e,playerName:t.player,playerPostition:t.position,bid:null,points:null,score:null,accumulated:null});t.rounds=this.rounds,this.$players.push(t)}calculateGameScores(t){console.log("64",this.rounds);const e=this.rounds.filter(e=>null!==e.score&&"1"===e.game&&e.playerName===t.playerName);console.log("66",e);let n=0;e.forEach(t=>{console.log("63",t.score),null!==t.score&&(n=t.accumulated=t.points+n,console.log("65",n))})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(yv))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),_v=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),wv=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=un(t);return new wt.a(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new ln.a,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(_v))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(_v))},token:t,providedIn:"root"}),t})(),Ev=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new r.n,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=rn(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=sn(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Ye(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(wv),r.Lb(r.l),r.Lb(r.z))},t.\u0275dir=r.Gb({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),Sv=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[_v]}),t})();function xv(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}class Ov extends class{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ln.a,this._typeaheadSubscription=_n.a.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new ln.a,this.change=new ln.a,t instanceof r.D&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){if(this._items.length&&this._items.some(t=>"function"!=typeof t.getLabel))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Object(_r.a)(t=>this._pressedLetters.push(t)),Ye(t),In(()=>this._pressedLetters.length>0),Object(St.a)(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const r=(this._activeItemIndex+n)%e.length,i=e[r];if(!this._skipPredicateFn(i)&&0===i.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(r);break}}this._pressedLetters=[]}),this}setActiveItem(t){const e=this._activeItemIndex;this.updateActiveItem(t),this._activeItemIndex!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;default:return void((n||xv(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),r=e[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const r=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof r.D?this._items.toArray():this._items}}{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}"undefined"!=typeof Element&&Element;const Cv=new r.q("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Tv=new r.q("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Iv=(()=>{class t{constructor(t,e,n,r){this._ngZone=e,this._defaultOptions=r,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let r,i;return 1===e.length&&"number"==typeof e[0]?i=e[0]:[r,i]=e,this.clear(),clearTimeout(this._previousTimeout),r||(r=n&&n.politeness?n.politeness:"polite"),null==i&&n&&(i=n.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof i&&(this._previousTimeout=setTimeout(()=>this.clear(),i))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t="cdk-live-announcer-element",e=this._document.getElementsByClassName(t),n=this._document.createElement("div");for(let r=0;r<e.length;r++)e[r].parentNode.removeChild(e[r]);return n.classList.add(t),n.classList.add("cdk-visually-hidden"),n.setAttribute("aria-atomic","true"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),n}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Cv,8),r.Ub(r.z),r.Ub(a),r.Ub(Tv,8))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(Cv,8),Object(r.Ub)(r.z),Object(r.Ub)(a),Object(r.Ub)(Tv,8))},token:t,providedIn:"root"}),t})();const kv="cdk-high-contrast-black-on-white",Av="cdk-high-contrast-white-on-black",Pv="cdk-high-contrast-active";let Rv=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Pv),t.remove(kv),t.remove(Av);const e=this.getHighContrastMode();1===e?(t.add(Pv),t.add(kv)):2===e&&(t.add(Pv),t.add(Av))}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Jn),r.Ub(a))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(Jn),Object(r.Ub)(a))},token:t,providedIn:"root"}),t})();const Dv=new r.P("9.2.4");class jv{}const Nv="*";function Lv(t,e){return{type:7,name:t,definitions:e,options:{}}}function Mv(t,e=null){return{type:4,styles:e,timings:t}}function Uv(t,e=null){return{type:2,steps:t,options:e}}function Fv(t){return{type:6,styles:t,offset:null}}function Vv(t,e,n){return{type:0,name:t,styles:e,options:n}}function Bv(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function Hv(t=null){return{type:9,options:t}}function zv(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function qv(t){Promise.resolve(null).then(t)}class Gv{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){qv(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class $v{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?qv(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Wv(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Kv(t){switch(t.length){case 0:return new Gv;case 1:return t[0];default:return new $v(t)}}function Qv(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,l=null;if(r.forEach(t=>{const n=t.offset,r=n==u,c=r&&l||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case Nv:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}c[r]=a}),r||a.push(c),l=c,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function Yv(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Zv(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Zv(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Zv(n,"destroy",t)))}}function Zv(t,e,n){const r=n.totalTime,i=Xv(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function Xv(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Jv(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function t_(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let e_=(t,e)=>!1,n_=(t,e)=>!1,r_=(t,e,n)=>[];const i_=Wv();(i_||"undefined"!=typeof Element)&&(e_=(t,e)=>t.contains(e),n_=(()=>{if(i_||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):n_}})(),r_=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let s_=null,o_=!1;function a_(t){s_||(s_=("undefined"!=typeof document?document.body:null)||{},o_=!!s_.style&&"WebkitAppearance"in s_.style);let e=!0;return s_.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in s_.style,!e&&o_)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in s_.style),e}const u_=n_,l_=e_,c_=r_;function h_(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let d_=(()=>{class t{validateStyleProperty(t){return a_(t)}matchesElement(t,e){return u_(t,e)}containsElement(t,e){return l_(t,e)}query(t,e,n){return c_(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new Gv(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),f_=(()=>{class t{}return t.NOOP=new d_,t})();const p_="ng-enter",m_="ng-leave",g_="ng-trigger",y_=".ng-trigger",b_="ng-animating",v_=".ng-animating";function __(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:w_(parseFloat(e[1]),e[2])}function w_(t,e){switch(e){case"s":return 1e3*t;default:return t}}function E_(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=w_(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=w_(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function S_(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function x_(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else S_(t,n);return n}function O_(t,e,n){return n?e+":"+n+";":""}function C_(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=O_(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=O_(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function T_(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=N_(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Wv()&&C_(t))}function I_(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=N_(e);t.style[n]=""}),Wv()&&C_(t))}function k_(t){return Array.isArray(t)?1==t.length?t[0]:Uv(t):t}const A_=new RegExp("{{\\s*(.+?)\\s*}}","g");function P_(t){let e=[];if("string"==typeof t){let n;for(;n=A_.exec(t);)e.push(n[1]);A_.lastIndex=0}return e}function R_(t,e,n){const r=t.toString(),i=r.replace(A_,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function D_(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const j_=/-+([a-z0-9])/g;function N_(t){return t.replace(j_,(...t)=>t[1].toUpperCase())}function L_(t,e){return 0===t||0===e}function M_(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=F_(t,e)})}}return e}function U_(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function F_(t,e){return window.getComputedStyle(t)[e]}const V_="*";function B_(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(q_(i,o)),"<"!=s[0]||i==V_&&o==V_||e.push(q_(o,i))}(t,n,e)):n.push(t),n}const H_=new Set(["true","1"]),z_=new Set(["false","0"]);function q_(t,e){const n=H_.has(t)||z_.has(t),r=H_.has(e)||z_.has(e);return(i,s)=>{let o=t==V_||t==i,a=e==V_||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?H_.has(t):z_.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?H_.has(e):z_.has(e)),o&&a}}const G_=new RegExp("s*:selfs*,?","g");function $_(t,e,n){return new W_(t).build(e,n)}class W_{constructor(t){this._driver=t}build(t,e){const n=new K_(e);return this._resetContextStyleTimingState(n),U_(this,k_(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(Q_(t)){const e=t;Object.keys(e).forEach(t=>{P_(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=D_(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=U_(this,k_(t.animation),e);return{type:1,matchers:B_(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Y_(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>U_(this,t,e)),options:Y_(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=U_(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:Y_(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Z_(E_(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Z_(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||E_(r,e),Z_(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Fv({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Fv(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==Nv?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(Q_(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=P_(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Q_(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Q_(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),l=0;return null!=u&&(r++,l=n.offset=u),o=o||l<0||l>1,s=s||l<a,a=l,i.push(l),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const l=t.steps.length;let c=0;r>0&&r<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(c=1/(l-1));const h=l-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return u.forEach((t,r)=>{const s=c>0?r==h?1:c*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:U_(this,k_(t.animation),e),options:Y_(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Y_(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Y_(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(G_,"")),[t=t.replace(/@\*/g,y_).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,v_),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Jv(e.collectedStyles,e.currentQuerySelector,{});const o=U_(this,k_(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:Y_(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:E_(t.timings,e.errors,!0);return{type:12,animation:U_(this,k_(t.animation),e),timings:n,options:null}}}class K_{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Q_(t){return!Array.isArray(t)&&"object"==typeof t}function Y_(t){var e;return t?(t=S_(t)).params&&(t.params=(e=t.params)?S_(e):null):t={},t}function Z_(t,e,n){return{duration:t,delay:e,easing:n}}function X_(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class J_{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const tw=new RegExp(":enter","g"),ew=new RegExp(":leave","g");function nw(t,e,n,r,i,s={},o={},a,u,l=[]){return(new rw).buildKeyframes(t,e,n,r,i,s,o,a,u,l)}class rw{buildKeyframes(t,e,n,r,i,s,o,a,u,l=[]){u=u||new J_;const c=new sw(t,e,u,r,i,l,[]);c.options=a,c.currentTimeline.setStyles([s],null,c.errors,a),U_(this,n,c);const h=c.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,c.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[X_(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?__(n.duration):null,s=null!=n.delay?__(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),U_(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=iw);const t=__(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>U_(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?__(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),U_(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return E_(e.params?R_(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?__(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=iw);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),U_(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const l=u.currentTime;U_(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-l+(r.startTime-n.currentTimeline.startTime)}}const iw={};class sw{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=iw,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new ow(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=__(n.duration)),null!=n.delay&&(r.delay=__(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=R_(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new sw(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=iw,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new aw(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(tw,"."+this._enterClassName)).replace(ew,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class ow{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new ow(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Nv,this._currentKeyframe[t]=Nv}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=Nv})):x_(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=R_(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:Nv),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=x_(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==Nv&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?D_(t.values()):[],s=e.size?D_(e.values()):[];if(n){const t=r[0],e=S_(t);t.offset=0,e.offset=1,r=[t,e]}return X_(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class aw extends ow{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=x_(t[0],!1);a.offset=0,i.push(a);const u=x_(t[0],!1);u.offset=uw(o),i.push(u);const l=t.length-1;for(let r=1;r<=l;r++){let o=x_(t[r],!1);o.offset=uw((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return X_(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function uw(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class lw{}class cw extends lw{normalizePropertyName(t,e){return N_(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(hw[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const hw=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function dw(t,e,n,r,i,s,o,a,u,l,c,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:h,errors:d}}const fw={};class pw{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,l){const c=[],h=this.ast.options&&this.ast.options.params||fw,d=this.buildStyles(n,o&&o.params||fw,c),f=a&&a.params||fw,p=this.buildStyles(r,f,c),m=new Set,g=new Map,y=new Map,b="void"===r,v={params:Object.assign(Object.assign({},h),f)},_=l?[]:nw(t,e,this.ast.animation,i,s,d,p,v,u,c);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),c.length)return dw(e,this._triggerName,n,r,b,d,p,[],[],g,y,w,c);_.forEach(t=>{const n=t.element,r=Jv(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Jv(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const E=D_(m.values());return dw(e,this._triggerName,n,r,b,d,p,_,E,g,y,w)}}class mw{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=S_(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=R_(s,r,e)),n[t]=s})}}),n}}class gw{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new mw(t.style,t.options&&t.options.params||{})}),yw(this.states,"true","1"),yw(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new pw(t,e,this.states))}),this.fallbackTransition=new pw(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function yw(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const bw=new J_;class vw{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=$_(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=Qv(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=nw(this._driver,e,i,p_,m_,{},{},n,bw,r),s.forEach(t=>{const e=Jv(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,Nv)})});const a=Kv(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=Xv(e,"","","");return Yv(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const _w="ng-animate-queued",ww="ng-animate-disabled",Ew=".ng-animate-disabled",Sw=[],xw={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ow={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Cw{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=S_(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Tw="void",Iw=new Cw(Tw);class kw{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Lw(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=Jv(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=Jv(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Lw(t,g_),Lw(t,"ng-trigger-"+e),a[e]=Iw),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new Pw(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Lw(t,g_),Lw(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new Cw(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=Iw),u.value!==Tw&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{I_(t,n),T_(t,r)})}return}const l=Jv(this._engine.playersByElement,t,[]);l.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let c=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!c){if(!r)return;c=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:c,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(Lw(t,_w),s.onStart(()=>{Mw(t,_w)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),l.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,y_,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,Tw,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Kv(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||Iw,o=new Cw(Tw),a=new Pw(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==xw||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Lw(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=Xv(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Yv(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Aw{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new kw(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(Rw(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Rw(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Lw(t,ww)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Mw(t,ww))}removeNode(t,e,n,r){if(Rw(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return Rw(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,y_,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,v_,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Kv(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=xw,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,Ew)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Ew,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Lw(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Kv(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new J_,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,l=new Set;this.disabledNodes.forEach(t=>{l.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)l.add(e[n])});const c=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=Nw(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=p_+p++;f.set(e,n),t.forEach(t=>Lw(t,n))});const m=[],g=new Set,y=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const b=new Map,v=Nw(h,Array.from(g));v.forEach((t,e)=>{const n=m_+p++;b.set(e,n),t.forEach(t=>Lw(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>Mw(t,n))}),v.forEach((t,e)=>{const n=b.get(e);t.forEach(t=>Mw(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const l=!c||!this.driver.containsElement(c,i),h=b.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,l);if(p.errors&&p.errors.length)w.push(p);else{if(l)return e.onStart(()=>I_(i,p.fromStyles)),e.onDestroy(()=>T_(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>I_(i,p.fromStyles)),e.onDestroy(()=>T_(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>Jv(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,S=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Jv(E,e,[]).push(t),t.destroy()})});const x=m.filter(t=>Vw(t,a,u)),O=new Map;jw(O,this.driver,y,u,Nv).forEach(t=>{Vw(t,a,u)&&x.push(t)});const C=new Map;d.forEach((t,e)=>{jw(C,this.driver,new Set(t),a,"!")}),x.forEach(t=>{const e=O.get(t),n=C.get(t);O.set(t,Object.assign(Object.assign({},e),n))});const T=[],I=[],k={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(l.has(e))return s.onDestroy(()=>T_(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=k;if(S.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=S.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>S.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,E,i,C,O);if(s.setRealPlayer(n),t===k)T.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=Kv(e)),r.push(s)}}else I_(e,o.fromStyles),s.onDestroy(()=>T_(e,o.toStyles)),I.push(s),l.has(e)&&r.push(s)}),I.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=Kv(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<m.length;A++){const t=m[A],e=t.__ng_removed;if(Mw(t,m_),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,v_,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?Uw(this,t,r):this.processLeaveNode(t)}return m.length=0,T.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),T}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==Tw;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=Jv(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}I_(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],l=new Set,c=new Set,h=e.timelines.map(e=>{const h=e.element;l.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new Gv(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return Fw(t,e),e}((n.get(h)||Sw).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=s.get(h),y=Qv(0,this._normalizer,0,e.keyframes,m,g),b=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&c.add(h),f){const e=new Pw(t,o,h);e.setRealPlayer(b),u.push(e)}return b});u.forEach(t=>{Jv(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),l.forEach(t=>Lw(t,b_));const d=Kv(h);return d.onDestroy(()=>{l.forEach(t=>Mw(t,b_)),T_(a,e.toStyles)}),c.forEach(t=>{Jv(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Gv(t.duration,t.delay)}}class Pw{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Gv,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Yv(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Jv(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Rw(t){return t&&1===t.nodeType}function Dw(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function jw(t,e,n,r,i){const s=[];n.forEach(t=>s.push(Dw(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=Ow,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>Dw(t,s[a++])),o}function Nw(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function Lw(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Mw(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Uw(t,e,n){Kv(n).onDone(()=>t.processLeaveNode(e))}function Fw(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof $v?Fw(r.players,e):e.push(r)}}function Vw(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class Bw{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Aw(t,e,n),this._timelineEngine=new vw(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=$_(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new gw(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=t_(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=t_(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Hw(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=qw(e[0]),e.length>1&&(r=qw(e[e.length-1]))):e&&(n=qw(e)),n||r?new zw(t,n,r):null}let zw=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&T_(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(T_(this._element,this._initialStyles),this._endStyles&&(T_(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(I_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(I_(this._element,this._endStyles),this._endStyles=null),T_(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function qw(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];Gw(i)&&(e=e||{},e[i]=t[i])}return e}function Gw(t){return"display"===t||"position"===t}const $w="animation",Ww="animationend";class Kw{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=tE(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),Jw(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Xw(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Qw(this._element,this._name,"paused")}resume(){Qw(this._element,this._name,"running")}setPosition(t){const e=Yw(this._element,this._name);this._position=t*this._duration,Jw(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Xw(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=tE(t,"").split(","),r=Zw(n,e);r>=0&&(n.splice(r,1),Jw(t,"",n.join(",")))}(this._element,this._name))}}function Qw(t,e,n){Jw(t,"PlayState",n,Yw(t,e))}function Yw(t,e){const n=tE(t,"");return n.indexOf(",")>0?Zw(n.split(","),e):Zw([n],e)}function Zw(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Xw(t,e,n){n?t.removeEventListener(Ww,e):t.addEventListener(Ww,e)}function Jw(t,e,n,r){const i=$w+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function tE(t,e){return t.style[$w+e]}class eE{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Kw(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:F_(this.element,n))})}this.currentSnapshot=t}}class nE extends Gv{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=h_(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class rE{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return a_(t)}matchesElement(t,e){return u_(t,e)}containsElement(t,e){return l_(t,e)}query(t,e,n){return c_(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>h_(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof eE),u={};L_(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=M_(t,e,u));if(0==n)return new nE(t,l);const c="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(h);const d=Hw(t,e),f=new eE(t,e,c,n,r,i,l,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class iE{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:F_(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class sE{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(oE().toString()),this._cssKeyframesDriver=new rE}validateStyleProperty(t){return a_(t)}matchesElement(t,e){return u_(t,e)}containsElement(t,e){return l_(t,e)}query(t,e,n){return c_(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},l=s.filter(t=>t instanceof iE);L_(n,r)&&l.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=Hw(t,e=M_(t,e=e.map(t=>x_(t,!1)),u));return new iE(t,e,a,c)}}function oE(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let aE=(()=>{class t extends jv{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.R.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Uv(t):t;return cE(this._renderer,null,e,"register",[n]),new uE(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.F),r.Ub(a))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class uE extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new lE(this._id,t,e||{},this._renderer)}}class lE{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return cE(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function cE(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const hE="@",dE="@.disabled";let fE=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new pE("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new mE(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.F),r.Ub(Bw),r.Ub(r.z))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class pE{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==hE&&e==dE?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class mE extends pE{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==hE?"."==e.charAt(1)&&e==dE?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==hE){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=hE&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let gE=(()=>{class t extends Bw{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(a),r.Ub(f_),r.Ub(lw))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const yE=new r.q("AnimationModuleType"),bE=[{provide:f_,useFactory:function(){return"function"==typeof oE()?new sE:new rE}},{provide:yE,useValue:"BrowserAnimations"},{provide:jv,useClass:aE},{provide:lw,useFactory:function(){return new cw}},{provide:Bw,useClass:gE},{provide:r.F,useFactory:function(t,e,n){return new fE(t,e,n)},deps:[at,Bw,r.z]}];let vE=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:bE,imports:[_t]}),t})();const _E=["*",[["mat-option"],["ng-container"]]],wE=["*","mat-option, ng-container"];function EE(t,e){if(1&t&&r.Mb(0,"mat-pseudo-checkbox",3),2&t){const t=r.ac();r.dc("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}const SE=["*"],xE=new r.P("9.2.4"),OE=new r.q("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let CE,TE=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getDocument(){const t=this._document||document;return"object"==typeof t&&t?t:null}_getWindow(){const t=this._getDocument(),e=(null==t?void 0:t.defaultView)||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return Object(r.W)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){const t=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),e=this._getDocument();t&&e&&!e.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){const t=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,e=this._getDocument();if(t||!e||!e.body||"function"!=typeof getComputedStyle)return;const n=e.createElement("div");n.classList.add("mat-theme-loaded-marker"),e.body.appendChild(n);const r=getComputedStyle(n);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),e.body.removeChild(n)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&xE.full!==Dv.full&&console.warn("The Angular Material version ("+xE.full+") does not match the Angular CDK version ("+Dv.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)(r.Ub(Rv),r.Ub(OE,8),r.Ub(a,8))},imports:[[ur],ur]}),t})();function IE(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=rn(t)}}}function kE(t,e){return class extends t{constructor(...t){super(...t),this.color=e}get color(){return this._color}set color(t){const n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),n&&this._elementRef.nativeElement.classList.add("mat-"+n),this._color=n)}}}function AE(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=rn(t)}}}function PE(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?t:e}}}function RE(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new ln.a}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}try{CE="undefined"!=typeof Intl}catch(PP){CE=!1}let DE=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();class jE{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const NE={enterDuration:450,exitDuration:400},LE=sr({passive:!0}),ME=["mousedown","touchstart"],UE=["mouseup","mouseleave","touchend","touchcancel"];class FE{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=un(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},NE),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),o=t-r.left,a=e-r.top,u=i.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=o-s+"px",l.style.top=a-s+"px",l.style.height=2*s+"px",l.style.width=2*s+"px",null!=n.color&&(l.style.backgroundColor=n.color),l.style.transitionDuration=u+"ms",this._containerElement.appendChild(l),window.getComputedStyle(l).getPropertyValue("opacity"),l.style.transform="scale(1)";const c=new jE(this,l,n);return c.state=0,this._activeRipples.add(c),n.persistent||(this._mostRecentTransientRipple=c),this._runTimeoutOutsideZone(()=>{const t=c===this._mostRecentTransientRipple;c.state=1,n.persistent||t&&this._isPointerDown||c.fadeOut()},u),c}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},NE),t.config.animation);n.style.transitionDuration=r.exitDuration+"ms",n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=un(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(ME))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(UE),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=function(t){return 0===t.buttons}(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,LE)})})}_removeTriggerEvents(){this._triggerElement&&(ME.forEach(t=>{this._triggerElement.removeEventListener(t,this,LE)}),this._pointerUpEventsRegistered&&UE.forEach(t=>{this._triggerElement.removeEventListener(t,this,LE)}))}}const VE=new r.q("mat-ripple-global-options");let BE=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new FE(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(r.z),r.Lb(Jn),r.Lb(VE,8),r.Lb(yE,8))},t.\u0275dir=r.Gb({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&r.Db("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),HE=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[TE,tr],TE]}),t})(),zE=(()=>{class t{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(yE,8))},t.\u0275cmp=r.Fb({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,e){2&t&&r.Db("mat-pseudo-checkbox-indeterminate","indeterminate"===e.state)("mat-pseudo-checkbox-checked","checked"===e.state)("mat-pseudo-checkbox-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,e){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),t})(),qE=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)}}),t})();class GE{}const $E=IE(GE);let WE=0,KE=(()=>{class t extends $E{constructor(){super(...arguments),this._labelId="mat-optgroup-label-"+WE++}}return t.\u0275fac=function(e){return QE(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["mat-optgroup"]],hostAttrs:["role","group",1,"mat-optgroup"],hostVars:4,hostBindings:function(t,e){2&t&&(r.Bb("aria-disabled",e.disabled.toString())("aria-labelledby",e._labelId),r.Db("mat-optgroup-disabled",e.disabled))},inputs:{disabled:"disabled",label:"label"},exportAs:["matOptgroup"],features:[r.xb],ngContentSelectors:wE,decls:4,vars:2,consts:[[1,"mat-optgroup-label",3,"id"]],template:function(t,e){1&t&&(r.cc(_E),r.Qb(0,"label",0),r.nc(1),r.bc(2),r.Pb(),r.bc(3,1)),2&t&&(r.dc("id",e._labelId),r.Ab(1),r.pc("",e.label," "))},styles:[".mat-optgroup-label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup-label[disabled]{cursor:default}[dir=rtl] .mat-optgroup-label{text-align:right}.mat-optgroup-label .mat-icon{margin-right:16px;vertical-align:middle}.mat-optgroup-label .mat-icon svg{vertical-align:top}[dir=rtl] .mat-optgroup-label .mat-icon{margin-left:16px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();const QE=r.Sb(KE);let YE=0;class ZE{constructor(t,e=!1){this.source=t,this.isUserInput=e}}const XE=new r.q("MAT_OPTION_PARENT_COMPONENT");let JE=(()=>{class t{constructor(t,e,n,i){this._element=t,this._changeDetectorRef=e,this._parent=n,this.group=i,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+YE++,this.onSelectionChange=new r.n,this._stateChanges=new ln.a}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=rn(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,e){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){13!==t.keyCode&&32!==t.keyCode||xv(t)||(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new ZE(this,t))}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(r.h),r.Lb(XE,8),r.Lb(KE,8))},t.\u0275cmp=r.Fb({type:t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,e){1&t&&r.Yb("click",function(){return e._selectViaInteraction()})("keydown",function(t){return e._handleKeydown(t)}),2&t&&(r.Tb("id",e.id),r.Bb("tabindex",e._getTabIndex())("aria-selected",e._getAriaSelected())("aria-disabled",e.disabled.toString()),r.Db("mat-selected",e.selected)("mat-option-multiple",e.multiple)("mat-active",e.active)("mat-option-disabled",e.disabled))},inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],ngContentSelectors:SE,decls:4,vars:3,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"]],template:function(t,e){1&t&&(r.cc(),r.mc(0,EE,1,2,"mat-pseudo-checkbox",0),r.Qb(1,"span",1),r.bc(2),r.Pb(),r.Mb(3,"div",2)),2&t&&(r.dc("ngIf",e.multiple),r.Ab(3),r.dc("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disabled||e.disableRipple))},directives:[D,BE,zE],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.cdk-high-contrast-active .mat-option .mat-option-ripple{opacity:.5}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();function tS(t,e,n){if(n.length){let r=e.toArray(),i=n.toArray(),s=0;for(let e=0;e<t+1;e++)r[e].group&&r[e].group===i[s]&&s++;return s}return 0}let eS=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[HE,V,qE]]}),t})();const nS=new r.q("mat-label-global-options"),rS=["underline"],iS=["connectionContainer"],sS=["inputContainer"],oS=["label"];function aS(t,e){1&t&&(r.Ob(0),r.Qb(1,"div",14),r.Mb(2,"div",15),r.Mb(3,"div",16),r.Mb(4,"div",17),r.Pb(),r.Qb(5,"div",18),r.Mb(6,"div",15),r.Mb(7,"div",16),r.Mb(8,"div",17),r.Pb(),r.Nb())}function uS(t,e){1&t&&(r.Qb(0,"div",19),r.bc(1,1),r.Pb())}function lS(t,e){if(1&t&&(r.Ob(0),r.bc(1,2),r.Qb(2,"span"),r.nc(3),r.Pb(),r.Nb()),2&t){const t=r.ac(2);r.Ab(3),r.oc(t._control.placeholder)}}function cS(t,e){1&t&&r.bc(0,3,["*ngSwitchCase","true"])}function hS(t,e){1&t&&(r.Qb(0,"span",23),r.nc(1," *"),r.Pb())}function dS(t,e){if(1&t){const t=r.Rb();r.Qb(0,"label",20,21),r.Yb("cdkObserveContent",function(){return r.gc(t),r.ac().updateOutlineGap()}),r.mc(2,lS,4,1,"ng-container",12),r.mc(3,cS,1,0,"ng-content",12),r.mc(4,hS,2,0,"span",22),r.Pb()}if(2&t){const t=r.ac();r.Db("mat-empty",t._control.empty&&!t._shouldAlwaysFloat)("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat)("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),r.dc("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),r.Bb("for",t._control.id)("aria-owns",t._control.id),r.Ab(2),r.dc("ngSwitchCase",!1),r.Ab(1),r.dc("ngSwitchCase",!0),r.Ab(1),r.dc("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function fS(t,e){1&t&&(r.Qb(0,"div",24),r.bc(1,4),r.Pb())}function pS(t,e){if(1&t&&(r.Qb(0,"div",25,26),r.Mb(2,"span",27),r.Pb()),2&t){const t=r.ac();r.Ab(2),r.Db("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function mS(t,e){if(1&t&&(r.Qb(0,"div"),r.bc(1,5),r.Pb()),2&t){const t=r.ac();r.dc("@transitionMessages",t._subscriptAnimationState)}}function gS(t,e){if(1&t&&(r.Qb(0,"div",31),r.nc(1),r.Pb()),2&t){const t=r.ac(2);r.dc("id",t._hintLabelId),r.Ab(1),r.oc(t.hintLabel)}}function yS(t,e){if(1&t&&(r.Qb(0,"div",28),r.mc(1,gS,2,2,"div",29),r.bc(2,6),r.Mb(3,"div",30),r.bc(4,7),r.Pb()),2&t){const t=r.ac();r.dc("@transitionMessages",t._subscriptAnimationState),r.Ab(1),r.dc("ngIf",t.hintLabel)}}const bS=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],vS=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let _S=0,wS=(()=>{class t{constructor(){this.id="mat-error-"+_S++}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t,selectors:[["mat-error"]],hostAttrs:["role","alert",1,"mat-error"],hostVars:1,hostBindings:function(t,e){2&t&&r.Bb("id",e.id)},inputs:{id:"id"}}),t})();const ES={transitionMessages:Lv("transitionMessages",[Vv("enter",Fv({opacity:1,transform:"translateY(0%)"})),Bv("void => enter",[Fv({opacity:0,transform:"translateY(-100%)"}),Mv("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let SS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t}),t})();function xS(t){return Error(`A hint was already declared for 'align="${t}"'.`)}let OS=0,CS=(()=>{class t{constructor(){this.align="start",this.id="mat-hint-"+OS++}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(t,e){2&t&&(r.Bb("id",e.id)("align",null),r.Db("mat-right","end"==e.align))},inputs:{align:"align",id:"id"}}),t})(),TS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t,selectors:[["mat-label"]]}),t})(),IS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t,selectors:[["mat-placeholder"]]}),t})(),kS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t,selectors:[["","matPrefix",""]]}),t})(),AS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t,selectors:[["","matSuffix",""]]}),t})(),PS=0;class RS{constructor(t){this._elementRef=t}}const DS=kE(RS,"primary"),jS=new r.q("MAT_FORM_FIELD_DEFAULT_OPTIONS"),NS=new r.q("MatFormField");let LS=(()=>{class t extends DS{constructor(t,e,n,r,i,s,o,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=r,this._defaults=i,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new ln.a,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+PS++,this._labelId="mat-form-field-label-"+PS++,this._labelOptions=n||{},this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=i&&i.appearance?i.appearance:"legacy",this._hideRequiredMarker=!(!i||null==i.hideRequiredMarker)&&i.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=rn(t)}get _shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}get _canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}get _labelChild(){return this._labelChildNonStatic||this._labelChildStatic}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-"+t.controlType),t.stateChanges.pipe(Mn(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Pn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.asObservable().pipe(Pn(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Object(pn.a)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Mn(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Mn(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Pn(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!!this._labelChild}_shouldLabelFloat(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,dn(this._label.nativeElement,"transitionend").pipe(yr(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){if(this._hintChildren){let t,e;this._hintChildren.forEach(n=>{if("start"===n.align){if(t||this.hintLabel)throw xS("start");t=n}else if("end"===n.align){if(e)throw xS("end");e=n}})}}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||this._labelOptions.float||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if("hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&(t=this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),s=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=r.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(i),o=this._getStartEnd(t.children[0].getBoundingClientRect());let a=0;for(const e of t.children)a+=e.offsetWidth;e=Math.abs(o-s)-5,n=a>0?.75*a+10:0}for(let o=0;o<i.length;o++)i[o].style.width=e+"px";for(let o=0;o<s.length;o++)s[o].style.width=n+"px";this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(r.h),r.Lb(nS,8),r.Lb(ar,8),r.Lb(jS,8),r.Lb(Jn),r.Lb(r.z),r.Lb(yE,8))},t.\u0275cmp=r.Fb({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){if(1&t&&(r.Eb(n,SS,!0),r.jc(n,SS,!0),r.Eb(n,TS,!0),r.jc(n,TS,!0),r.Eb(n,IS,!0),r.Eb(n,wS,!0),r.Eb(n,CS,!0),r.Eb(n,kS,!0),r.Eb(n,AS,!0)),2&t){let t;r.ec(t=r.Zb())&&(e._controlNonStatic=t.first),r.ec(t=r.Zb())&&(e._controlStatic=t.first),r.ec(t=r.Zb())&&(e._labelChildNonStatic=t.first),r.ec(t=r.Zb())&&(e._labelChildStatic=t.first),r.ec(t=r.Zb())&&(e._placeholderChild=t.first),r.ec(t=r.Zb())&&(e._errorChildren=t),r.ec(t=r.Zb())&&(e._hintChildren=t),r.ec(t=r.Zb())&&(e._prefixChildren=t),r.ec(t=r.Zb())&&(e._suffixChildren=t)}},viewQuery:function(t,e){if(1&t&&(r.qc(rS,!0),r.kc(iS,!0),r.qc(sS,!0),r.qc(oS,!0)),2&t){let t;r.ec(t=r.Zb())&&(e.underlineRef=t.first),r.ec(t=r.Zb())&&(e._connectionContainerRef=t.first),r.ec(t=r.Zb())&&(e._inputContainerRef=t.first),r.ec(t=r.Zb())&&(e._label=t.first)}},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(t,e){2&t&&r.Db("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat)("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[r.zb([{provide:NS,useExisting:t}]),r.xb],ngContentSelectors:vS,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(r.cc(bS),r.Qb(0,"div",0),r.Qb(1,"div",1,2),r.Yb("click",function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)}),r.mc(3,aS,9,0,"ng-container",3),r.mc(4,uS,2,0,"div",4),r.Qb(5,"div",5,6),r.bc(7),r.Qb(8,"span",7),r.mc(9,dS,5,16,"label",8),r.Pb(),r.Pb(),r.mc(10,fS,2,0,"div",9),r.Pb(),r.mc(11,pS,3,4,"div",10),r.Qb(12,"div",11),r.mc(13,mS,2,1,"div",12),r.mc(14,yS,5,2,"div",13),r.Pb(),r.Pb()),2&t&&(r.Ab(3),r.dc("ngIf","outline"==e.appearance),r.Ab(1),r.dc("ngIf",e._prefixChildren.length),r.Ab(5),r.dc("ngIf",e._hasFloatingLabel()),r.Ab(1),r.dc("ngIf",e._suffixChildren.length),r.Ab(1),r.dc("ngIf","outline"!=e.appearance),r.Ab(1),r.dc("ngSwitch",e._getDisplayedMessages()),r.Ab(1),r.dc("ngSwitchCase","error"),r.Ab(1),r.dc("ngSwitchCase","hint"))},directives:[D,M,U,Ev],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[ES.transitionMessages]},changeDetection:0}),t})(),MS=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[V,TE,Sv],TE]}),t})();const US=sr({passive:!0});let FS=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return gr.a;const e=un(t),n=this._monitoredElements.get(e);if(n)return n.subject.asObservable();const r=new ln.a,i="cdk-text-field-autofilled",s=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(i)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(i)&&(e.classList.remove(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!1}))):(e.classList.add(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",s,US),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:r,unlisten:()=>{e.removeEventListener("animationstart",s,US)}}),r.asObservable()}stopMonitoring(t){const e=un(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(Jn),r.Ub(r.z))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(Jn),Object(r.Ub)(r.z))},token:t,providedIn:"root"}),t})(),VS=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[tr]]}),t})();const BS=new r.q("MAT_INPUT_VALUE_ACCESSOR"),HS=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let zS=0;class qS{constructor(t,e,n,r){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r}}const GS=RE(qS);let $S=(()=>{class t extends GS{constructor(t,e,n,r,i,s,o,a,u){super(s,r,i,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._uid="mat-input-"+zS++,this.focused=!1,this.stateChanges=new ln.a,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>nr().has(t));const l=this._elementRef.nativeElement,c=l.nodeName.toLowerCase();this._inputValueAccessor=o||l,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&u.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===c,this._isTextarea="textarea"===c,this._isNativeSelect&&(this.controlType=l.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=rn(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=rn(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&nr().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=rn(t)}ngOnInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){if(HS.indexOf(this._type)>-1)throw Error(`Input type "${this._type}" isn't supported by matInput.`)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(Jn),r.Lb(Xt,10),r.Lb(Me,8),r.Lb(Be,8),r.Lb(DE),r.Lb(BS,10),r.Lb(FS),r.Lb(r.z))},t.\u0275dir=r.Gb({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:10,hostBindings:function(t,e){1&t&&r.Yb("focus",function(){return e._focusChanged(!0)})("blur",function(){return e._focusChanged(!1)})("input",function(){return e._onInput()}),2&t&&(r.Tb("disabled",e.disabled)("required",e.required),r.Bb("id",e.id)("placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-describedby",e._ariaDescribedby||null)("aria-invalid",e.errorState)("aria-required",e.required.toString()),r.Db("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher"},exportAs:["matInput"],features:[r.zb([{provide:SS,useExisting:t}]),r.xb,r.yb]}),t})(),WS=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[DE],imports:[[VS,MS],VS,MS]}),t})();const KS=["Name"];function QS(t,e){1&t&&r.Mb(0,"div",8)}function YS(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",6),r.Yb("dblclick",function(e){return r.gc(t),r.ac().deleteItm(e)}),r.mc(1,QS,1,0,"div",7),r.nc(2),r.Pb()}if(2&t){const t=e.$implicit;r.Ab(2),r.pc(" ",t.player," ")}}let ZS=(()=>{class t{constructor(t,e){this.fb=t,this.scoreService=e,this.inputForm=new De({}),this.position=0}ngOnInit(){this.createForm(),this.formResponse(),this.scoreService.players=[],this.initNames("Ron"),this.initNames("Joanie"),this.initNames("Stefanie"),this.initNames("Thomas")}keyD(t){console.log("33",t.key),"tab"===t.key&&(t.preventDefault(),t.stopPropagation(),this.NameChange(t))}deleteItm(t){const e=t.target.outerText,n=this.scoreService.players.findIndex(t=>t.player===e);this.scoreService.players=[...this.scoreService.players.slice(0,n),...this.scoreService.players.slice(n+1)],this.renumberPostition()}viewPlayer(){console.log(this.scoreService.players)}createForm(){this.inputForm=this.fb.group({Name:null})}formResponse(){var t;null===(t=this.inputForm.get("Name"))||void 0===t||t.valueChanges.pipe(Ye(1e3)).pipe(tn()).subscribe(t=>{console.log("41",t)})}NameChange(t){console.log("51",t.target.value),this.scoreService.addPlayer({game:"1",player:t.target.value,position:this.position++}),this.inputForm.patchValue({Name:""}),this.nameInput.nativeElement.focus()}initNames(t){console.log("51",t),this.scoreService.addPlayer({game:"1",player:t,position:this.position++})}drop(t){Vr(this.scoreService.players,t.previousIndex,t.currentIndex),this.renumberPostition()}renumberPostition(){for(let t=0;t<this.scoreService.players.length;t++)this.scoreService.players[t].position=t}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Ge),r.Lb(vv))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-setup"]],viewQuery:function(t,e){if(1&t&&r.kc(KS,!0,r.l),2&t){let t;r.ec(t=r.Zb())&&(e.nameInput=t.first)}},decls:9,vars:2,consts:[[1,"center",2,"margin","5px 40px","width","500px",3,"formGroup"],[2,"display","flex","height","40px","margin-top","50px"],["formControlName","Name","placeholder","Name","cdkFocusInitial","","matInput","","type","text","autofocus","","cdkTrapFocus","","cdkTrapFocusAutoCapture","true",2,"align-self","center",3,"change","keydown"],["Name",""],["cdkDropList","",1,"center",2,"margin","5px 40px","align-self","center","width","500px",3,"cdkDropListDropped"],["class","example-box","cdkDrag","",3,"dblclick",4,"ngFor","ngForOf"],["cdkDrag","",1,"example-box",3,"dblclick"],["class","example-custom-placeholder",4,"cdkDragPlaceholder"],[1,"example-custom-placeholder"]],template:function(t,e){1&t&&(r.Qb(0,"form",0),r.Qb(1,"div",1),r.Qb(2,"output"),r.nc(3,"Enter Players in Order Around Table"),r.Pb(),r.Pb(),r.Qb(4,"mat-form-field"),r.Qb(5,"input",2,3),r.Yb("change",function(t){return e.NameChange(t)})("keydown",function(t){return e.keyD(t)}),r.Pb(),r.Pb(),r.Pb(),r.Qb(7,"div",4),r.Yb("cdkDropListDropped",function(t){return e.drop(t)}),r.mc(8,YS,3,1,"div",5),r.Pb()),2&t&&(r.dc("formGroup",e.inputForm),r.Ab(8),r.dc("ngForOf",e.scoreService.players))},directives:[Ue,ee,Be,LS,Rt,$S,te,ze,ui,P,ii,ti],styles:[".example-list[_ngcontent-%COMP%]{width:500px;max-width:100%;border:1px solid #ccc;min-height:60px;display:block;background:#fff;border-radius:4px;overflow:hidden}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:#fff;font-size:14px}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-custom-placeholder[_ngcontent-%COMP%], .example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.example-custom-placeholder[_ngcontent-%COMP%]{background:#ccc;border:3px dotted #999;min-height:60px}"]}),t})();function XS(){throw Error("Host already has a portal attached")}class JS{attach(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&XS(),this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class tx extends JS{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class ex extends JS{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class nx extends JS{constructor(t){super(),this.element=t instanceof r.l?t.nativeElement:t}}class rx extends class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&XS(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof tx?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof ex?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof nx?(this._attachedPortal=t,this.attachDomPortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");const n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.detectChanges(),n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let ix=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)}}),t})();class sx{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=an(-this._previousScrollPosition.left),t.style.top=an(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=r,n.scrollBehavior=i}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}function ox(){return Error("Scroll strategy has already been attached.")}class ax{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){if(this._overlayRef)throw ox();this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class ux{enable(){}disable(){}attach(){}}function lx(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function cx(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class hx{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){if(this._overlayRef)throw ox();this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();lx(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let dx=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new ux,this.close=t=>new ax(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new sx(this._viewportRuler,this._document),this.reposition=t=>new hx(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(cr),r.Ub(hr),r.Ub(r.z),r.Ub(a))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(cr),Object(r.Ub)(hr),Object(r.Ub)(r.z),Object(r.Ub)(a))},token:t,providedIn:"root"}),t})();class fx{constructor(t){if(this.scrollStrategy=new ux,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class px{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class mx{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}function gx(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". Expected "top", "bottom" or "center".`)}function yx(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". Expected "start", "end" or "center".`)}let bx=(()=>{class t{constructor(t){this._attachedOverlays=[],this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}},this._document=t}ngOnDestroy(){this._detach()}add(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}_detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(a))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(a))},token:t,providedIn:"root"}),t})();const vx=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let _x=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._platform?this._platform.isBrowser:"undefined"!=typeof window,e="cdk-overlay-container";if(t||vx){const t=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const n=this._document.createElement("div");n.classList.add(e),vx?n.setAttribute("platform","test"):t||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(a),r.Ub(Jn))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(a),Object(r.Ub)(Jn))},token:t,providedIn:"root"}),t})();class wx{constructor(t,e,n,r,i,s,o,a){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=s,this._document=o,this._location=a,this._backdropElement=null,this._backdropClick=new ln.a,this._attachments=new ln.a,this._detachments=new ln.a,this._locationChanges=_n.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new ln.a,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(yr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEvents.asObservable()}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=an(this._config.width),t.height=an(this._config.height),t.minWidth=an(this._config.minWidth),t.minHeight=an(this._config.minHeight),t.maxWidth=an(this._config.maxWidth),t.maxHeight=an(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;on(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.asObservable().pipe(Pn(Object(pn.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const Ex="cdk-overlay-connected-position-bounding-box",Sx=/([A-Za-z%]+)$/;class xx{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ln.a,this._resizeSubscription=_n.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add(Ex),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),u=this._getOverlayFit(a,e,n,s);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(u,a,n)?r.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<u.visibleArea)&&(i={overlayFit:u,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ox(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Ex),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){let{x:i,y:s}=t,o=this._getOffset(r,"x"),a=this._getOffset(r,"y");o&&(i+=o),a&&(s+=a);let u=0-s,l=s+e.height-n.height,c=this._subtractOverflows(e.width,0-i,i+e.width-n.width),h=this._subtractOverflows(e.height,u,l),d=c*h;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:c==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,s=Cx(this._overlayRef.getConfig().minHeight),o=Cx(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=i;return(t.fitsInViewportVertically||null!=s&&s<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=this._viewportRect,i=Math.max(t.x+e.width-r.right,0),s=Math.max(t.y+e.height-r.bottom,0),o=Math.max(r.top-n.top-t.y,0),a=Math.max(r.left-n.left-t.x,0);let u=0,l=0;return u=e.width<=r.width?a||-i:t.x<this._viewportMargin?r.left-n.left-t.x:0,l=e.height<=r.height?o||-s:t.y<this._viewportMargin?r.top-n.top-t.y:0,this._previousPushAmount={x:u,y:l},{x:t.x+u,y:t.y+l}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new mx(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,s,o,a,u,l;if("top"===e.overlayY)s=t.y,i=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,i=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,s=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)l=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)u=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,u=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-r/2)}return{top:s,left:u,bottom:o,right:l,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=an(n.height),r.top=an(n.top),r.bottom=an(n.bottom),r.width=an(n.width),r.left=an(n.left),r.right=an(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=an(t)),i&&(r.maxWidth=an(i))}this._lastBoundingBoxSize=n,Ox(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Ox(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ox(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();Ox(n,this._getExactOverlayY(e,t,r)),Ox(n,this._getExactOverlayX(e,t,r))}else n.position="static";let o="",a=this._getOffset(e,"x"),u=this._getOffset(e,"y");a&&(o+=`translateX(${a}px) `),u&&(o+=`translateY(${u}px)`),n.transform=o.trim(),s.maxHeight&&(r?n.maxHeight=an(s.maxHeight):i&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=an(s.maxWidth):i&&(n.maxWidth="")),Ox(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=s,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=an(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=an(s.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:cx(t,n),isOriginOutsideView:lx(t,n),isOverlayClipped:cx(e,n),isOverlayOutsideView:lx(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(t=>{yx("originX",t.originX),gx("originY",t.originY),yx("overlayX",t.overlayX),gx("overlayY",t.overlayY)})}_addPanelClasses(t){this._pane&&on(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof r.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function Ox(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Cx(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(Sx);return n&&"px"!==n?null:parseFloat(e)}return t||null}class Tx{constructor(t,e,n,r,i,s,o){this._preferredPositions=[],this._positionStrategy=new xx(n,r,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e)}get _isRtl(){return"rtl"===this._overlayRef.getDirection()}get onPositionChange(){return this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new px(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const Ix="cdk-global-overlay-wrapper";class kx{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Ix),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:s,maxHeight:o}=n,a=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),u=!("100%"!==i&&"100vh"!==i||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=u?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(Ix),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Ax=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new kx}connectedTo(t,e,n){return new Tx(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new xx(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(hr),r.Ub(a),r.Ub(Jn),r.Ub(_x))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(hr),Object(r.Ub)(a),Object(r.Ub)(Jn),Object(r.Ub)(_x))},token:t,providedIn:"root"}),t})(),Px=0,Rx=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u,l){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=u,this._location=l}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new fx(t);return i.direction=i.direction||this._directionality.value,new wx(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+Px++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(r.g)),new rx(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(dx),r.Ub(_x),r.Ub(r.j),r.Ub(Ax),r.Ub(bx),r.Ub(r.r),r.Ub(r.z),r.Ub(a),r.Ub(ar),r.Ub(E,8))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const Dx=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],jx=new r.q("cdk-connected-overlay-scroll-strategy");let Nx=(()=>{class t{constructor(t){this.elementRef=t}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),t})(),Lx=(()=>{class t{constructor(t,e,n,i,s){this._overlay=t,this._dir=s,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=_n.a.EMPTY,this.viewportMargin=0,this.open=!1,this.backdropClick=new r.n,this.positionChange=new r.n,this.attach=new r.n,this.detach=new r.n,this.overlayKeydown=new r.n,this._templatePortal=new ex(e,n),this._scrollStrategyFactory=i,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=rn(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=rn(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=rn(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=rn(t)}get push(){return this._push}set push(t){this._push=rn(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._overlayRef&&this._overlayRef.dispose(),this._backdropSubscription.unsubscribe()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=Dx),this._overlayRef=this._overlay.create(this._buildConfig()),this._overlayRef.keydownEvents().subscribe(t=>{this.overlayKeydown.next(t),27!==t.keyCode||xv(t)||(t.preventDefault(),this._detachOverlay())})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),e=new fx({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e}_updatePositionStrategy(t){const e=this.positions.map(t=>({originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||this.offsetX,offsetY:t.offsetY||this.offsetY,panelClass:t.panelClass||void 0}));return t.setOrigin(this.origin.elementRef).withPositions(e).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t.positionChanges.subscribe(t=>this.positionChange.emit(t)),t}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||(this._overlayRef.attach(this._templatePortal),this.attach.emit()),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe()}_detachOverlay(){this._overlayRef&&(this._overlayRef.detach(),this.detach.emit()),this._backdropSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Rx),r.Lb(r.L),r.Lb(r.Q),r.Lb(jx),r.Lb(ar,8))},t.\u0275dir=r.Gb({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown"},exportAs:["cdkConnectedOverlay"],features:[r.yb]}),t})();const Mx={provide:jx,deps:[Rx],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let Ux=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[Rx,Mx],imports:[[ur,ix,fr],fr]}),t})();function Fx(t){return new wt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Ot.a)(n):Object(gr.b)()).subscribe(e)})}const Vx=["trigger"],Bx=["panel"];function Hx(t,e){if(1&t&&(r.Qb(0,"span",8),r.nc(1),r.Pb()),2&t){const t=r.ac();r.Ab(1),r.oc(t.placeholder||"\xa0")}}function zx(t,e){if(1&t&&(r.Qb(0,"span"),r.nc(1),r.Pb()),2&t){const t=r.ac(2);r.Ab(1),r.oc(t.triggerValue||"\xa0")}}function qx(t,e){1&t&&r.bc(0,0,["*ngSwitchCase","true"])}function Gx(t,e){if(1&t&&(r.Qb(0,"span",9),r.mc(1,zx,2,1,"span",10),r.mc(2,qx,1,0,"ng-content",11),r.Pb()),2&t){const t=r.ac();r.dc("ngSwitch",!!t.customTrigger),r.Ab(2),r.dc("ngSwitchCase",!0)}}function $x(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",12),r.Qb(1,"div",13,14),r.Yb("@transformPanel.done",function(e){return r.gc(t),r.ac()._panelDoneAnimatingStream.next(e.toState)})("keydown",function(e){return r.gc(t),r.ac()._handleKeydown(e)}),r.bc(3,1),r.Pb(),r.Pb()}if(2&t){const t=r.ac();r.dc("@transformPanelWrap",void 0),r.Ab(1),r.Cb("mat-select-panel ",t._getPanelTheme(),""),r.lc("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),r.dc("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),r.Bb("id",t.id+"-panel")}}const Wx=[[["mat-select-trigger"]],"*"],Kx=["mat-select-trigger","*"],Qx={transformPanelWrap:Lv("transformPanelWrap",[Bv("* => void",zv("@transformPanel",[Hv()],{optional:!0}))]),transformPanel:Lv("transformPanel",[Vv("void",Fv({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Vv("showing",Fv({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Vv("showing-multiple",Fv({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Bv("void => *",Mv("120ms cubic-bezier(0, 0, 0.2, 1)")),Bv("* => void",Mv("100ms 25ms linear",Fv({opacity:0})))])};let Yx=0;const Zx=256,Xx=new r.q("mat-select-scroll-strategy"),Jx=new r.q("MAT_SELECT_CONFIG"),tO={provide:Xx,deps:[Rx],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class eO{constructor(t,e){this.source=t,this.value=e}}class nO{constructor(t,e,n,r,i){this._elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=r,this.ngControl=i}}const rO=AE(PE(IE(RE(nO))));let iO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t,selectors:[["mat-select-trigger"]]}),t})(),sO=(()=>{class t extends rO{constructor(t,e,n,i,s,o,a,u,l,c,h,d,f,p){super(s,i,a,u,c),this._viewportRuler=t,this._changeDetectorRef=e,this._ngZone=n,this._dir=o,this._parentFormField=l,this.ngControl=c,this._liveAnnouncer=f,this._panelOpen=!1,this._required=!1,this._scrollTop=0,this._multiple=!1,this._compareWith=(t,e)=>t===e,this._uid="mat-select-"+Yx++,this._destroy=new ln.a,this._triggerFontSize=0,this._onChange=()=>{},this._onTouched=()=>{},this._optionIds="",this._transformOrigin="top",this._panelDoneAnimatingStream=new ln.a,this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],this._disableOptionCentering=!1,this._focused=!1,this.controlType="mat-select",this.ariaLabel="",this.optionSelectionChanges=Fx(()=>{const t=this.options;return t?t.changes.pipe(Mn(t),Bn(()=>Object(pn.a)(...t.map(t=>t.onSelectionChange)))):this._ngZone.onStable.asObservable().pipe(yr(1),Bn(()=>this.optionSelectionChanges))}),this.openedChange=new r.n,this._openedStream=this.openedChange.pipe(In(t=>t),Object(St.a)(()=>{})),this._closedStream=this.openedChange.pipe(In(t=>!t),Object(St.a)(()=>{})),this.selectionChange=new r.n,this.valueChange=new r.n,this.ngControl&&(this.ngControl.valueAccessor=this),this._scrollStrategyFactory=d,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(h)||0,this.id=this.id,p&&(null!=p.disableOptionCentering&&(this.disableOptionCentering=p.disableOptionCentering),null!=p.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=p.typeaheadDebounceInterval))}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required}set required(t){this._required=rn(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){if(this._selectionModel)throw Error("Cannot change `multiple` mode of select after initialization.");this._multiple=rn(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=rn(t)}get compareWith(){return this._compareWith}set compareWith(t){if("function"!=typeof t)throw Error("`compareWith` must be a function.");this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){t!==this._value&&(this.writeValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=sn(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new lr(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(tn(),Pn(this._destroy)).subscribe(()=>{this.panelOpen?(this._scrollTop=0,this.openedChange.emit(!0)):(this.openedChange.emit(!1),this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck())}),this._viewportRuler.change().pipe(Pn(this._destroy)).subscribe(()=>{this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Pn(this._destroy)).subscribe(t=>{t.added.forEach(t=>t.select()),t.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(Mn(null),Pn(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){!this.disabled&&this.options&&this.options.length&&!this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._calculateOverlayPosition(),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this._ngZone.onStable.asObservable().pipe(yr(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=this._triggerFontSize+"px")}))}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.options&&this._setSelectionByValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const e=t.keyCode,n=40===e||38===e||37===e||39===e,r=13===e||32===e,i=this._keyManager;if(!i.isTyping()&&r&&!xv(t)||(this.multiple||t.altKey)&&n)t.preventDefault(),this.open();else if(!this.multiple){const n=this.selected;36===e||35===e?(36===e?i.setFirstItemActive():i.setLastItemActive(),t.preventDefault()):i.onKeydown(t);const r=this.selected;r&&n!==r&&this._liveAnnouncer.announce(r.viewValue,1e4)}}_handleOpenKeydown(t){const e=this._keyManager,n=t.keyCode,r=40===n||38===n,i=e.isTyping();if(36===n||35===n)t.preventDefault(),36===n?e.setFirstItemActive():e.setLastItemActive();else if(r&&t.altKey)t.preventDefault(),this.close();else if(i||13!==n&&32!==n||!e.activeItem||xv(t))if(!i&&this._multiple&&65===n&&t.ctrlKey){t.preventDefault();const e=this.options.some(t=>!t.disabled&&!t.selected);this.options.forEach(t=>{t.disabled||(e?t.select():t.deselect())})}else{const n=e.activeItemIndex;e.onKeydown(t),this._multiple&&r&&t.shiftKey&&e.activeItem&&e.activeItemIndex!==n&&e.activeItem._selectViaInteraction()}else t.preventDefault(),e.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(yr(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop})}_getPanelTheme(){return this._parentFormField?"mat-"+this._parentFormField.color:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.multiple&&t){if(!Array.isArray(t))throw Error("Value must be an array in multiple-selection mode.");this._selectionModel.clear(),t.forEach(t=>this._selectValue(t)),this._sortValues()}else{this._selectionModel.clear();const e=this._selectValue(t);e?this._keyManager.setActiveItem(e):this.panelOpen||this._keyManager.setActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const e=this.options.find(e=>{try{return null!=e.value&&this._compareWith(e.value,t)}catch(n){return Object(r.W)()&&console.warn(n),!1}});return e&&this._selectionModel.select(e),e}_initKeyManager(){this._keyManager=new Ov(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Pn(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Pn(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollActiveOptionIntoView():this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=Object(pn.a)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Pn(t)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Object(pn.a)(...this.options.map(t=>t._stateChanges)).pipe(Pn(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()}),this._setOptionIds()}_onSelect(t,e){const n=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(n!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),this._propagateChanges(t.value)),n!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((e,n)=>this.sortComparator?this.sortComparator(e,n,t):t.indexOf(e)-t.indexOf(n)),this.stateChanges.next()}}_propagateChanges(t){let e=null;e=this.multiple?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(new eO(this,e)),this._changeDetectorRef.markForCheck()}_setOptionIds(){this._optionIds=this.options.map(t=>t.id).join(" ")}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_scrollActiveOptionIntoView(){const t=this._keyManager.activeItemIndex||0,e=tS(t,this.options,this.optionGroups);this.panel.nativeElement.scrollTop=function(t,e,n,r){const i=t*e;return i<n?i:i+e>n+256?Math.max(0,i-256+e):n}(t+e,this._getItemHeight(),this.panel.nativeElement.scrollTop)}focus(t){this._elementRef.nativeElement.focus(t)}_getOptionIndex(t){return this.options.reduce((e,n,r)=>void 0!==e?e:t===n?r:void 0,void 0)}_calculateOverlayPosition(){const t=this._getItemHeight(),e=this._getItemCount(),n=Math.min(e*t,Zx),r=e*t-n;let i=this.empty?0:this._getOptionIndex(this._selectionModel.selected[0]);i+=tS(i,this.options,this.optionGroups);const s=n/2;this._scrollTop=this._calculateOverlayScroll(i,s,r),this._offsetY=this._calculateOverlayOffsetY(i,s,r),this._checkOverlayWithinViewport(r)}_calculateOverlayScroll(t,e,n){const r=this._getItemHeight();return Math.min(Math.max(0,r*t-e+r/2),n)}_getAriaLabel(){return this.ariaLabelledby?null:this.ariaLabel||this.placeholder}_getAriaLabelledby(){return this.ariaLabelledby?this.ariaLabelledby:this._parentFormField&&this._parentFormField._hasFloatingLabel()&&!this._getAriaLabel()&&this._parentFormField._labelId||null}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_calculateOverlayOffsetX(){const t=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),e=this._viewportRuler.getViewportSize(),n=this._isRtl(),r=this.multiple?56:32;let i;if(this.multiple)i=40;else{let t=this._selectionModel.selected[0]||this.options.first;i=t&&t.group?32:16}n||(i*=-1);const s=0-(t.left+i-(n?r:0)),o=t.right+i-e.width+(n?0:r);s>0?i+=s+8:o>0&&(i-=o+8),this.overlayDir.offsetX=Math.round(i),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,e,n){const r=this._getItemHeight(),i=(r-this._triggerRect.height)/2,s=Math.floor(Zx/r);let o;return this._disableOptionCentering?0:(o=0===this._scrollTop?t*r:this._scrollTop===n?(t-(this._getItemCount()-s))*r+(r-(this._getItemCount()*r-Zx)%r):e-r/2,Math.round(-1*o-i))}_checkOverlayWithinViewport(t){const e=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),r=this._triggerRect.top-8,i=n.height-this._triggerRect.bottom-8,s=Math.abs(this._offsetY),o=Math.min(this._getItemCount()*e,Zx)-s-this._triggerRect.height;o>i?this._adjustPanelUp(o,i):s>r?this._adjustPanelDown(s,r,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,e){const n=Math.round(t-e);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,e,n){const r=Math.round(t-e);if(this._scrollTop+=r,this._offsetY+=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_getOriginBasedOnOption(){const t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-e+t/2}px 0px`}_getItemCount(){return this.options.length+this.optionGroups.length}_getItemHeight(){return 3*this._triggerFontSize}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(hr),r.Lb(r.h),r.Lb(r.z),r.Lb(DE),r.Lb(r.l),r.Lb(ar,8),r.Lb(Me,8),r.Lb(Be,8),r.Lb(NS,8),r.Lb(Xt,10),r.Vb("tabindex"),r.Lb(Xx),r.Lb(Iv),r.Lb(Jx,8))},t.\u0275cmp=r.Fb({type:t,selectors:[["mat-select"]],contentQueries:function(t,e,n){if(1&t&&(r.Eb(n,iO,!0),r.Eb(n,JE,!0),r.Eb(n,KE,!0)),2&t){let t;r.ec(t=r.Zb())&&(e.customTrigger=t.first),r.ec(t=r.Zb())&&(e.options=t),r.ec(t=r.Zb())&&(e.optionGroups=t)}},viewQuery:function(t,e){if(1&t&&(r.qc(Vx,!0),r.qc(Bx,!0),r.qc(Lx,!0)),2&t){let t;r.ec(t=r.Zb())&&(e.trigger=t.first),r.ec(t=r.Zb())&&(e.panel=t.first),r.ec(t=r.Zb())&&(e.overlayDir=t.first)}},hostAttrs:["role","listbox",1,"mat-select"],hostVars:19,hostBindings:function(t,e){1&t&&r.Yb("keydown",function(t){return e._handleKeydown(t)})("focus",function(){return e._onFocus()})("blur",function(){return e._onBlur()}),2&t&&(r.Bb("id",e.id)("tabindex",e.tabIndex)("aria-label",e._getAriaLabel())("aria-labelledby",e._getAriaLabelledby())("aria-required",e.required.toString())("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-owns",e.panelOpen?e._optionIds:null)("aria-multiselectable",e.multiple)("aria-describedby",e._ariaDescribedby||null)("aria-activedescendant",e._getAriaActiveDescendant()),r.Db("mat-select-disabled",e.disabled)("mat-select-invalid",e.errorState)("mat-select-required",e.required)("mat-select-empty",e.empty))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],id:"id",disableOptionCentering:"disableOptionCentering",typeaheadDebounceInterval:"typeaheadDebounceInterval",placeholder:"placeholder",required:"required",multiple:"multiple",compareWith:"compareWith",value:"value",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[r.zb([{provide:SS,useExisting:t},{provide:XE,useExisting:t}]),r.xb,r.yb],ngContentSelectors:Kx,decls:9,vars:9,consts:[["cdk-overlay-origin","","aria-hidden","true",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder"],[1,"mat-select-value-text",3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-panel-wrap"],[3,"ngClass","keydown"],["panel",""]],template:function(t,e){if(1&t&&(r.cc(Wx),r.Qb(0,"div",0,1),r.Yb("click",function(){return e.toggle()}),r.Qb(3,"div",2),r.mc(4,Hx,2,1,"span",3),r.mc(5,Gx,3,2,"span",4),r.Pb(),r.Qb(6,"div",5),r.Mb(7,"div",6),r.Pb(),r.Pb(),r.mc(8,$x,4,11,"ng-template",7),r.Yb("backdropClick",function(){return e.close()})("attach",function(){return e._onAttached()})("detach",function(){return e.close()})),2&t){const t=r.fc(1);r.Ab(3),r.dc("ngSwitch",e.empty),r.Ab(1),r.dc("ngSwitchCase",!0),r.Ab(1),r.dc("ngSwitchCase",!1),r.Ab(3),r.dc("cdkConnectedOverlayScrollStrategy",e._scrollStrategy)("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayOpen",e.panelOpen)("cdkConnectedOverlayPositions",e._positions)("cdkConnectedOverlayMinWidth",null==e._triggerRect?null:e._triggerRect.width)("cdkConnectedOverlayOffsetY",e._offsetY)}},directives:[Nx,M,U,Lx,F,k],styles:[".mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}\n"],encapsulation:2,data:{animation:[Qx.transformPanelWrap,Qx.transformPanel]},changeDetection:0}),t})(),oO=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[tO],imports:[[V,Ux,eS,TE],dr,MS,eS,TE]}),t})();class aO extends ln.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new $n.a;return this._value}next(t){super.next(this._value=t)}}const uO={provide:r.b,useFactory:function(t,e){return()=>{if(B(e)){const e=Array.from(t.querySelectorAll(`[class*=${lO}]`)),n=/\bflex-layout-.+?\b/g;e.forEach(t=>{t.classList.contains(lO+"ssr")&&t.parentNode?t.parentNode.removeChild(t):t.className.replace(n,"")})}}},deps:[a,r.B],multi:!0},lO="flex-layout-";let cO=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[uO]}),t})();class hO{constructor(t=!1,e="all",n="",r="",i=0){this.matches=t,this.mediaQuery=e,this.mqAlias=n,this.suffix=r,this.priority=i,this.property=""}clone(){return new hO(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let dO=(()=>{class t{constructor(){this.stylesheet=new Map}addStyleToElement(t,e,n){const r=this.stylesheet.get(t);r?r.set(e,n):this.stylesheet.set(t,new Map([[e,n]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(t,e){const n=this.stylesheet.get(t);let r="";if(n){const t=n.get(e);"number"!=typeof t&&"string"!=typeof t||(r=t+"")}return r}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const fO={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},pO=new r.q("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>fO}),mO=new r.q("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),gO=new r.q("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function yO(t,e){return t=t?t.clone():new hO,e&&(t.mqAlias=e.alias,t.mediaQuery=e.mediaQuery,t.suffix=e.suffix,t.priority=e.priority),t}const bO="inline",vO=["row","column","row-reverse","column-reverse"];function _O(t){if(t)switch(t.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":t="wrap-reverse";break;case"no":case"none":case"nowrap":t="nowrap";break;default:t="wrap"}return t}let wO=(()=>{class t{constructor(t,e,n,r){this.elementRef=t,this.styleBuilder=e,this.styler=n,this.marshal=r,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new ln.a,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(t){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,this.marshal.activatedAlias)}ngOnChanges(t){Object.keys(t).forEach(e=>{if(-1!==this.inputs.indexOf(e)){const n=e.split(".").slice(1).join(".");this.setValue(t[e].currentValue,n)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(t=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),t)}addStyles(t,e){const n=this.styleBuilder,r=n.shouldCache;let i=this.styleCache.get(t);i&&r||(i=n.buildStyles(t,e),r&&this.styleCache.set(t,i)),this.mru=Object.assign({},i),this.applyStyleToElement(i),n.sideEffect(t,i,e)}clearStyles(){Object.keys(this.mru).forEach(t=>{this.mru[t]=""}),this.applyStyleToElement(this.mru),this.mru={}}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(t,e=!1){if(t){const[n,r]=this.styler.getFlowDirection(t);if(!r&&e){const e=function(t){let[e,n,r]=function(t){t=t?t.toLowerCase():"";let[e,n,r]=t.split(" ");return vO.find(t=>t===e)||(e=vO[0]),n===bO&&(n=r!==bO?r:"",r=bO),[e,_O(n),!!r]}(t);return function(t,e=null,n=!1){return{display:n?"inline-flex":"flex","box-sizing":"border-box","flex-direction":t,"flex-wrap":e||null}}(e,n,r)}(n);this.styler.applyStyleToElements(e,[t])}return n.trim()}return"row"}hasWrap(t){return this.styler.hasWrap(t)}applyStyleToElement(t,e,n=this.nativeElement){this.styler.applyStyleToElement(n,t,e)}setValue(t,e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,e)}updateWithValue(t){this.currentValue!==t&&(this.addStyles(t),this.currentValue=t)}}return t.\u0275fac=function(t){r.Xb()},t.\u0275dir=r.Gb({type:t,features:[r.yb]}),t})();const EO=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],SO="(orientation: portrait) and (max-width: 599.98px)",xO="(orientation: landscape) and (max-width: 959.98px)",OO="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",CO="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",TO="(orientation: portrait) and (min-width: 840px)",IO="(orientation: landscape) and (min-width: 1280px)",kO={HANDSET:`${SO}, ${xO}`,TABLET:`${OO} , ${CO}`,WEB:`${TO}, ${IO} `,HANDSET_PORTRAIT:""+SO,TABLET_PORTRAIT:OO+" ",WEB_PORTRAIT:""+TO,HANDSET_LANDSCAPE:""+xO,TABLET_LANDSCAPE:""+CO,WEB_LANDSCAPE:""+IO},AO=[{alias:"handset",priority:2e3,mediaQuery:kO.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:kO.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:kO.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:kO.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:kO.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:kO.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:kO.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:kO.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:kO.WEB_PORTRAIT,overlapping:!0}],PO=/(\.|-|_)/g;function RO(t){let e=t.length>0?t.charAt(0):"",n=t.length>1?t.slice(1):"";return e.toUpperCase()+n}const DO=new r.q("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const t=Object(r.V)(gO),e=Object(r.V)(pO),n=[].concat.apply([],(t||[]).map(t=>Array.isArray(t)?t:[t]));return function(t,e=[]){const n={};return t.forEach(t=>{n[t.alias]=t}),e.forEach(t=>{n[t.alias]?function(t,...e){if(null==t)throw TypeError("Cannot convert undefined or null to object");for(let n of e)if(null!=n)for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e])}(n[t.alias],t):n[t.alias]=t}),function(t){return t.forEach(t=>{t.suffix||(t.suffix=function(t){return t.replace(PO,"|").split("|").map(RO).join("")}(t.alias),t.overlapping=!!t.overlapping)}),t}(Object.keys(n).map(t=>n[t]))}((e.disableDefaultBps?[]:EO).concat(e.addOrientationBps?AO:[]),n)}});function jO(t,e){return(e&&e.priority||0)-(t&&t.priority||0)}function NO(t,e){return(t.priority||0)-(e.priority||0)}let LO=(()=>{class t{constructor(t){this.findByMap=new Map,this.items=[...t].sort(NO)}findByAlias(t){return t?this.findWithPredicate(t,e=>e.alias==t):null}findByQuery(t){return this.findWithPredicate(t,e=>e.mediaQuery==t)}get overlappings(){return this.items.filter(t=>1==t.overlapping)}get aliases(){return this.items.map(t=>t.alias)}get suffixes(){return this.items.map(t=>t.suffix?t.suffix:"")}findWithPredicate(t,e){let n=this.findByMap.get(t);return n||(n=this.items.find(e)||null,this.findByMap.set(t,n)),n||null}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(DO))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(DO))},token:t,providedIn:"root"}),t})(),MO=(()=>{class t{constructor(t,e,n){this._zone=t,this._platformId=e,this._document=n,this.source=new aO(new hO(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const t=[];return this.registry.forEach((e,n)=>{e.matches&&t.push(n)}),t}isActive(t){const e=this.registry.get(t);return e?e.matches:this.registerQuery(t).some(t=>t.matches)}observe(t,e=!1){if(t&&t.length){const n=this._observable$.pipe(In(n=>!e||t.indexOf(n.mediaQuery)>-1)),r=new wt.a(e=>{const n=this.registerQuery(t);if(n.length){const t=n.pop();n.forEach(t=>{e.next(t)}),this.source.next(t)}e.complete()});return Object(pn.a)(r,n)}return this._observable$}registerQuery(t){const e=Array.isArray(t)?t:[t],n=[];return function(t,e){const n=t.filter(t=>!UO[t]);if(n.length>0){const t=n.join(", ");try{const r=e.createElement("style");r.setAttribute("type","text/css"),r.styleSheet||r.appendChild(e.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${t} {.fx-query-test{ }}\n`)),e.head.appendChild(r),n.forEach(t=>UO[t]=r)}catch(jb){console.error(jb)}}}(e,this._document),e.forEach(t=>{const e=e=>{this._zone.run(()=>this.source.next(new hO(e.matches,t)))};let r=this.registry.get(t);r||(r=this.buildMQL(t),r.addListener(e),this.pendingRemoveListenerFns.push(()=>r.removeListener(e)),this.registry.set(t,r)),r.matches&&n.push(new hO(!0,t))}),n}ngOnDestroy(){let t;for(;t=this.pendingRemoveListenerFns.pop();)t()}buildMQL(t){return function(t,e){return e&&window.matchMedia("all").addListener?window.matchMedia(t):{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(t,B(this._platformId))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.z),r.Ub(r.B),r.Ub(a))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(r.z),Object(r.Ub)(r.B),Object(r.Ub)(a))},token:t,providedIn:"root"}),t})();const UO={},FO="print",VO={alias:FO,mediaQuery:FO,priority:1e3};let BO=(()=>{class t{constructor(t,e,n){this.breakpoints=t,this.layoutConfig=e,this._document=n,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.isPrinting=!1,this.queue=new HO,this.deactivations=[]}withPrintQuery(t){return[...t,FO]}isPrintEvent(t){return t.mediaQuery.startsWith(FO)}get printAlias(){return this.layoutConfig.printWithBreakpoints||[]}get printBreakPoints(){return this.printAlias.map(t=>this.breakpoints.findByAlias(t)).filter(t=>null!==t)}getEventBreakpoints({mediaQuery:t}){const e=this.breakpoints.findByQuery(t);return(e?[...this.printBreakPoints,e]:this.printBreakPoints).sort(jO)}updateEvent(t){let e=this.breakpoints.findByQuery(t.mediaQuery);return this.isPrintEvent(t)&&(e=this.getEventBreakpoints(t)[0],t.mediaQuery=e?e.mediaQuery:""),yO(t,e)}registerBeforeAfterPrintHooks(t){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const e=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(t,this.getEventBreakpoints(new hO(!0,FO))),t.updateStyles())},n=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(t),t.updateStyles())};this._document.defaultView.addEventListener("beforeprint",e),this._document.defaultView.addEventListener("afterprint",n),this.beforePrintEventListeners.push(e),this.afterPrintEventListeners.push(n)}interceptEvents(t){return this.registerBeforeAfterPrintHooks(t),e=>{this.isPrintEvent(e)?e.matches&&!this.isPrinting?(this.startPrinting(t,this.getEventBreakpoints(e)),t.updateStyles()):e.matches||!this.isPrinting||this.isPrintingBeforeAfterEvent||(this.stopPrinting(t),t.updateStyles()):this.collectActivations(e)}}blockPropagation(){return t=>!(this.isPrinting||this.isPrintEvent(t))}startPrinting(t,e){this.isPrinting=!0,t.activatedBreakpoints=this.queue.addPrintBreakpoints(e)}stopPrinting(t){t.activatedBreakpoints=this.deactivations,this.deactivations=[],this.queue.clear(),this.isPrinting=!1}collectActivations(t){if(!this.isPrinting||this.isPrintingBeforeAfterEvent)if(t.matches)this.isPrintingBeforeAfterEvent||(this.deactivations=[]);else{const e=this.breakpoints.findByQuery(t.mediaQuery);e&&(this.deactivations.push(e),this.deactivations.sort(jO))}}ngOnDestroy(){this.beforePrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("beforeprint",t)),this.afterPrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("afterprint",t))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(LO),r.Ub(pO),r.Ub(a))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(LO),Object(r.Ub)(pO),Object(r.Ub)(a))},token:t,providedIn:"root"}),t})();class HO{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(VO),t.sort(jO),t.forEach(t=>this.addBreakpoint(t)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(e=>e.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function(t){return!!t&&t.mediaQuery.startsWith(FO)}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}function zO(t){for(let e in t){let n=t[e]||"";switch(e){case"display":t.display="flex"===n?["-webkit-flex","flex"]:"inline-flex"===n?["-webkit-inline-flex","inline-flex"]:n;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":t["-webkit-"+e]=n;break;case"flex-direction":n=n||"row",t["-webkit-flex-direction"]=n,t["flex-direction"]=n;break;case"order":t.order=t["-webkit-"+e]=isNaN(+n)?"0":n}}return t}let qO=(()=>{class t{constructor(t,e,n,r){this._serverStylesheet=t,this._serverModuleLoaded=e,this._platformId=n,this.layoutConfig=r}applyStyleToElement(t,e,n=null){let r={};"string"==typeof e&&(r[e]=n,e=r),r=this.layoutConfig.disableVendorPrefixes?e:zO(e),this._applyMultiValueStyleToElement(r,t)}applyStyleToElements(t,e=[]){const n=this.layoutConfig.disableVendorPrefixes?t:zO(t);e.forEach(t=>{this._applyMultiValueStyleToElement(n,t)})}getFlowDirection(t){const e="flex-direction";let n=this.lookupStyle(t,e);return[n||"row",this.lookupInlineStyle(t,e)||H(this._platformId)&&this._serverModuleLoaded?n:""]}hasWrap(t){return"wrap"===this.lookupStyle(t,"flex-wrap")}lookupAttributeValue(t,e){return t.getAttribute(e)||""}lookupInlineStyle(t,e){return B(this._platformId)?t.style.getPropertyValue(e):this._getServerStyle(t,e)}lookupStyle(t,e,n=!1){let r="";return t&&((r=this.lookupInlineStyle(t,e))||(B(this._platformId)?n||(r=getComputedStyle(t).getPropertyValue(e)):this._serverModuleLoaded&&(r=this._serverStylesheet.getStyleForElement(t,e)))),r?r.trim():""}_applyMultiValueStyleToElement(t,e){Object.keys(t).sort().forEach(n=>{const r=t[n],i=Array.isArray(r)?r:[r];i.sort();for(let t of i)t=t?t+"":"",B(this._platformId)||!this._serverModuleLoaded?B(this._platformId)?e.style.setProperty(n,t):this._setServerStyle(e,n,t):this._serverStylesheet.addStyleToElement(e,n,t)})}_setServerStyle(t,e,n){e=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const r=this._readStyleAttribute(t);r[e]=n||"",this._writeStyleAttribute(t,r)}_getServerStyle(t,e){return this._readStyleAttribute(t)[e]||""}_readStyleAttribute(t){const e={},n=t.getAttribute("style");if(n){const t=n.split(/;+/g);for(let n=0;n<t.length;n++){const r=t[n].trim();if(r.length>0){const t=r.indexOf(":");if(-1===t)throw new Error("Invalid CSS style: "+r);e[r.substr(0,t).trim()]=r.substr(t+1).trim()}}}return e}_writeStyleAttribute(t,e){let n="";for(const r in e)e[r]&&(n+=r+":"+e[r]+";");t.setAttribute("style",n)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(dO),r.Ub(mO),r.Ub(r.B),r.Ub(pO))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(dO),Object(r.Ub)(mO),Object(r.Ub)(r.B),Object(r.Ub)(pO))},token:t,providedIn:"root"}),t})();class GO{constructor(){this.shouldCache=!0}sideEffect(t,e,n){}}let $O=(()=>{class t{constructor(t,e,n){this.matchMedia=t,this.breakpoints=e,this.hook=n,this.activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new ln.a,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?this.activatedBreakpoints[0].alias:""}onMediaChange(t){const e=this.findByQuery(t.mediaQuery);e&&((t=yO(t,e)).matches&&-1===this.activatedBreakpoints.indexOf(e)?(this.activatedBreakpoints.push(e),this.activatedBreakpoints.sort(jO),this.updateStyles()):t.matches||-1===this.activatedBreakpoints.indexOf(e)||(this.activatedBreakpoints.splice(this.activatedBreakpoints.indexOf(e),1),this.activatedBreakpoints.sort(jO),this.updateStyles()))}init(t,e,n,r,i=[]){WO(this.updateMap,t,e,n),WO(this.clearMap,t,e,r),this.buildElementKeyMap(t,e),this.watchExtraTriggers(t,e,i)}getValue(t,e,n){const r=this.elementMap.get(t);if(r){const t=void 0!==n?r.get(n):this.getActivatedValues(r,e);if(t)return t.get(e)}}hasValue(t,e){const n=this.elementMap.get(t);if(n){const t=this.getActivatedValues(n,e);if(t)return void 0!==t.get(e)||!1}return!1}setValue(t,e,n,r){let i=this.elementMap.get(t);if(i){const s=(i.get(r)||new Map).set(e,n);i.set(r,s),this.elementMap.set(t,i)}else i=(new Map).set(r,(new Map).set(e,n)),this.elementMap.set(t,i);const s=this.getValue(t,e);void 0!==s&&this.updateElement(t,e,s)}trackValue(t,e){return this.subject.asObservable().pipe(In(n=>n.element===t&&n.key===e))}updateStyles(){this.elementMap.forEach((t,e)=>{const n=new Set(this.elementKeyMap.get(e));let r=this.getActivatedValues(t);r&&r.forEach((t,r)=>{this.updateElement(e,r,t),n.delete(r)}),n.forEach(n=>{if(r=this.getActivatedValues(t,n),r){const t=r.get(n);this.updateElement(e,n,t)}else this.clearElement(e,n)})})}clearElement(t,e){const n=this.clearMap.get(t);if(n){const r=n.get(e);r&&(r(),this.subject.next({element:t,key:e,value:""}))}}updateElement(t,e,n){const r=this.updateMap.get(t);if(r){const i=r.get(e);i&&(i(n),this.subject.next({element:t,key:e,value:n}))}}releaseElement(t){const e=this.watcherMap.get(t);e&&(e.forEach(t=>t.unsubscribe()),this.watcherMap.delete(t));const n=this.elementMap.get(t);n&&(n.forEach((t,e)=>n.delete(e)),this.elementMap.delete(t))}triggerUpdate(t,e){const n=this.elementMap.get(t);if(n){const r=this.getActivatedValues(n,e);r&&(e?this.updateElement(t,e,r.get(e)):r.forEach((e,n)=>this.updateElement(t,n,e)))}}buildElementKeyMap(t,e){let n=this.elementKeyMap.get(t);n||(n=new Set,this.elementKeyMap.set(t,n)),n.add(e)}watchExtraTriggers(t,e,n){if(n&&n.length){let r=this.watcherMap.get(t);if(r||(r=new Map,this.watcherMap.set(t,r)),!r.get(e)){const i=Object(pn.a)(...n).subscribe(()=>{const n=this.getValue(t,e);this.updateElement(t,e,n)});r.set(e,i)}}}findByQuery(t){return this.breakpoints.findByQuery(t)}getActivatedValues(t,e){for(let r=0;r<this.activatedBreakpoints.length;r++){const n=t.get(this.activatedBreakpoints[r].alias);if(n&&(void 0===e||n.has(e)&&null!=n.get(e)))return n}const n=t.get("");return void 0===e||n&&n.has(e)?n:void 0}observeActivations(){const t=this.breakpoints.items.map(t=>t.mediaQuery);this.matchMedia.observe(this.hook.withPrintQuery(t)).pipe(Object(_r.a)(this.hook.interceptEvents(this)),In(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(MO),r.Ub(LO),r.Ub(BO))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(MO),Object(r.Ub)(LO),Object(r.Ub)(BO))},token:t,providedIn:"root"}),t})();function WO(t,e,n,r){if(void 0!==r){let i=t.get(e);i||(i=new Map,t.set(e,i)),i.set(n,r)}}const KO="inline",QO=["row","column","row-reverse","column-reverse"];function YO(t){if(t)switch(t.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":t="wrap-reverse";break;case"no":case"none":case"nowrap":t="nowrap";break;default:t="wrap"}return t}let ZO=(()=>{class t extends GO{buildStyles(t){return function(t){let[e,n,r]=function(t){t=t?t.toLowerCase():"";let[e,n,r]=t.split(" ");return QO.find(t=>t===e)||(e=QO[0]),n===KO&&(n=r!==KO?r:"",r=KO),[e,YO(n),!!r]}(t);return function(t,e=null,n=!1){return{display:n?"inline-flex":"flex","box-sizing":"border-box","flex-direction":t,"flex-wrap":e||null}}(e,n,r)}(t)}}return t.\u0275fac=function(e){return XO(e||t)},t.\u0275prov=Object(r.Hb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const XO=r.Sb(ZO),JO=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let tC=(()=>{class t extends wO{constructor(t,e,n,r){super(t,n,e,r),this.DIRECTIVE_KEY="layout",this.styleCache=rC,this.init()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(qO),r.Lb(ZO),r.Lb($O))},t.\u0275dir=r.Gb({type:t,features:[r.xb]}),t})(),eC=(()=>{class t extends tC{constructor(){super(...arguments),this.inputs=JO}}return t.\u0275fac=function(e){return nC(e||t)},t.\u0275dir=r.Gb({type:t,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[r.xb]}),t})();const nC=r.Sb(eC),rC=new Map,iC={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let sC=(()=>{class t extends GO{constructor(t){super(),this._styler=t}buildStyles(t,e){return t.endsWith(pC)?function(t,e){const[n,r]=t.split(" "),i=t=>"-"+t;let s="0px",o=i(r||n),a="0px";return"rtl"===e?a=i(n):s=i(n),{margin:`0px ${s} ${o} ${a}`}}(t=t.slice(0,t.indexOf(pC)),e.directionality):{}}sideEffect(t,e,n){const r=n.items;if(t.endsWith(pC)){const e=function(t,e){const[n,r]=t.split(" ");let i="0px",s="0px";return"rtl"===e?s=n:i=n,{padding:`0px ${i} ${r||n} ${s}`}}(t=t.slice(0,t.indexOf(pC)),n.directionality);this._styler.applyStyleToElements(e,n.items)}else{const e=r.pop(),i=function(t,e){const n=mC(e.directionality,e.layout),r=Object.assign({},iC);return r[n]=t,r}(t,n);this._styler.applyStyleToElements(i,r),this._styler.applyStyleToElements(iC,[e])}}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(qO))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(qO))},token:t,providedIn:"root"}),t})();const oC=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let aC=(()=>{class t extends wO{constructor(t,e,n,r,i,s){super(t,i,r,s),this.zone=e,this.directionality=n,this.styleUtils=r,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new ln.a;const o=[this.directionality.change,this.observerSubject.asObservable()];this.init(o),this.marshal.trackValue(this.nativeElement,"layout").pipe(Pn(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const t=this.nativeElement.children,e=[];for(let n=t.length;n--;)e[n]=t[n];return e}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(t){const e=t.value.split(" ");this.layout=e[0],QO.find(t=>t===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(t){const e=this.childrenNodes.filter(t=>1===t.nodeType&&this.willDisplay(t)).sort((t,e)=>{const n=+this.styler.lookupStyle(t,"order"),r=+this.styler.lookupStyle(e,"order");return isNaN(n)||isNaN(r)||n===r?0:n>r?1:-1});if(e.length>0){const n=this.directionality.value,r=this.layout;"row"===r&&"rtl"===n?this.styleCache=cC:"row"===r&&"rtl"!==n?this.styleCache=dC:"column"===r&&"rtl"===n?this.styleCache=hC:"column"===r&&"rtl"!==n&&(this.styleCache=fC),this.addStyles(t,{directionality:n,items:e,layout:r})}}clearStyles(){const t=Object.keys(this.mru).length>0,e=t?"padding":mC(this.directionality.value,this.layout);t&&super.clearStyles(),this.styleUtils.applyStyleToElements({[e]:""},this.childrenNodes)}willDisplay(t){const e=this.marshal.getValue(t,"show-hide");return!0===e||void 0===e&&"none"!==this.styleUtils.lookupStyle(t,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{"undefined"!=typeof MutationObserver&&(this.observer=new MutationObserver(t=>{t.some(t=>t.addedNodes&&t.addedNodes.length>0||t.removedNodes&&t.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(r.z),r.Lb(ar),r.Lb(qO),r.Lb(sC),r.Lb($O))},t.\u0275dir=r.Gb({type:t,features:[r.xb]}),t})(),uC=(()=>{class t extends aC{constructor(){super(...arguments),this.inputs=oC}}return t.\u0275fac=function(e){return lC(e||t)},t.\u0275dir=r.Gb({type:t,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[r.xb]}),t})();const lC=r.Sb(uC),cC=new Map,hC=new Map,dC=new Map,fC=new Map,pC=" grid";function mC(t,e){switch(e){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":return"rtl"===t?"margin-left":"margin-right";case"row-reverse":return"rtl"===t?"margin-right":"margin-left";default:return"rtl"===t?"margin-left":"margin-right"}}new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map;let gC=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[cO,ur]]}),t})(),yC=(()=>{class t{constructor(t,e){this.fb=t,this.scoreService=e,this.inputForm=new De({}),this.bid=null,this.score=null,this.points=null,this.game=null}ngOnInit(){this.createForm(),this.formResponse()}createForm(){this.inputForm=this.fb.group({bid:this.round.bid,score:this.round.score,points:this.round.points,game:this.round.accumulated})}formResponse(){var t,e;null===(t=this.inputForm.get("bid"))||void 0===t||t.valueChanges.pipe(Ye(1e3)).pipe(tn()).subscribe(t=>{this.bid=t,this.round.bid=t}),null===(e=this.inputForm.get("score"))||void 0===e||e.valueChanges.pipe(Ye(1e3)).pipe(tn()).subscribe(t=>{this.score=t,this.round.score=t,this.scoreService.calculateScore(this.round),console.log("53",this.round),(t||0===t)&&this.inputForm.patchValue({points:this.round.points,game:this.round.accumulated})})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Ge),r.Lb(vv))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-bid"]],inputs:{round:"round"},decls:26,vars:3,consts:[[1,"center",2,"width","360px"],[2,"margin","5px 20px",3,"formGroup"],["fxLayout","row","fxLayoutGap","5px",1,"center"],[2,"height","90px"],[2,"display","flex","height","90px","align-items","center"],[2,"align-self","center"],["formControlName","bid","type","number","min","0","max","10",2,"height","40px","width","50px","font-size","30px","align-self","center"],["formControlName","score","type","number","min","0","max","10",2,"height","40px","width","50px","font-size","30px","align-self","center"],["formControlName","points","readonly","true","type","number","min","0","max","10",2,"height","40px","width","50px","font-size","30px","align-self","center"],["formControlName","game","readonly","true","type","number","min","0","max","200",2,"height","40px","width","50px","font-size","30px","align-self","center"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"form",1),r.Qb(2,"div",2),r.Qb(3,"div",3),r.Qb(4,"output",4),r.nc(5),r.Pb(),r.Pb(),r.Qb(6,"div"),r.Qb(7,"label",5),r.nc(8,"Bid"),r.Pb(),r.Mb(9,"br"),r.Mb(10,"input",6),r.Pb(),r.Qb(11,"div"),r.Qb(12,"label",5),r.nc(13,"Score"),r.Pb(),r.Mb(14,"br"),r.Mb(15,"input",7),r.Pb(),r.Qb(16,"div"),r.Qb(17,"label",5),r.nc(18,"Points"),r.Pb(),r.Mb(19,"br"),r.Mb(20,"input",8),r.Pb(),r.Qb(21,"div"),r.Qb(22,"label",5),r.nc(23,"Total"),r.Pb(),r.Mb(24,"br"),r.Mb(25,"input",9),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.Ab(1),r.dc("formGroup",e.inputForm),r.Ab(4),r.pc("",10-e.round.id," Cards"),r.Ab(10),r.Bb("disabled",null===e.bid||null))},directives:[Ue,ee,Be,eC,uC,Rt,re,te,ze],styles:[".center[_ngcontent-%COMP%]{display:flex-column;justify-content:center}"]}),t})();function bC(t,e){if(1&t&&(r.Qb(0,"mat-option",6),r.nc(1),r.Pb()),2&t){const t=e.$implicit;r.dc("value",t.player),r.Ab(1),r.pc(" ",t.player," ")}}function vC(t,e){if(1&t&&(r.Qb(0,"div"),r.Mb(1,"app-bid",8),r.Pb()),2&t){const t=e.$implicit;r.Ab(1),r.dc("round",t)}}function _C(t,e){if(1&t&&(r.Qb(0,"div"),r.mc(1,vC,2,1,"div",7),r.Pb()),2&t){const t=r.ac();r.Ab(1),r.dc("ngForOf",t.playerRounds)}}let wC=(()=>{class t{constructor(t){this.scoreService=t,this.roundNums=[0,1,2,3,4,5,6,7,8,9],this.curPlayer="",this.playerRounds=[]}ngOnInit(){}playerChg(t){this.curPlayer=t.value,this.scoreService.rounds=this.playerRounds=this.scoreService.rounds.filter(t=>"1"===t.game&&t.playerName===this.curPlayer)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(vv))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-bid-all"]],decls:8,vars:3,consts:[[1,"center",2,"margin","10px","width","360px"],[1,"center",2,"width","360px"],["appearance","fill"],[3,"value","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],[4,"ngFor","ngForOf"],[3,"round"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"mat-form-field",2),r.Qb(3,"mat-label"),r.nc(4,"Choose Your Name"),r.Pb(),r.Qb(5,"mat-select",3),r.Yb("selectionChange",function(t){return e.playerChg(t)}),r.mc(6,bC,2,2,"mat-option",4),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.mc(7,_C,2,1,"div",5)),2&t&&(r.Ab(5),r.dc("value",e.curPlayer),r.Ab(1),r.dc("ngForOf",e.scoreService.players),r.Ab(1),r.dc("ngIf",e.curPlayer.length))},directives:[LS,TS,sO,P,D,JE,yC],styles:[".center[_ngcontent-%COMP%]{display:flex-column;justify-content:center}"]}),t})(),EC=(()=>{class t{constructor(){this.width=screen.width}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["app-leader-board"]],decls:3,vars:1,template:function(t,e){1&t&&(r.Qb(0,"p"),r.nc(1,"leader-board works!"),r.Pb(),r.nc(2)),2&t&&(r.Ab(2),r.pc("\n",e.width,"\n"))},styles:[""]}),t})();class SC extends Ke.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class xC extends Ke.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var OC=n("SeVD");function CC(t,e,n,r,i=new xC(t,n,r)){if(!i.closed)return e instanceof wt.a?e.subscribe(i):Object(OC.a)(e)(i)}var TC=n("yCtX");const IC={};class kC{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new AC(t,this.resultSelector))}}class AC extends SC{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(IC),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(CC(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===IC?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function PC(t){return function(e){return 0===t?Object(gr.b)():e.lift(new RC(t))}}class RC{constructor(t){if(this.total=t,this.total<0)throw new mr}call(t,e){return e.subscribe(new DC(t,this.total))}}class DC extends Ke.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function jC(t){return function(e){const n=new NC(t),r=e.lift(n);return n.caught=r}}class NC{constructor(t){this.selector=t}call(t,e){return e.subscribe(new LC(t,this.selector,this.caught))}}class LC extends wn.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new wn.a(this);this.add(r);const i=Object(wn.c)(n,r);i!==r&&this.add(i)}}}var MC=n("5+tZ");function UC(t,e){return Object(MC.a)(t,e,1)}class FC{constructor(t){this.callback=t}call(t,e){return e.subscribe(new VC(t,this.callback))}}class VC extends Ke.a{constructor(t,e){super(t),this.add(new _n.a(e))}}class BC{constructor(t,e){this.id=t,this.url=e}}class HC extends BC{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zC extends BC{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class qC extends BC{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class GC extends BC{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $C extends BC{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class WC extends BC{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class KC extends BC{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class QC extends BC{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YC extends BC{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZC{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class XC{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class JC{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tT{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eT{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nT{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rT{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const iT="primary";class sT{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function oT(t){return new sT(t)}function aT(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function uT(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function lT(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!cT(t[i],e[i]))return!1;return!0}function cT(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function hT(t){return Array.prototype.concat.apply([],t)}function dT(t){return t.length>0?t[t.length-1]:null}function fT(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function pT(t){return Object(r.rb)(t)?t:Object(r.sb)(t)?Object(Ot.a)(Promise.resolve(t)):Object(cn.a)(t)}function mT(t,e,n){return n?function(t,e){return lT(t,e)}(t.queryParams,e.queryParams)&&gT(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>cT(t[n],e[n]))}(t.queryParams,e.queryParams)&&yT(t.root,e.root)}function gT(t,e){if(!ET(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!gT(t.children[n],e.children[n]))return!1}return!0}function yT(t,e){return bT(t,e,e.segments)}function bT(t,e,n){if(t.segments.length>n.length)return!!ET(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!ET(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!yT(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!ET(t.segments,r)&&!!t.children.primary&&bT(t.children.primary,e,i)}}class vT{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=oT(this.queryParams)),this._queryParamMap}toString(){return CT.serialize(this)}}class _T{constructor(t,e){this.segments=t,this.children=e,this.parent=null,fT(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return TT(this)}}class wT{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=oT(this.parameters)),this._parameterMap}toString(){return jT(this)}}function ET(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function ST(t,e){let n=[];return fT(t.children,(t,r)=>{r===iT&&(n=n.concat(e(t,r)))}),fT(t.children,(t,r)=>{r!==iT&&(n=n.concat(e(t,r)))}),n}class xT{}class OT{parse(t){const e=new FT(t);return new vT(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+IT(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${AT(e)}=${AT(t)}`).join("&"):`${AT(e)}=${AT(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const CT=new OT;function TT(t){return t.segments.map(t=>jT(t)).join("/")}function IT(t,e){if(!t.hasChildren())return TT(t);if(e){const e=t.children.primary?IT(t.children.primary,!1):"",n=[];return fT(t.children,(t,e)=>{e!==iT&&n.push(`${e}:${IT(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=ST(t,(e,n)=>n===iT?[IT(t.children.primary,!1)]:[`${n}:${IT(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${TT(t)}/${e[0]}`:`${TT(t)}/(${e.join("//")})`}}function kT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function AT(t){return kT(t).replace(/%3B/gi,";")}function PT(t){return kT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function RT(t){return decodeURIComponent(t)}function DT(t){return RT(t.replace(/\+/g,"%20"))}function jT(t){return`${PT(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${PT(t)}=${PT(e[t])}`).join("")}`;var e}const NT=/^[^\/()?;=#]+/;function LT(t){const e=t.match(NT);return e?e[0]:""}const MT=/^[^=?&#]+/,UT=/^[^?&#]+/;class FT{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _T([],{}):new _T([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new _T(t,e)),n}parseSegment(){const t=LT(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new wT(RT(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=LT(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=LT(this.remaining);t&&(n=t,this.capture(n))}t[RT(e)]=RT(n)}parseQueryParam(t){const e=function(t){const e=t.match(MT);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(UT);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=DT(e),i=DT(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=LT(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=iT);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new _T([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class VT{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=BT(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=BT(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=HT(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return HT(t,this._root).map(t=>t.value)}}function BT(t,e){if(t===e.value)return e;for(const n of e.children){const e=BT(t,n);if(e)return e}return null}function HT(t,e){if(t===e.value)return[e];for(const n of e.children){const r=HT(t,n);if(r.length)return r.unshift(e),r}return[]}class zT{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function qT(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class GT extends VT{constructor(t,e){super(t),this.snapshot=e,ZT(this,t)}toString(){return this.snapshot.toString()}}function $T(t,e){const n=function(t,e){const n=new QT([],{},{},"",{},iT,e,null,t.root,-1,{});return new YT("",new zT(n,[]))}(t,e),r=new aO([new wT("",{})]),i=new aO({}),s=new aO({}),o=new aO({}),a=new aO(""),u=new WT(r,i,o,a,s,iT,e,n.root);return u.snapshot=n.root,new GT(new zT(u,[]),n)}class WT{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(St.a)(t=>oT(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(St.a)(t=>oT(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function KT(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class QT{constructor(t,e,n,r,i,s,o,a,u,l,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=oT(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=oT(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class YT extends VT{constructor(t,e){super(e),this.url=t,ZT(this,e)}toString(){return XT(this._root)}}function ZT(t,e){e.value._routerState=t,e.children.forEach(e=>ZT(t,e))}function XT(t){const e=t.children.length>0?` { ${t.children.map(XT).join(", ")} } `:"";return`${t.value}${e}`}function JT(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,lT(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),lT(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!lT(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),lT(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function tI(t,e){return lT(t.params,e.params)&&function(t,e){return ET(t,e)&&t.every((t,n)=>lT(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||tI(t.parent,e.parent))}function eI(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return eI(t,e,r);return eI(t,e)})}(t,e,n);return new zT(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return nI(e,t),t}{const n=new WT(new aO((r=e.value).url),new aO(r.params),new aO(r.queryParams),new aO(r.fragment),new aO(r.data),r.outlet,r.component,r),i=e.children.map(e=>eI(t,e));return new zT(n,i)}}var r}function nI(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)nI(t.children[n],e.children[n])}function rI(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function iI(t){return"object"==typeof t&&null!=t&&t.outlets}function sI(t,e,n,r,i){let s={};return r&&fT(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new vT(n.root===t?e:oI(n.root,t,e),s,i)}function oI(t,e,n){const r={};return fT(t.children,(t,i)=>{r[i]=t===e?n:oI(t,e,n)}),new _T(t.segments,r)}class aI{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&rI(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(iI);if(r&&r!==dT(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class uI{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function lI(t,e,n){if(t||(t=new _T([],{})),0===t.segments.length&&t.hasChildren())return cI(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(iI(o))break;const a=""+o,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!pI(a,u,e))return s;r+=2}else{if(!pI(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new _T(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new _T(t.segments.slice(r.pathIndex),t.children),cI(e,0,i)}return r.match&&0===i.length?new _T(t.segments,{}):r.match&&!t.hasChildren()?hI(t,e,n):r.match?cI(t,0,i):hI(t,e,n)}function cI(t,e,n){if(0===n.length)return new _T(t.segments,{});{const r=function(t){return iI(t[0])?t[0].outlets:{[iT]:t}}(n),i={};return fT(r,(n,r)=>{null!==n&&(i[r]=lI(t.children[r],e,n))}),fT(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new _T(t.segments,i)}}function hI(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(iI(s)){const t=dI(s.outlets);return new _T(r,t)}if(0===i&&rI(n[0])){r.push(new wT(t.segments[e].path,n[0])),i++;continue}const o=iI(s)?s.outlets.primary:""+s,a=i<n.length-1?n[i+1]:null;o&&a&&rI(a)?(r.push(new wT(o,fI(a))),i+=2):(r.push(new wT(o,{})),i++)}return new _T(r,{})}function dI(t){const e={};return fT(t,(t,n)=>{null!==t&&(e[n]=hI(new _T([],{}),0,t))}),e}function fI(t){const e={};return fT(t,(t,n)=>e[n]=""+t),e}function pI(t,e,n){return t==n.path&&lT(e,n.parameters)}class mI{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),JT(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=qT(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),fT(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=qT(t),i=t.value.component?n.children:e;fT(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=qT(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new nT(t.value.snapshot))}),t.children.length&&this.forwardEvent(new tT(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(JT(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),gI(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function gI(t){JT(t.value),t.children.forEach(gI)}class yI{constructor(t,e){this.routes=t,this.module=e}}function bI(t){return"function"==typeof t}function vI(t){return t instanceof vT}const _I=Symbol("INITIAL_VALUE");function wI(){return Bn(t=>function(...t){let e=void 0,n=void 0;return Object(On.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Et.a)(t[0])&&(t=t[0]),Object(TC.a)(t,n).lift(new kC(e))}(...t.map(t=>t.pipe(yr(1),Mn(_I)))).pipe(ci((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==_I)return t;if(r===_I&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||vI(r))return r}return t},t)},_I),In(t=>t!==_I),Object(St.a)(t=>vI(t)?t:!0===t),yr(1)))}let EI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Mb(0,"router-outlet")},directives:function(){return[mk]},encapsulation:2}),t})();function SI(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];xI(r,OI(e,r))}}function xI(t,e){t.children&&SI(t.children,e)}function OI(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function CI(t){const e=t.children&&t.children.map(CI),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==iT&&(n.component=EI),n}function TI(t){return t.outlet||iT}class II{constructor(t){this.segmentGroup=t||null}}class kI{constructor(t){this.urlTree=t}}function AI(t){return new wt.a(e=>e.error(new II(t)))}function PI(t){return new wt.a(e=>e.error(new kI(t)))}function RI(t){return new wt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class DI{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,iT).pipe(Object(St.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(jC(t=>{if(t instanceof kI)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof II)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,iT).pipe(Object(St.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(jC(t=>{if(t instanceof II)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new _T([],{[iT]:t}):t;return new vT(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(St.a)(t=>new _T([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(cn.a)({});const n=[],r=[],i={};return fT(t,(t,s)=>{const o=e(s,t).pipe(Object(St.a)(t=>i[s]=t));s===iT?n.push(o):r.push(o)}),cn.a.apply(null,n.concat(r)).pipe(Nn(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?In((e,n)=>t(e,n,r)):Gb.a,PC(1),n?Ub(e):Bb(()=>new Mb))}(),Object(St.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,s){const o=function(t){return t.reduce((t,e)=>{const n=TI(e);return t.has(n)?t.get(n).push(e):t.set(n,[e]),t},new Map)}(n);o.has(i)||o.set(i,[]);const a=n=>Object(Ot.a)(n).pipe(UC(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(jC(t=>{if(t instanceof II)return Object(cn.a)(null);throw t}))),$b(t=>null!==t),jC(t=>{if(t instanceof Mb||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(cn.a)(new _T([],{}));throw new II(e)}throw t})),u=Array.from(o.entries()).map(([t,e])=>{const n=a(e);return t===i?n:n.pipe(Object(St.a)(()=>null),jC(()=>Object(cn.a)(null)))});return Object(Ot.a)(u).pipe(t=>t.lift(new kC(void 0)),$b(),Object(St.a)(t=>t.find(t=>null!==t)))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return TI(r)!==s&&""!==r.path?AI(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):AI(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?PI(i):this.lineralizeSegments(n,i).pipe(Object(MC.a)(n=>{const i=new _T(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:l}=jI(e,r,i);if(!o)return AI(e);const c=this.applyRedirectCommands(a,r.redirectTo,l);return r.redirectTo.startsWith("/")?PI(c):this.lineralizeSegments(r,c).pipe(Object(MC.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(St.a)(t=>(n._loadedConfig=t,new _T(r,{})))):Object(cn.a)(new _T(r,{}));const{matched:i,consumedSegments:s,lastChild:o}=jI(e,n,r);if(!i)return AI(e);const a=r.slice(o);return this.getChildConfig(t,n,r).pipe(Object(MC.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:o}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>LI(t,e,n)&&TI(n)!==iT)}(t,n,r)?{segmentGroup:NI(new _T(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&TI(r)!==iT&&(n[TI(r)]=new _T([],{}));return n}(r,new _T(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>LI(t,e,n))}(t,n,r)?{segmentGroup:NI(new _T(t.segments,function(t,e,n,r){const i={};for(const s of n)LI(t,e,s)&&!r[TI(s)]&&(i[TI(s)]=new _T([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,a,r);return 0===o.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(St.a)(t=>new _T(s,t))):0===r.length&&0===o.length?Object(cn.a)(new _T(s,{})):this.expandSegment(n,i,r,o,iT,!0).pipe(Object(St.a)(t=>new _T(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(cn.a)(new yI(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(cn.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(MC.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(St.a)(t=>(e._loadedConfig=t,t))):function(t){return new wt.a(e=>e.error(aT(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(cn.a)(new yI([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(cn.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&bI(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!bI(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return pT(s)});return Object(cn.a)(i).pipe(wI(),Object(_r.a)(t=>{if(!vI(t))return;const e=aT(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(St.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(cn.a)(n);if(r.numberOfChildren>1||!r.children.primary)return RI(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new vT(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return fT(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return fT(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new _T(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function jI(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||uT)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function NI(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new _T(t.segments.concat(e.segments),e.children)}return t}function LI(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}class MI{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class UI{constructor(t,e){this.component=t,this.route=e}}function FI(t,e,n){const r=t._root;return BI(r,e?e._root:null,n,[r.value])}function VI(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function BI(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=qT(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ET(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ET(t.url,e.url)||!lT(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!tI(t,e)||!lT(t.queryParams,e.queryParams);case"paramsChange":default:return!tI(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new MI(r)):(s.data=o.data,s._resolvedData=o._resolvedData),BI(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new UI(a.outlet.component,o))}else o&&HI(e,a,i),i.canActivateChecks.push(new MI(r)),BI(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),fT(s,(t,e)=>HI(t,n.getContext(e),i)),i}function HI(t,e,n){const r=qT(t),i=t.value;fT(r,(t,r)=>{HI(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new UI(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function zI(t,e){return null!==t&&e&&e(new eT(t)),Object(cn.a)(!0)}function qI(t,e){return null!==t&&e&&e(new JC(t)),Object(cn.a)(!0)}function GI(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(cn.a)(!0);const i=r.map(r=>Fx(()=>{const i=VI(r,e,n);let s;if(function(t){return t&&bI(t.canActivate)}(i))s=pT(i.canActivate(e,t));else{if(!bI(i))throw new Error("Invalid CanActivate guard");s=pT(i(e,t))}return s.pipe($b())}));return Object(cn.a)(i).pipe(wI())}function $I(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Fx(()=>{const i=e.guards.map(i=>{const s=VI(i,e.node,n);let o;if(function(t){return t&&bI(t.canActivateChild)}(s))o=pT(s.canActivateChild(r,t));else{if(!bI(s))throw new Error("Invalid CanActivateChild guard");o=pT(s(r,t))}return o.pipe($b())});return Object(cn.a)(i).pipe(wI())}));return Object(cn.a)(i).pipe(wI())}class WI{}class KI{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const t=ZI(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,iT),n=new QT([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},iT,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new zT(n,e),i=new YT(this.url,r);return this.inheritParamsAndData(i._root),Object(cn.a)(i)}catch(jb){return new wt.a(e=>e.error(jb))}}inheritParamsAndData(t){const e=t.value,n=KT(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=ST(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===iT?-1:e.value.outlet===iT?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const i of t)try{return this.processSegmentAgainstRoute(i,e,n,r)}catch(jb){if(!(jb instanceof WI))throw jb}if(this.noLeftoversInUrl(e,n,r))return[];throw new WI}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new WI;if((t.outlet||iT)!==r)throw new WI;let i,s=[],o=[];if("**"===t.path){const s=n.length>0?dT(n).parameters:{};i=new QT(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,tk(t),r,t.component,t,QI(e),YI(e)+n.length,ek(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new WI;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||uT)(n,t,e);if(!r)throw new WI;const i={};fT(r.posParams,(t,e)=>{i[e]=t.path});const s=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new QT(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,tk(t),r,t.component,t,QI(e),YI(e)+s.length,ek(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:l}=ZI(e,s,o,a,this.relativeLinkResolution);if(0===l.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new zT(i,t)]}if(0===a.length&&0===l.length)return[new zT(i,[])];const c=this.processSegment(a,u,l,iT);return[new zT(i,c)]}}function QI(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function YI(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function ZI(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>XI(t,e,n)&&JI(n)!==iT)}(t,n,r)){const i=new _T(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&JI(s)!==iT){const n=new _T([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[JI(s)]=n}return i}(t,e,r,new _T(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>XI(t,e,n))}(t,n,r)){const s=new _T(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(XI(t,n,a)&&!i[JI(a)]){const n=new _T([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[JI(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new _T(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function XI(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function JI(t){return t.outlet||iT}function tk(t){return t.data||{}}function ek(t){return t.resolve||{}}function nk(t){return function(e){return e.pipe(Bn(e=>{const n=t(e);return n?Object(Ot.a)(n).pipe(Object(St.a)(()=>e)):Object(Ot.a)([e])}))}}class rk extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const ik=new r.q("ROUTES");class sk{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(St.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new yI(hT(r.injector.get(ik)).map(CI),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(Ot.a)(this.loader.load(t)):pT(t()).pipe(Object(MC.a)(t=>t instanceof r.v?Object(cn.a)(t):Object(Ot.a)(this.compiler.compileModuleAsync(t))))}}class ok{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ak,this.attachRef=null}}class ak{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new ok,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class uk{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function lk(t){throw t}function ck(t,e,n){return e.parse("/")}function hk(t,e){return Object(cn.a)(null)}let dk=(()=>{class t{constructor(t,e,n,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new ln.a,this.errorHandler=lk,this.malformedUriErrorHandler=ck,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:hk,afterPreactivation:hk},this.urlHandlingStrategy=new uk,this.routeReuseStrategy=new rk,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(r.x),this.console=s.get(r.Z);const l=s.get(r.z);this.isNgZoneEnabled=l instanceof r.z,this.resetConfig(u),this.currentUrlTree=new vT(new _T([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new sk(o,a,t=>this.triggerEvent(new ZC(t)),t=>this.triggerEvent(new XC(t))),this.routerState=$T(this.currentUrlTree,this.rootComponentType),this.transitions=new aO({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(In(t=>0!==t.id),Object(St.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Bn(t=>{let n=!1,r=!1;return Object(cn.a)(t).pipe(Object(_r.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Bn(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(cn.a)(t).pipe(Bn(t=>{const n=this.transitions.getValue();return e.next(new HC(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?gr.a:[t]}),Bn(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,function(t){return t.pipe(Bn(t=>function(t,e,n,r,i){return new DI(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(St.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(_r.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(s){return s.pipe(Object(MC.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){return new KI(t,e,n,r,i,s).recognize()}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(St.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(_r.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(_r.a)(t=>{const n=new $C(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new HC(n,this.serializeUrl(r),i,s);e.next(a);const u=$T(r,this.rootComponentType).snapshot;return Object(cn.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),gr.a}),nk(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(_r.a)(t=>{const e=new WC(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(St.a)(t=>Object.assign(Object.assign({},t),{guards:FI(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(MC.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(cn.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Ot.a)(t).pipe(Object(MC.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(cn.a)(!0);const o=s.map(s=>{const o=VI(s,e,i);let a;if(function(t){return t&&bI(t.canDeactivate)}(o))a=pT(o.canDeactivate(t,e,n,r));else{if(!bI(o))throw new Error("Invalid CanDeactivate guard");a=pT(o(t,e,n,r))}return a.pipe($b())});return Object(cn.a)(o).pipe(wI())}(t.component,t.route,n,e,r)),$b(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(MC.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(Ot.a)(e).pipe(UC(e=>Object(Ot.a)([qI(e.route.parent,r),zI(e.route,r),$I(t,e.path,n),GI(t,e.route,n)]).pipe(Nn(),$b(t=>!0!==t,!0))),$b(t=>!0!==t,!0))}(r,s,t,e):Object(cn.a)(n)),Object(St.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(_r.a)(t=>{if(vI(t.guardsResult)){const e=aT(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(_r.a)(t=>{const e=new KC(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),In(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new qC(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),nk(t=>{if(t.guards.canActivateChecks.length)return Object(cn.a)(t).pipe(Object(_r.a)(t=>{const e=new QC(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Bn(t=>{let n=!1;return Object(cn.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(MC.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(cn.a)(t);let s=0;return Object(Ot.a)(n).pipe(UC(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(cn.a)({});const s={};return Object(Ot.a)(i).pipe(Object(MC.a)(i=>function(t,e,n,r){const i=VI(t,e,r);return pT(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(_r.a)(t=>{s[i]=t}))),PC(1),Object(MC.a)(()=>Object.keys(s).length===i.length?Object(cn.a)(s):gr.a))}(t._resolve,t,e,r).pipe(Object(St.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),KT(t,n).resolve),null)))}(t.route,e,r,i)),Object(_r.a)(()=>s++),PC(1),Object(MC.a)(e=>s===n.length?Object(cn.a)(t):gr.a))}))}),Object(_r.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new qC(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(_r.a)(t=>{const e=new YC(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),nk(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(St.a)(t=>{const e=function(t,e,n){const r=eI(t,e._root,n?n._root:void 0);return new GT(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(_r.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(St.a)(t=>(new mI(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),Object(_r.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new qC(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new FC(i))),jC(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=vI(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new qC(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new GC(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(ec){t.reject(ec)}}var i;return gr.a}));var i,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){SI(t),this.config=t.map(CI),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i;let l=null;switch(s){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,r,i){if(0===n.length)return sI(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new aI(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return fT(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new aI(n,e,r)}(n);if(s.toRoot())return sI(e.root,new _T([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new uI(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new uI(t,t===e.root,0)}const r=rI(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new uI(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?cI(o.segmentGroup,o.index,s.commands):lI(o.segmentGroup,o.index,s.commands);return sI(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,l,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=vI(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(jb){e=this.malformedUriErrorHandler(jb,this.urlSerializer,t)}return e}isActive(t,e){if(vI(t))return mT(this.currentUrlTree,t,e);const n=this.parseUrl(t);return mT(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new zC(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let u,l,c;i?(u=i.resolve,l=i.reject,c=i.promise):c=new Promise((t,e)=>{u=t,l=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.N),r.Ub(xT),r.Ub(ak),r.Ub(E),r.Ub(r.r),r.Ub(r.w),r.Ub(r.i),r.Ub(void 0))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),fk=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new ln.a,this.subscription=t.events.subscribe(t=>{t instanceof zC&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:pk(this.skipLocationChange),replaceUrl:pk(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:pk(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(dk),r.Lb(WT),r.Lb(y))},t.\u0275dir=r.Gb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Yb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Tb("href",e.href,r.hc),r.Bb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.yb]}),t})();function pk(t){return""===t||!!t}let mk=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||iT,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new gk(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(ak),r.Lb(r.Q),r.Lb(r.j),r.Vb("name"),r.Lb(r.h))},t.\u0275dir=r.Gb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class gk{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===WT?this.route:t===ak?this.childContexts:this.parent.get(t,e)}}class yk{}class bk{preload(t,e){return Object(cn.a)(null)}}let vk=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new sk(e,n,e=>t.triggerEvent(new ZC(e)),e=>t.triggerEvent(new XC(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(In(t=>t instanceof zC),UC(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(Ot.a)(n).pipe(Object(jn.a)(),Object(St.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(MC.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(dk),r.Ub(r.w),r.Ub(r.i),r.Ub(r.r),r.Ub(yk))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),_k=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof HC?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof zC&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof rT&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new rT(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(dk),r.Ub(z),r.Ub(void 0))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const wk=new r.q("ROUTER_CONFIGURATION"),Ek=new r.q("ROUTER_FORROOT_GUARD"),Sk=[E,{provide:xT,useClass:OT},{provide:dk,useFactory:function(t,e,n,r,i,s,a,u={},l,c){const h=new dk(null,t,e,n,r,i,s,hT(a));if(l&&(h.urlHandlingStrategy=l),c&&(h.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[xT,ak,E,r.r,r.w,r.i,ik,wk,[class{},new r.A],[class{},new r.A]]},ak,{provide:WT,useFactory:function(t){return t.routerState.root},deps:[dk]},{provide:r.w,useClass:r.K},vk,bk,class{preload(t,e){return e().pipe(jC(()=>Object(cn.a)(null)))}},{provide:wk,useValue:{enableTracing:!1}}];function xk(){return new r.y("Router",dk)}let Ok=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Sk,kk(e),{provide:Ek,useFactory:Ik,deps:[[dk,new r.A,new r.J]]},{provide:wk,useValue:n||{}},{provide:y,useFactory:Tk,deps:[u,[new r.p(v),new r.A],wk]},{provide:_k,useFactory:Ck,deps:[dk,z,wk]},{provide:yk,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:bk},{provide:r.y,multi:!0,useFactory:xk},[Ak,{provide:r.d,multi:!0,useFactory:Pk,deps:[Ak]},{provide:Dk,useFactory:Rk,deps:[Ak]},{provide:r.b,multi:!0,useExisting:Dk}]]}}static forChild(e){return{ngModule:t,providers:[kk(e)]}}}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)(r.Ub(Ek,8),r.Ub(dk,8))}}),t})();function Ck(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new _k(t,e,n)}function Tk(t,e,n={}){return n.useHash?new w(t,e):new _(t,e)}function Ik(t){return"guarded"}function kk(t){return[{provide:r.a,multi:!0,useValue:t},{provide:ik,multi:!0,useValue:t}]}let Ak=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new ln.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(dk),r=this.injector.get(wk);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(cn.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(wk),n=this.injector.get(vk),i=this.injector.get(_k),s=this.injector.get(dk),o=this.injector.get(r.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(r.r))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();function Pk(t){return t.appInitializer.bind(t)}function Rk(t){return t.bootstrapListener.bind(t)}const Dk=new r.q("Router Initializer"),jk=[{path:"Setup",component:ZS},{path:"Bid",component:wC},{path:"LeaderBoard",component:EC}];let Nk=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[Ok.forRoot(jk)],Ok]}),t})();const Lk=["*",[["mat-toolbar-row"]]],Mk=["*","mat-toolbar-row"];class Uk{constructor(t){this._elementRef=t}}const Fk=kE(Uk);let Vk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),t})(),Bk=(()=>{class t extends Fk{constructor(t,e,n){super(t),this._platform=e,this._document=n}ngAfterViewInit(){Object(r.W)()&&this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length&&Array.from(this._elementRef.nativeElement.childNodes).filter(t=>!(t.classList&&t.classList.contains("mat-toolbar-row"))).filter(t=>t.nodeType!==(this._document?this._document.COMMENT_NODE:8)).some(t=>!(!t.textContent||!t.textContent.trim()))&&function(){throw Error("MatToolbar: Attempting to combine different toolbar modes. Either specify multiple `<mat-toolbar-row>` elements explicitly or just place content inside of a `<mat-toolbar>` for a single row.")}()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(Jn),r.Lb(a))},t.\u0275cmp=r.Fb({type:t,selectors:[["mat-toolbar"]],contentQueries:function(t,e,n){if(1&t&&r.Eb(n,Vk,!0),2&t){let t;r.ec(t=r.Zb())&&(e._toolbarRows=t)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,e){2&t&&r.Db("mat-toolbar-multiple-rows",e._toolbarRows.length>0)("mat-toolbar-single-row",0===e._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[r.xb],ngContentSelectors:Mk,decls:2,vars:0,template:function(t,e){1&t&&(r.cc(Lk),r.bc(0),r.bc(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}.mat-toolbar-multiple-rows{min-height:64px}.mat-toolbar-row,.mat-toolbar-single-row{height:64px}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:56px}.mat-toolbar-row,.mat-toolbar-single-row{height:56px}}\n"],encapsulation:2,changeDetection:0}),t})(),Hk=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[TE],TE]}),t})(),zk=(()=>{class t{constructor(){this.title="OHell"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["app-root"]],decls:10,vars:0,consts:[["color","primary"],["routerLink","/Setup",1,"gap"],["routerLink","/Bid",1,"gap"],["routerLink","/LeaderBoard",1,"gap"]],template:function(t,e){1&t&&(r.Qb(0,"mat-toolbar",0),r.Qb(1,"a",1),r.nc(2,"Set Up"),r.Pb(),r.nc(3," | "),r.Qb(4,"a",2),r.nc(5,"Bid"),r.Pb(),r.nc(6," | "),r.Qb(7,"a",3),r.nc(8,"Leader Board"),r.Pb(),r.Pb(),r.Mb(9,"router-outlet"))},directives:[Bk,fk,mk],styles:[".filler[_ngcontent-%COMP%]{flex:1 1 auto}.gap[_ngcontent-%COMP%]{margin-right:10px;margin-left:10px;color:#fff}"]}),t})();new Map,new WeakMap;let qk=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[cO]]}),t})();new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map;let Gk=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[cO]]}),t})();new r.P("11.0.0-beta.33");let $k=(()=>{class t{constructor(t,e){H(e)&&!t&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,n=[]){return{ngModule:t,providers:e.serverLoaded?[{provide:pO,useValue:Object.assign(Object.assign({},fO),e)},{provide:gO,useValue:n,multi:!0},{provide:mO,useValue:!0}]:[{provide:pO,useValue:Object.assign(Object.assign({},fO),e)},{provide:gO,useValue:n,multi:!0}]}}}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)(r.Ub(mO),r.Ub(r.B))},imports:[[gC,qk,Gk],gC,qk,Gk]}),t})();var Wk="firebasestorage.googleapis.com",Kk=function(t){function e(n,r){var i=t.call(this,Xk(n),"Firebase Storage: "+r+" ("+Xk(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return Object(_u.c)(e,t),e.prototype.codeEquals=function(t){return Xk(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(yi.c),Qk="canceled",Yk="invalid-argument",Zk="unsupported-environment";function Xk(t){return"storage/"+t}function Jk(){return new Kk("unknown","An unknown error occurred, please check the error payload for server response.")}function tA(){return new Kk(Qk,"User canceled the upload/download.")}function eA(){return new Kk("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function nA(t){return new Kk(Yk,t)}function rA(){return new Kk("app-deleted","The Firebase app was deleted.")}function iA(t){return new Kk("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function sA(t,e){return new Kk("invalid-format","String does not match format '"+t+"': "+e)}function oA(t){throw new Kk("internal-error","Internal error: "+t)}var aA={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},uA=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function lA(t,e){switch(t){case aA.RAW:return new uA(cA(e));case aA.BASE64:case aA.BASE64URL:return new uA(hA(t,e));case aA.DATA_URL:return new uA((n=new dA(e)).base64?hA(aA.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(jb){throw sA(aA.DATA_URL,"Malformed data URL.")}return cA(e)}(n.rest),new dA(e).contentType)}var n;throw Jk()}function cA(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,s=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&s)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function hA(t,e){switch(t){case aA.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw sA(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case aA.BASE64URL:var i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw sA(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(e)}catch(jb){throw sA(t,"Invalid character found")}for(var a=new Uint8Array(o.length),u=0;u<o.length;u++)a[u]=o.charCodeAt(u);return a}var dA=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw sA(aA.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=(r=";base64").length&&n.substring(n.length-r.length)===r,this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}(),fA="running",pA="pausing",mA="paused",gA="success",yA="canceling",bA="canceled",vA="error",_A={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function wA(t){switch(t){case fA:case pA:case yA:return _A.RUNNING;case mA:return _A.PAUSED;case gA:return _A.SUCCESS;case bA:return _A.CANCELED;case vA:default:return _A.ERROR}}var EA=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),SA=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=EA.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=EA.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=EA.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw oA("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw oA("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw oA("cannot .getStatus() before sending");try{return this.xhr_.status}catch(jb){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw oA("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),xA=function(){function t(){}return t.prototype.createXhrIo=function(){return new SA},t}();function OA(t){return"string"==typeof t||t instanceof String}function CA(t){return TA()&&t instanceof Blob}function TA(){return"undefined"!=typeof Blob}function IA(t,e,n,r){if(r<e)throw new Kk(Yk,"Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw new Kk(Yk,"Invalid value for '"+t+"'. Expected "+n+" or less.")}function kA(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function AA(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=kA();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(TA())return new Blob(t);throw new Kk(Zk,"This browser doesn't seem to support creating Blobs")}var PA=function(){function t(t,e){var n=0,r="";CA(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(CA(this.data_)){var r=(s=e,o=n,(i=this.data_).webkitSlice?i.webkitSlice(s,o):i.mozSlice?i.mozSlice(s,o):i.slice?i.slice(s,o):null);return null===r?null:new t(r)}var i,s,o;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(TA()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(AA.apply(null,r))}var i=e.map(function(t){return OA(t)?lA(aA.RAW,t).data:t.data_}),s=0;i.forEach(function(t){s+=t.byteLength});var o=new Uint8Array(s),a=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)o[a++]=t[e]}),new t(o,!0)},t.prototype.uploadData=function(){return this.data_},t}(),RA=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(jb){return new t(e,"")}if(""===n.path)return n;throw new Kk("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(t){t.path_=decodeURIComponent(t.path)}for(var o=Wk.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:s}],u=0;u<a.length;u++){var l=a[u],c=l.regex.exec(e);if(c){var h=c[l.indices.path];h||(h=""),n=new t(c[l.indices.bucket],h),l.postModify(n);break}}if(null==n)throw function(t){return new Kk("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function DA(t){var e,n;try{e=JSON.parse(t)}catch(jb){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function jA(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function NA(t){return"https://"+Wk+"/v0"+t}function LA(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function MA(t,e){return e}var UA=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||MA}}(),FA=null;function VA(){if(FA)return FA;var t=[];t.push(new UA("bucket")),t.push(new UA("generation")),t.push(new UA("metageneration")),t.push(new UA("name","fullPath",!0));var e=new UA("name");e.xform=function(t,e){return function(t){return!OA(t)||t.length<2?t:jA(t)}(e)},t.push(e);var n=new UA("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new UA("timeCreated")),t.push(new UA("updated")),t.push(new UA("md5Hash",null,!0)),t.push(new UA("cacheControl",null,!0)),t.push(new UA("contentDisposition",null,!0)),t.push(new UA("contentEncoding",null,!0)),t.push(new UA("contentLanguage",null,!0)),t.push(new UA("contentType",null,!0)),t.push(new UA("metadata","customMetadata",!0)),FA=t}function BA(t,e,n){var r=DA(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,s=0;s<i;s++){var o=n[s];r[o.local]=o.xform(r,e[o.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new RA(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function HA(t,e){for(var n={},r=e.length,i=0;i<r;i++){var s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}var zA=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function qA(t){if(!t)throw Jk()}function GA(t,e){return function(n,r){var i=BA(t,r,e);return qA(null!==i),i}}function $A(t){return function(e,n){var r;return(r=401===e.getStatus()?new Kk("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new Kk("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new Kk("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function WA(t){var e=$A(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new Kk("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function KA(t,e,n){var r=NA(e.fullServerUrl()),i=t.maxOperationRetryTime,s=new zA(r,"GET",GA(t,n),i);return s.errorHandler=WA(e),s}function QA(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var YA=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function ZA(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(jb){qA(!1)}return qA(!!n&&-1!==(e||["active"]).indexOf(n)),n}var XA=262144,JA=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}(),tP=function(){return function(t,e,n,r,i,s){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=s}}();function eP(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var nP=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=VA(),this._resumable=this._shouldDoResumable(this._blob),this._state=fA,this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t.codeEquals(Qk)?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition(vA))},this._metadataErrorHandler=function(t){r._request=void 0,t.codeEquals(Qk)?r.completeTransitions_():(r._error=t,r._transition(vA))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){this._state===fA&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage.getAuthToken().then(function(n){switch(e._state){case fA:t(n);break;case yA:e._transition(bA);break;case pA:e._transition(mA)}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),o=QA(e,r,i),a={name:o.fullPath},u=NA(s),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},c=HA(o,n),h=new zA(u,"POST",function(t){var e;ZA(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(jb){qA(!1)}return qA(OA(e)),e},t.maxUploadRetryTime);return h.urlParams=a,h.headers=l,h.body=c,h.errorHandler=$A(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n){var r=function(t,e,n,r){var i=new zA(n,"POST",function(t){var e=ZA(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(jb){qA(!1)}n||qA(!1);var i=Number(n);return qA(!isNaN(i)),new YA(i,r.size(),"final"===e)},t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=$A(e),i}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage.makeRequest(r,n);t._request=i,i.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=XA*this._chunkMultiplier,n=new YA(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i){var s;try{s=function(t,e,n,r,i,s,o,a){var u=new YA(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Kk("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var l=u.total-u.current,c=l;i>0&&(c=Math.min(c,i));var h=u.current,d={"X-Goog-Upload-Command":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},f=r.slice(h,h+c);if(null===f)throw eA();var p=new zA(n,"POST",function(t,n){var i,o=ZA(t,["active","final"]),a=u.current+c,l=r.size();return i="final"===o?GA(e,s)(t,n):null,new YA(a,l,"final"===o,i)},e.maxUploadRetryTime);return p.headers=d,p.body=f.uploadData(),p.progressCallback=a||null,p.errorHandler=$A(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(jb){return t._error=jb,void t._transition(vA)}var o=t._ref.storage.makeRequest(s,i);t._request=o,o.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition(gA)):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){XA*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e){var n=KA(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition(gA)},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();o["Content-Type"]="multipart/related; boundary="+a;var u=QA(e,r,i),l=HA(u,n),c=PA.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+l+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===c)throw eA();var h={name:u.fullPath},d=NA(s),f=t.maxUploadRetryTime,p=new zA(d,"POST",GA(t,n),f);return p.urlParams=h,p.headers=o,p.body=c.uploadData(),p.errorHandler=$A(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition(gA)},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case yA:case pA:this._state=t,void 0!==this._request&&this._request.cancel();break;case fA:var e=this._state===mA;this._state=t,e&&(this._notifyObservers(),this._start());break;case mA:this._state=t,this._notifyObservers();break;case bA:this._error=tA(),this._state=t,this._notifyObservers();break;case vA:case gA:this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case pA:this._transition(mA);break;case yA:this._transition(bA);break;case fA:this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=wA(this._state);return new tP(this._transferred,this._blob.size(),t,this._metadata,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,s=new JA(e,n,r);return this._addObserver(s),function(){i._removeObserver(s)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(wA(this._state)){case _A.SUCCESS:eP(this._resolve.bind(null,this.snapshot))();break;case _A.CANCELED:case _A.ERROR:eP(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(wA(this._state)){case _A.RUNNING:case _A.PAUSED:t.next&&eP(t.next.bind(t,this.snapshot))();break;case _A.SUCCESS:t.complete&&eP(t.complete.bind(t))();break;case _A.CANCELED:case _A.ERROR:t.error&&eP(t.error.bind(t,this._error))();break;default:t.error&&eP(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t=this._state===mA||this._state===pA;return t&&this._transition(fA),t},t.prototype.pause=function(){var t=this._state===fA;return t&&this._transition(pA),t},t.prototype.cancel=function(){var t=this._state===fA||this._state===pA;return t&&this._transition(yA),t},t}(),rP=function(){function t(t,e){this._service=t,this._location=e instanceof RA?e:RA.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype.newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new RA(this._location.bucket,"");return this.newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return jA(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new RA(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw iA(t)},t}();function iP(t){var e={prefixes:[],items:[]};return sP(t,e).then(function(){return e})}function sP(t,e,n){return Object(_u.b)(this,void 0,void 0,function(){var r,i,s;return Object(_u.d)(this,function(o){switch(o.label){case 0:return[4,oP(t,{pageToken:n})];case 1:return r=o.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(s=e.items).push.apply(s,r.items),null==r.nextPageToken?[3,3]:[4,sP(t,e,r.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function oP(t,e){return Object(_u.b)(this,void 0,void 0,function(){var n,r,i;return Object(_u.d)(this,function(s){switch(s.label){case 0:return null!=e&&"number"==typeof e.maxResults&&IA("options.maxResults",1,1e3,e.maxResults),[4,t.storage.getAuthToken()];case 1:return n=s.sent(),i=function(t,e,n,r,i){var s={};s.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var o=NA(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime,u=new zA(o,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=DA(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,s=n.prefixes;i<s.length;i++){var o=s[i].replace(/\/$/,""),a=t.makeStorageReference(new RA(e,o));r.prefixes.push(a)}if(n.items)for(var u=0,l=n.items;u<l.length;u++)a=t.makeStorageReference(new RA(e,l[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return qA(null!==i),i}}(t,e.bucket),a);return u.urlParams=s,u.errorHandler=$A(e),u}(t.storage,t._location,"/",(r=e||{}).pageToken,r.maxResults),[2,t.storage.makeRequest(i,n).getPromise()]}})})}function aP(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new RA(t._location.bucket,n);return new rP(t.storage,r)}var uP=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),lP=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate),this._snapshot=new uP(this._delegate.snapshot,this,this._ref)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return this._snapshot},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new uP(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,s=void 0;return e&&(s="function"==typeof e?function(t){return e(new uP(t,i,i._ref))}:{next:e.next?function(t){return e.next(new uP(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,n||void 0,r||void 0)},t}(),cP=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new hP(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new hP(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),hP=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(aP(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new lP(function(t,e,n){return void 0===n&&(n=null),t._throwIfRoot("uploadBytesResumable"),new nP(t,new PA(e),n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){return void 0===e&&(e=aA.RAW),this._throwIfRoot("putString"),new lP(function(t,e,n,r){void 0===n&&(n=aA.RAW),t._throwIfRoot("putString");var i=lA(n,e),s=Object(_u.a)({},r);return null==s.contentType&&null!=i.contentType&&(s.contentType=i.contentType),new nP(t,new PA(i.data,!0),s)}(this._delegate,t,e,n),this)},t.prototype.listAll=function(){var t=this;return iP(this._delegate).then(function(e){return new cP(e,t.storage)})},t.prototype.list=function(t){var e=this;return oP(this._delegate,t).then(function(t){return new cP(t,e.storage)})},t.prototype.getMetadata=function(){return function(t){return Object(_u.b)(this,void 0,void 0,function(){var e,n;return Object(_u.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=KA(t.storage,t._location,VA()),[2,t.storage.makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return Object(_u.b)(this,void 0,void 0,function(){var n,r;return Object(_u.d)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage.getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=NA(e.fullServerUrl()),s=HA(n,r),o=t.maxOperationRetryTime,a=new zA(i,"PATCH",GA(t,r),o);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=s,a.errorHandler=WA(e),a}(t.storage,t._location,e,VA()),[2,t.storage.makeRequest(r,n).getPromise()]}})})}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return Object(_u.b)(this,void 0,void 0,function(){var e,n;return Object(_u.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=NA(e.fullServerUrl()),i=t.maxOperationRetryTime,s=new zA(r,"GET",function(t,e){return function(n,r){var i=BA(t,r,e);return qA(null!==i),function(t,e){var n=DA(e);if(null===n)return null;if(!OA(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map(function(e){var n=t.fullPath;return NA("/b/"+i(t.bucket)+"/o/"+i(n))+LA({alt:"media",token:e})})[0]}(i,r)}}(t,n),i);return s.errorHandler=WA(e),s}(t.storage,t._location,VA()),[2,t.storage.makeRequest(n,e).getPromise().then(function(t){if(null===t)throw new Kk("no-download-url","The given file does not have any download URLs.");return t})]}})})}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return Object(_u.b)(this,void 0,void 0,function(){var e,n;return Object(_u.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=NA(e.fullServerUrl()),r=new zA(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=WA(e),r}(t.storage,t._location),[2,t.storage.makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw iA(t)},t}(),dP=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),fP=function(){function t(t,e,n,r,i,s,o,a,u,l,c){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=s.slice(),this.callback_=o,this.errorCallback_=a,this.progressCallback_=l,this.timeout_=u,this.pool_=c,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,s=t.reject_,o=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(o,o.getResponseText());void 0!==a?i(a):i()}catch(jb){s(jb)}else null!==o?((r=Jk()).serverResponse=o.getResponseText(),s(t.errorCallback_?t.errorCallback_(o,r):r)):s(r=n.canceled?t.appDelete_?rA():tA():new Kk("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new pP(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,s=null,o=!1,a=0;function u(){return 2===a}var l=!1;function c(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];l||(l=!0,n.apply(null,t))}function h(e){s=setTimeout(function(){s=null,function(e,n){if(n)e(!1,new pP(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===EA.NO_ERROR,s=n.getStatus();if(r&&!t.isRetryStatusCode_(s)){var o=-1!==t.successCodes_.indexOf(s);e(!0,new pP(o,n))}else{var a=n.getErrorCode()===EA.ABORT;e(!1,new pP(!1,null,a))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(d,u())},e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!l)if(t)c.call.apply(c,Object(_u.g)([null,t],e));else{var r;u()||o?c.call.apply(c,Object(_u.g)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var f=!1;function p(t){f||(f=!0,l||(null!==s?(t||(a=2),clearTimeout(s),h(0)):t||(a=1)))}return h(0),setTimeout(function(){o=!0,p(!0)},r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),pP=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function mP(t){return/^[A-Za-z]+:\/\//.test(t)}function gP(t,e){if(t instanceof _P){var n=t;if(null==n._bucket)throw new Kk("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new rP(n,n._bucket);return null!=e?gP(r,e):r}if(void 0!==e){if(e.includes(".."))throw nA('`path` param cannot contain ".."');return aP(t,e)}return t}function yP(t,e){if(e&&mP(e)){if(t instanceof _P)return new rP(t,e);throw nA("To use ref(service, url), the first argument must be a Storage instance.")}return gP(t,e)}var bP,vP,_P=function(){function t(t,e,n,r){var i,s;this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?RA.makeFromBucketSpec(r):null==(s=null==(i=this.app.options)?void 0:i.storageBucket)?null:RA.makeFromBucketSpec(s)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){IA("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){IA("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype.getAuthToken=function(){return Object(_u.b)(this,void 0,void 0,function(){var t,e;return Object(_u.d)(this,function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype.makeStorageReference=function(t){return new rP(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this._deleted)return new dP(rA());var r=function(t,e,n,r){var i=LA(t.urlParams),s=t.url+i,o=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(o,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(o,n),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==mi.a?mi.a.SDK_VERSION:"AppManager")}(o),new fP(s,t.method,o,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool);return this._requests.add(r),r.getPromise().then(function(){return n._requests.delete(r)},function(){return n._requests.delete(r)}),r},t}(),wP=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(mP(t))throw nA("ref() expected a child path but got a URL, use refFromURL instead.");return new hP(yP(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!mP(t))throw nA("refFromURL() expected a full URL but got a child path, use ref() instead.");try{RA.makeFromUrl(t)}catch(jb){throw nA("refFromUrl() expected a valid full URL but got an invalid one.")}return new hP(yP(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}();function EP(t){const e=function(t){return new wt.a(e=>{const n=t=>e.next(t);n(t.snapshot);const r=t.on("state_changed",n);return t.then(t=>{n(t),e.complete()},r=>{n(t.snapshot),(t=>{e.error(t)})(r)}),function(){r()}}).pipe(Ye(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object(St.a)(t=>t.bytesTransferred/t.totalBytes*100))}}function SP(t,e,n){return{getDownloadURL:()=>Object(cn.a)(void 0).pipe(Object(Gn.b)(e.outsideAngular),Bn(()=>t.getDownloadURL()),n),getMetadata:()=>Object(cn.a)(void 0).pipe(Object(Gn.b)(e.outsideAngular),Bn(()=>t.getMetadata()),n),delete:()=>Object(Ot.a)(t.delete()),child:r=>SP(t.child(r),e,n),updateMetadata:e=>Object(Ot.a)(t.updateMetadata(e)),put:(e,n)=>EP(t.put(e,n)),putString:(e,n,r)=>EP(t.putString(e,n,r)),listAll:()=>Object(Ot.a)(t.listAll())}}vP={TaskState:_A,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:aA,Storage:_P,Reference:hP},(bP=mi.a).INTERNAL.registerComponent(new Nb.a("storage",function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new wP(n,new _P(n,r,new xA,e))},"PUBLIC").setServiceProps(vP).setMultipleInstances(!0)),bP.registerVersion("@firebase/storage","0.4.2");const xP=new r.q("angularfire2.storageBucket"),OP=new r.q("angularfire2.storage.maxUploadRetryTime"),CP=new r.q("angularfire2.storage.maxOperationRetryTime");let TP=(()=>{class t{constructor(t,e,n,r,i,s,o){this.schedulers=new fi.d(i),this.keepUnstableUntilFirst=Object(fi.h)(this.schedulers);const a=Object(fi.g)(t,i,e);this.storage=Object(fi.f)(`${a.name}.storage.${n}`,"AngularFireStorage",a,()=>{const t=i.runOutsideAngular(()=>a.storage(n||void 0));return s&&t.setMaxUploadRetryTime(s),o&&t.setMaxOperationRetryTime(o),t},[s,o])}ref(t){return SP(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return SP(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return SP(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(fi.c),r.Ub(fi.b,8),r.Ub(xP,8),r.Ub(r.B),r.Ub(r.z),r.Ub(OP,8),r.Ub(CP,8))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Ub)(fi.c),Object(r.Ub)(fi.b,8),Object(r.Ub)(xP,8),Object(r.Ub)(r.B),Object(r.Ub)(r.z),Object(r.Ub)(OP,8),Object(r.Ub)(CP,8))},token:t,providedIn:"any"}),t})(),IP=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)}}),t})(),kP=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[TP],imports:[IP]}),t})(),AP=(()=>{class t{}return t.\u0275mod=r.Jb({type:t,bootstrap:[zk]}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[_t,Nk,vE,$k,WS,Hk,$e,We,li,oO,fi.a.initializeApp(i),bv,nv,kP]]}),t})();Object(r.T)(),bt().bootstrapModule(AP).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(s.a)(t)(e)}}},[[0,0]]]);